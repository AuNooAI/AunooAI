import{r as h,c as Y,j as e,I as fn,C as Lt,a as ie,b as Dt,R as _e,u as X,d as Ct,e as $t,P as G,f as ae,g as fs,h as Xt,i as zt,k as W,l as gn,m as vn,n as yn,o as bn,F as jn,D as Nn,p as Ze,q as Je,B as K,s as et,t as tt,X as wn,S as gs,v as _t,w as Sn,x as kn,y as Cn,z as vt,A as Yt,E as qe,G as _n,T as An,H as Tn}from"./index-DB6eP1-T.js";const pe="";async function fe(t,s={}){try{const n=await fetch(t,{...s,credentials:"include",headers:{"Content-Type":"application/json",...s.headers}});if(n.status===401||n.status===403)throw window.location.href="/login",new Error("Authentication required");if(!n.ok){const r=await n.json().catch(()=>({detail:"Unknown error"}));throw new Error(r.detail||`HTTP ${n.status}: ${n.statusText}`)}return await n.json()}catch(n){throw console.error("API Error:",n),n}}async function Pn(t){const s=new URLSearchParams;s.append("model",t.model),s.append("timeframe_days",String(t.timeframe_days||365)),s.append("analysis_depth",t.analysis_depth||"standard"),s.append("sample_size_mode",t.sample_size_mode||"auto"),s.append("consistency_mode",t.consistency_mode||"balanced"),s.append("enable_caching",String(t.enable_caching!==!1)),s.append("cache_duration_hours",String(t.cache_duration_hours||24)),t.custom_limit&&s.append("custom_limit",String(t.custom_limit)),t.profile_id&&s.append("profile_id",String(t.profile_id)),t.tab&&s.append("tab",t.tab);const n=`${pe}/api/trend-convergence/${encodeURIComponent(t.topic)}?${s}`;return fe(n)}async function In(){return(await fe(`${pe}/api/topics`)).map(s=>({name:s.name,display_name:s.display_name||s.name,article_count:s.article_count}))}async function En(){return(await fe(`${pe}/api/organizational-profiles`)).profiles||[]}async function Rn(){try{const t=await fe(`${pe}/api/available_models`),s={"gpt-3.5-turbo":16385,"gpt-4":8192,"gpt-4-turbo":128e3,"gpt-4o":128e3,"gpt-4o-mini":128e3,"gpt-4.1":1e6,"gpt-4.1-mini":1e6,"gpt-4.1-nano":1e6,"claude-3-opus":2e5,"claude-3-sonnet":2e5,"claude-3-haiku":2e5,"claude-3.5-sonnet":2e5,"claude-4":2e5,"gemini-pro":32768,"gemini-1.5-pro":2097152,default:128e3};return t.map(n=>({id:n.name,name:`${n.name} (${n.provider})`,context_limit:s[n.name]||s.default}))}catch(t){return console.error("Error fetching models:",t),[{id:"gpt-4o-mini",name:"GPT-4o Mini (openai)",context_limit:128e3},{id:"gpt-4.1-mini",name:"GPT-4.1 Mini (openai)",context_limit:1e6},{id:"claude-3.5-sonnet",name:"Claude 3.5 Sonnet (anthropic)",context_limit:2e5}]}}async function On(t){return fe(`${pe}/api/onboarding/validate-api-key`,{method:"POST",body:JSON.stringify(t)})}async function Mn(){return fe(`${pe}/api/onboarding/check-keys`)}async function vs(t){return fe(`${pe}/api/onboarding/suggest-topic-attributes`,{method:"POST",body:JSON.stringify(t)})}async function Ln(t){return fe(`${pe}/api/onboarding/save-topic`,{method:"POST",body:JSON.stringify(t)})}async function Dn(){return fe(`${pe}/api/onboarding/complete`,{method:"POST"})}const Qt={topic:"",timeframe_days:365,model:"gpt-4o",analysis_depth:"standard",sample_size_mode:"auto",consistency_mode:"balanced",enable_caching:!0,cache_duration_hours:24},Be={CONFIG:"trendConvergence_config",DATA:"trendConvergence_data",TOPIC:"trendConvergence_topic"};function $n(){const t=()=>{try{const l=localStorage.getItem(Be.CONFIG);if(l)return{...Qt,...JSON.parse(l)}}catch(l){console.error("Error loading stored config:",l)}return Qt},s=()=>{try{const l=localStorage.getItem(Be.DATA);if(l)return JSON.parse(l)}catch(l){console.error("Error loading stored data:",l)}return null},[n,r]=h.useState(s),[i,o]=h.useState([]),[a,c]=h.useState([]),[d,x]=h.useState([]),[m,f]=h.useState(t),[j,u]=h.useState(!1),[y,p]=h.useState(null);h.useEffect(()=>{try{localStorage.setItem(Be.CONFIG,JSON.stringify(m)),m.topic&&localStorage.setItem(Be.TOPIC,m.topic)}catch(l){console.error("Error saving config:",l)}},[m]),h.useEffect(()=>{b()},[]);const b=async()=>{try{const[l,v,k]=await Promise.all([In(),En(),Rn()]);o(l),c(v),x(k),l.length>0&&!m.topic&&f(S=>({...S,topic:l[0].name})),k.length>0&&!m.model&&f(S=>({...S,model:k[0].id}))}catch(l){console.error("Error loading initial data:",l),p(l instanceof Error?l.message:"Failed to load initial data")}},N=h.useCallback(async(l=!1)=>{if(!m.topic){p("Please select a topic");return}if(!m.model){p("Please select a model");return}u(!0),p(null);try{const v=l?{...m,enable_caching:!1}:m,k=await Pn(v);r(k);try{localStorage.setItem(Be.DATA,JSON.stringify(k))}catch(S){console.error("Error saving analysis data:",S)}}catch(v){console.error("Error generating analysis:",v),p(v instanceof Error?v.message:"Failed to generate analysis")}finally{u(!1)}},[m]),g=h.useCallback(l=>{f(v=>({...v,...l}))},[]),w=h.useCallback(()=>{p(null)},[]);return{data:n,topics:i,profiles:a,models:d,config:m,loading:j,error:y,generateAnalysis:N,updateConfig:g,clearError:w}}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Fn=Y("check",zn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bn=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Hn=Y("chevron-left",Bn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Wn=Y("chevron-right",Vn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ys=Y("chevron-up",Kn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Xe=Y("circle-alert",Gn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yt=Y("circle-check-big",Un);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bt=Y("circle-x",qn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jt=Y("eye-off",Xn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nt=Y("eye",Yn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Zn=Y("image",Qn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ye=Y("loader-circle",Jn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tr=Y("pen",er);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],nr=Y("refresh-cw",sr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],He=Y("target",rr),ir=[{id:"strategic-recommendations",label:"Strategic Recommendations"},{id:"market-signals",label:"Market Signals & Strategic Risks"},{id:"consensus",label:"Consensus Analysis"},{id:"impact-timeline",label:"Impact Timeline"},{id:"future-horizons",label:"Future Horizons"}];function ar({activeTab:t,onTabChange:s}){return e.jsx("div",{className:"flex gap-0 border-b border-gray-200",children:ir.map(n=>e.jsxs("button",{onClick:()=>s(n.id),className:`
            px-6 py-3 text-sm font-medium transition-all relative
            ${t===n.id?"text-gray-900":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
          `,children:[n.label,t===n.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-pink-500"})]},n.id))})}const or={green:"bg-green-500",yellow:"bg-amber-500",red:"bg-rose-500"};function wt({startYear:t,endYear:s,color:n}){const a=(t-2025)/15*100,c=(s-t)/15*100;return e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:2025}),e.jsx("span",{className:"text-xs text-gray-600",children:2040})]}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:`absolute h-full ${or[n]} rounded-full transition-all`,style:{left:`${a}%`,width:`${c}%`}})})]})}const Zt={purple:{bg:"bg-purple-50",border:"border-purple-200",bar:"bg-purple-500",badge:"bg-pink-100 text-pink-700"},orange:{bg:"bg-orange-50",border:"border-orange-200",bar:"bg-orange-500",badge:"bg-pink-100 text-pink-700"},blue:{bg:"bg-blue-50",border:"border-blue-200",bar:"bg-blue-500",badge:"bg-pink-100 text-pink-700"},green:{bg:"bg-green-50",border:"border-green-200",bar:"bg-green-500",badge:"bg-pink-100 text-pink-700"},pink:{bg:"bg-pink-50",border:"border-pink-200",bar:"bg-pink-500",badge:"bg-pink-100 text-pink-700"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",bar:"bg-indigo-500",badge:"bg-pink-100 text-pink-700"}};function lr({name:t,description:s,consensusPercentage:n,timelineStartYear:r,timelineEndYear:i,optimisticOutlier:o,pessimisticOutlier:a,strategicImplication:c,keyArticles:d=[],color:x,consensusType:m,sentimentDistribution:f,timelineConsensus:j,articlesAnalyzed:u,actionItems:y,timeframeAnalysis:p}){const b=Zt[x]||Zt.purple,[N,g]=h.useState(!1),w=i-r;let l=20,v=40;j&&(j.includes("Immediate")?(l=2,v=18):j.includes("Short-term")?(l=22,v=26):j.includes("Mid-term")?(l=50,v=24):j.includes("Long-term")&&(l=76,v=22));const k=()=>j?j.toUpperCase():r<=2025&&i<=2027?"SHORT-TERM (2025-2027)":r<=2027&&i<=2030?"MID-TERM (2027-2030)":r>=2030?"LONG-TERM (2030-2035+)":r===2025&&i===2025?"IMMEDIATE (2025)":`${r}-${i}`,S=(o.year-r)/w*100,_=(a.year-r)/w*100,[M,D]=h.useState(null);return e.jsxs("div",{className:`${b.bg} ${b.border} border rounded-xl p-6 mb-4 cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>g(!N),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-950 mb-1",children:t}),e.jsx("p",{className:"text-sm text-gray-700",children:s})]}),e.jsxs("span",{className:`${b.badge} px-3 py-1 rounded-full text-xs font-medium ml-4 shrink-0`,children:[n,"% Consensus"]})]}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mb-2",children:[e.jsx("span",{children:r}),e.jsx("span",{children:Math.floor((r+i)/2)}),e.jsx("span",{children:i}),e.jsxs("span",{children:[i,"+"]})]}),e.jsxs("div",{className:"relative h-8",children:[e.jsx("div",{className:"absolute top-3 left-0 right-0 h-2 bg-gray-200 rounded-full"}),e.jsx("div",{className:`absolute top-3 h-2 ${b.bar} rounded-full`,style:{left:`${l}%`,width:`${v}%`},title:`Consensus Timeline: ${k()}
${n}% of sources agree on this timeframe`,children:e.jsx("div",{className:"absolute -top-2 left-0 right-0 text-center",children:e.jsxs("span",{className:"text-xs font-medium text-gray-800 bg-white px-2 py-0.5 rounded shadow-sm",children:[n,"% â€¢ ",k()]})})}),e.jsx("div",{className:"absolute top-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow-md cursor-help hover:scale-125 transition-transform",style:{left:`${S}%`,transform:"translateX(-50%)"},title:`Optimistic Outlier (${o.year})
${o.description}
${o.source_percentage}% of sources`,onClick:C=>C.stopPropagation()}),e.jsx("div",{className:"absolute top-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white shadow-md cursor-help hover:scale-125 transition-transform",style:{left:`${_}%`,transform:"translateX(-50%)"},title:`Pessimistic Outlier (${a.year})
${a.description}
${a.source_percentage}% of sources`,onClick:C=>C.stopPropagation()}),e.jsx("div",{className:"absolute top-1 right-0 w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow-md transform translate-x-1/2"})]})]}),N&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(m||f||u)&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m&&e.jsxs("div",{children:[e.jsx("h6",{className:"text-xs font-bold text-gray-950 mb-2 uppercase",children:"Consensus Type"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:m}),e.jsxs("div",{className:"text-xs text-gray-600",children:[n,"% confidence level",u&&` â€¢ Based on ${u} articles`]})]}),f&&e.jsxs("div",{children:[e.jsx("h6",{className:"text-xs font-bold text-gray-950 mb-2 uppercase",children:"Sentiment Distribution"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-700",children:"Positive:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[f.positive,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-700",children:"Neutral:"}),e.jsxs("span",{className:"font-semibold text-gray-600",children:[f.neutral,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-700",children:"Critical:"}),e.jsxs("span",{className:"font-semibold text-red-600",children:[f.critical,"%"]})]})]}),e.jsxs("div",{className:"mt-2 h-2 flex rounded-full overflow-hidden",children:[e.jsx("div",{className:"bg-green-500",style:{width:`${f.positive}%`}}),e.jsx("div",{className:"bg-gray-400",style:{width:`${f.neutral}%`}}),e.jsx("div",{className:"bg-red-500",style:{width:`${f.critical}%`}})]})]})]}),j&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h6",{className:"text-xs font-bold text-gray-950 mb-1 uppercase",children:"Timeline Consensus"}),e.jsx("div",{className:"text-sm text-gray-800",children:j}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Majority of sources expect impacts within this timeframe"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mt-1 shrink-0"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-semibold text-gray-950 mb-0.5",children:["Optimistic Outlier (",o.year,")"]}),e.jsx("div",{className:"text-xs text-gray-700 mb-0.5",children:o.description}),e.jsxs("div",{className:"text-xs text-gray-600",children:[o.source_percentage,"% of sources"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mt-1 shrink-0"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-semibold text-gray-950 mb-0.5",children:["Pessimistic Outlier (",a.year,")"]}),e.jsx("div",{className:"text-xs text-gray-700 mb-0.5",children:a.description}),e.jsxs("div",{className:"text-xs text-gray-600",children:[a.source_percentage,"% of sources"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-white border-2 border-gray-300 flex items-center justify-center shrink-0",children:e.jsx(fn,{className:"w-3 h-3 text-gray-700"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-950 mb-0.5",children:"Strategic Implication"}),e.jsx("div",{className:"text-xs text-gray-700",children:c})]})]})]}),d.length>0&&e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-bold text-gray-950 mb-3",children:"Key Supporting Articles"}),e.jsx("div",{className:"space-y-2",children:d.map((C,O)=>{const E=C.sentiment==="positive"?"bg-green-100 text-green-700":C.sentiment==="critical"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-gray-950 hover:text-blue-600 flex-1",children:C.title}),C.sentiment&&e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium shrink-0 ${E}`,children:C.sentiment})]}),e.jsx("p",{className:"text-xs text-gray-700 mb-1",children:C.summary}),e.jsxs("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"External Link"]})]},O)})})]}),y&&y.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h6",{className:"text-sm font-bold text-gray-950 mb-3",children:"ðŸŽ¯ Action Items"}),e.jsx("div",{className:"space-y-3",children:y.map((C,O)=>{const E=C.priority==="High"?"bg-red-100 text-red-700 border-red-200":C.priority==="Medium"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-green-100 text-green-700 border-green-200";return e.jsxs("div",{className:`p-3 ${E} rounded-lg border`,children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${E}`,children:C.priority}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:C.timeframe})]}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:C.action}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Owner:"})," ",C.owner]}),C.success_metrics&&C.success_metrics.length>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Metrics:"})," ",C.success_metrics.join(", ")]})]})]},O)})})]}),p&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h6",{className:"text-sm font-bold text-gray-950 mb-3",children:"ðŸ“… Timeframe Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-bold text-blue-900 mb-1",children:"âš¡ IMMEDIATE (0-6 months)"}),e.jsx("div",{className:"text-sm text-gray-800",children:p.immediate})]}),e.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-bold text-purple-900 mb-1",children:"ðŸ“ˆ SHORT-TERM (6-18 months)"}),e.jsx("div",{className:"text-sm text-gray-800",children:p.short_term})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 border border-indigo-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-bold text-indigo-900 mb-1",children:"ðŸ”® MID-TERM (18-36 months)"}),e.jsx("div",{className:"text-sm text-gray-800",children:p.mid_term})]}),p.key_milestones&&p.key_milestones.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-bold text-gray-900 mb-2",children:"ðŸŽ¯ Key Milestones"}),e.jsx("div",{className:"space-y-2",children:p.key_milestones.map((C,O)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-12 text-xs font-bold text-gray-700 shrink-0",children:C.year}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:C.milestone}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:C.significance})]})]},O))})]})]})]})]}),e.jsx("div",{className:"flex justify-center mt-4",children:N?e.jsx(ys,{className:"w-5 h-5 text-gray-500"}):e.jsx(Lt,{className:"w-5 h-5 text-gray-500"})})]})}const cr=({timelineConsensus:t,optimisticOutliers:s,pessimisticOutliers:n,color:r})=>{const[i,o]=h.useState(null),[a,c]=h.useState(null),d=2024,m=2050-d,f=w=>(w-d)/m*100,j=f(t.consensus_window.start_year),y=f(t.consensus_window.end_year)-j,p=n[0],b=s[0],N=(w,l)=>{o(w),c({x:l.clientX,y:l.clientY})},g=()=>{o(null),c(null)};return e.jsxs("div",{className:"timeline-visualization-simple",children:[e.jsxs("div",{className:"timeline-bar-container",children:[e.jsx("div",{className:"timeline-line"}),e.jsx("div",{className:"timeline-year-label",style:{left:"0%"},children:"2024"}),e.jsx("div",{className:"timeline-year-label",style:{left:"23%"},children:"2030"}),e.jsx("div",{className:"timeline-year-label",style:{left:"62%"},children:"2040"}),e.jsx("div",{className:"timeline-year-label",style:{left:"100%"},children:"2050+"}),p&&e.jsx("div",{className:"timeline-dot pessimistic-dot",style:{left:`${f(p.year)}%`},onMouseEnter:w=>N(p,w),onMouseLeave:g}),e.jsx("div",{className:"timeline-consensus-bar",style:{left:`${j}%`,width:`${y}%`,backgroundColor:r},children:"Consensus"}),b&&e.jsx("div",{className:"timeline-dot optimistic-dot",style:{left:`${f(b.year)}%`},onMouseEnter:w=>N(b,w),onMouseLeave:g})]}),i&&a&&e.jsxs("div",{className:"outlier-tooltip-fixed",style:{left:`${a.x}px`,top:`${a.y-60}px`},children:[e.jsxs("div",{style:{fontWeight:600,marginBottom:"4px"},children:[i.scenario," (",i.year,")"]}),e.jsxs("div",{style:{fontSize:"11px",opacity:.9},children:[i.source_percentage,"% of sources"]})]})]})},dr=({distribution:t})=>e.jsxs("div",{className:"sentiment-chart-thin",children:[e.jsx("div",{style:{fontSize:"11px",fontWeight:600,marginBottom:"6px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Sentiment Distribution"}),e.jsxs("div",{className:"sentiment-line-container",children:[t.positive>0&&e.jsx("div",{className:"sentiment-segment sentiment-positive",style:{width:`${t.positive}%`},title:`Positive: ${t.positive}%`}),t.neutral>0&&e.jsx("div",{className:"sentiment-segment sentiment-neutral",style:{width:`${t.neutral}%`},title:`Neutral: ${t.neutral}%`}),t.critical>0&&e.jsx("div",{className:"sentiment-segment sentiment-critical",style:{width:`${t.critical}%`},title:`Critical: ${t.critical}%`})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px",fontSize:"11px",color:"#9ca3af"},children:[e.jsxs("span",{style:{color:"#10b981"},children:["âœ“ ",t.positive,"%"]}),e.jsxs("span",{style:{color:"#6b7280"},children:["âŠ™ ",t.neutral,"%"]}),e.jsxs("span",{style:{color:"#ef4444"},children:["âœ— ",t.critical,"%"]})]})]}),mr=({windows:t})=>{const s=r=>`decision-window urgency-${r.toLowerCase()}`,n=r=>`urgency-badge urgency-${r.toLowerCase()}`;return e.jsxs("div",{className:"decision-windows",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("span",{children:"ðŸŽ¯"}),e.jsx("span",{children:"Key Decision Windows"})]}),t.map((r,i)=>e.jsxs("div",{className:s(r.urgency),children:[e.jsxs("div",{className:"decision-header",children:[e.jsx("div",{className:"decision-action",children:r.action}),e.jsx("div",{className:n(r.urgency),children:r.urgency})]}),e.jsx("div",{className:"decision-rationale",children:r.rationale}),e.jsxs("div",{className:"decision-meta",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Timeframe:"})," ",r.window]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Owner:"})," ",r.owner]})]}),r.dependencies&&r.dependencies.length>0&&e.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:[e.jsx("strong",{children:"Dependencies:"})," ",r.dependencies.join(", ")]}),r.success_metrics&&r.success_metrics.length>0&&e.jsxs("div",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:[e.jsx("strong",{children:"Success Metrics:"})," ",r.success_metrics.join(", ")]})]},i))]})},Jt=["#a855f7","#f97316","#3b82f6","#10b981","#ec4899","#6366f1"],xr=({category:t,color:s,index:n=0})=>{const[r,i]=h.useState(!1),o=t["1_consensus_type"],a=t["2_timeline_consensus"],c=t["3_confidence_level"],d=t["4_optimistic_outliers"]||[],x=t["5_pessimistic_outliers"]||[],m=t["6_key_articles"]||[],f=t["7_strategic_implications"],j=t["8_key_decision_windows"]||[],u=t["9_timeframe_analysis"],y=s||Jt[n%Jt.length],p=c.majority_agreement,b=()=>{i(!r)},N=g=>`metric-badge ${{Strong:"badge-strong",Moderate:"badge-moderate",Emerging:"badge-emerging"}[g]||"badge-moderate"}`;return e.jsxs("div",{className:`consensus-card-simple ${r?"expanded":""}`,onClick:b,children:[e.jsxs("div",{className:"consensus-card-header",children:[e.jsxs("div",{className:"consensus-card-title-section",children:[e.jsx("div",{className:"consensus-card-icon",style:{backgroundColor:y},children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white",stroke:"none",children:[e.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 2.38 1.19 4.47 3 5.74V17c0 .55.45 1 1 1h6c.55 0 1-.45 1-1v-2.26c1.81-1.27 3-3.36 3-5.74 0-3.87-3.13-7-7-7zm0 2c2.76 0 5 2.24 5 5 0 1.91-1.08 3.58-2.66 4.42l-.34.22V17h-4v-3.36l-.34-.22C8.08 12.58 7 10.91 7 9c0-2.76 2.24-5 5-5z"}),e.jsx("path",{d:"M9 9.5c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm6 0c-.28 0-.5.22-.5.5s.22.5.5.5.5-.22.5-.5-.22-.5-.5-.5zm-3 2c-1.1 0-2 .9-2 2h4c0-1.1-.9-2-2-2z"})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"consensus-card-title",children:t.category_name}),e.jsx("p",{className:"consensus-card-subtitle",children:t.category_description})]})]}),e.jsxs("div",{className:"consensus-card-actions",children:[e.jsxs("div",{className:"consensus-percentage-badge",style:{backgroundColor:y},children:[p,"% Consensus"]}),e.jsx("div",{className:`expand-arrow ${r?"rotated":""}`,children:"â–¼"})]})]}),e.jsx("div",{className:"consensus-card-timeline",children:e.jsx(cr,{timelineConsensus:a,optimisticOutliers:d,pessimisticOutliers:x,color:y})}),r&&e.jsxs("div",{className:"consensus-card-expanded-content",onClick:g=>g.stopPropagation(),children:[e.jsxs("div",{className:"consensus-metrics",children:[e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Consensus Type"}),e.jsx("div",{className:"metric-value",children:o.summary})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Agreement"}),e.jsxs("div",{className:"metric-value",children:[c.majority_agreement,"%"]})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Strength"}),e.jsx("div",{className:N(c.consensus_strength),children:c.consensus_strength})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Evidence Quality"}),e.jsx("div",{className:N(c.evidence_quality),children:c.evidence_quality})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Articles"}),e.jsx("div",{className:"metric-value",children:t.articles_analyzed})]})]}),e.jsx(dr,{distribution:o.distribution}),e.jsxs("div",{className:"strategic-implications-box",children:[e.jsx("div",{className:"section-title-small",children:"ðŸ’¡ Strategic Implications"}),e.jsx("div",{className:"section-content-small",children:f})]}),j.length>0&&e.jsx(mr,{windows:j}),u&&e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("span",{children:"ðŸ“…"}),e.jsx("span",{children:"Timeframe Analysis"})]}),e.jsxs("div",{className:"timeframe-grid",children:[e.jsxs("div",{className:"timeframe-box",children:[e.jsx("div",{className:"timeframe-label",children:"Immediate (0-6 months)"}),e.jsx("div",{className:"timeframe-content",children:u.immediate})]}),e.jsxs("div",{className:"timeframe-box",children:[e.jsx("div",{className:"timeframe-label",children:"Short-term (6-18 months)"}),e.jsx("div",{className:"timeframe-content",children:u.short_term})]}),e.jsxs("div",{className:"timeframe-box",children:[e.jsx("div",{className:"timeframe-label",children:"Mid-term (18-36 months)"}),e.jsx("div",{className:"timeframe-content",children:u.mid_term})]})]}),u.key_milestones&&u.key_milestones.length>0&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",color:"#6b7280"},children:"Key Milestones"}),e.jsx("div",{className:"milestones-list",children:u.key_milestones.map((g,w)=>e.jsxs("div",{className:"milestone-item",children:[e.jsx("div",{className:"milestone-year",children:g.year}),e.jsxs("div",{className:"milestone-info",children:[e.jsx("div",{className:"milestone-title",children:g.milestone}),e.jsx("div",{className:"milestone-significance",children:g.significance})]})]},w))})]})]}),(d.length>0||x.length>0)&&e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("span",{children:"ðŸ”"}),e.jsx("span",{children:"Outlier Perspectives"})]}),e.jsxs("div",{className:"outliers-grid",children:[d.length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",color:"#10b981"},children:"Optimistic Outliers"}),d.map((g,w)=>e.jsxs("div",{className:"outlier-card optimistic",style:{marginBottom:"12px"},children:[e.jsxs("div",{className:"outlier-scenario",children:[g.scenario," (",g.year,")"]}),e.jsx("div",{className:"outlier-details",children:g.details}),e.jsxs("div",{className:"outlier-reference",children:[g.source_percentage,"% of sources â€¢ ",g.reference]})]},w))]}),x.length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",color:"#ef4444"},children:"Pessimistic Outliers"}),x.map((g,w)=>e.jsxs("div",{className:"outlier-card pessimistic",style:{marginBottom:"12px"},children:[e.jsxs("div",{className:"outlier-scenario",children:[g.scenario," (",g.year,")"]}),e.jsx("div",{className:"outlier-details",children:g.details}),e.jsxs("div",{className:"outlier-reference",children:[g.source_percentage,"% of sources â€¢ ",g.reference]})]},w))]})]})]}),m.length>0&&e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("span",{children:"ðŸ“°"}),e.jsx("span",{children:"Key Supporting Articles"})]}),e.jsx("div",{className:"articles-list",children:m.slice(0,5).map((g,w)=>e.jsxs("div",{className:"article-item",children:[e.jsxs("div",{className:"article-title",children:[e.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",children:g.title}),g.sentiment&&e.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",color:g.sentiment==="positive"?"#10b981":g.sentiment==="critical"?"#ef4444":"#6b7280",fontWeight:600,textTransform:"uppercase"},children:g.sentiment})]}),e.jsx("div",{className:"article-summary",children:g.summary})]},w))})]})]})]})},ur={orange:{bg:"bg-orange-100",text:"text-orange-900",bar:"bg-orange-300"},purple:{bg:"bg-purple-100",text:"text-purple-900",bar:"bg-purple-300"},green:{bg:"bg-green-100",text:"text-green-900",bar:"bg-green-300"},blue:{bg:"bg-blue-100",text:"text-blue-900",bar:"bg-blue-300"},pink:{bg:"bg-pink-100",text:"text-pink-900",bar:"bg-pink-300"},lime:{bg:"bg-lime-100",text:"text-lime-900",bar:"bg-lime-300"}};function hr({title:t,description:s,timelineStart:n,timelineEnd:r,tooltipPositions:i,color:o}){const a=ur[o],c=r-n;return e.jsxs("div",{className:"grid grid-cols-[330px_1fr] gap-4 mb-4",children:[e.jsxs("div",{className:`${a.bg} ${a.text} rounded-xl p-5`,children:[e.jsx("h3",{className:"font-bold text-base mb-2",children:t}),e.jsx("p",{className:"text-sm",children:s})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5 flex items-center",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mb-2 px-1",children:[e.jsx("span",{children:n}),e.jsx("span",{children:r})]}),e.jsxs("div",{className:"relative h-8",children:[e.jsx("div",{className:"absolute top-3 left-0 right-0 h-2 bg-gray-200 rounded-full"}),e.jsx("div",{className:`absolute top-3 h-2 ${a.bar} rounded-full`,style:{left:"0%",width:"70%"}}),i.map((d,x)=>{const m=(d.year-n)/c*100;return e.jsxs("div",{className:"absolute top-0",style:{left:`${m}%`,transform:"translateX(-50%)"},children:[e.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:d.label}),e.jsx("div",{className:"w-2 h-2 bg-gray-800 rounded-full"})]},x)})]})]})})]})}function pr({scenarios:t}){const s=t.filter(r=>r.probability==="Plausible"),n=t.filter(r=>r.probability==="Probable");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 relative",children:[e.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",children:e.jsx(Hn,{className:"w-5 h-5 text-gray-700"})}),e.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",children:e.jsx(Wn,{className:"w-5 h-5 text-gray-700"})}),e.jsxs("svg",{viewBox:"0 0 800 400",className:"w-full h-64",children:[e.jsx("path",{d:"M 50 350 Q 200 200, 750 100 L 750 320 Q 200 380, 50 350 Z",fill:"#FCD34D",opacity:"0.3"}),e.jsx("path",{d:"M 50 350 Q 200 220, 700 120 L 700 300 Q 200 370, 50 350 Z",fill:"#FCD34D",opacity:"0.4"}),e.jsx("path",{d:"M 50 350 Q 200 240, 650 140 L 650 280 Q 200 360, 50 350 Z",fill:"#FCD34D",opacity:"0.5"}),e.jsx("path",{d:"M 50 350 Q 200 260, 600 160 L 600 260 Q 200 350, 50 350 Z",fill:"#FCD34D",opacity:"0.6"}),e.jsx("path",{d:"M 50 350 Q 200 280, 550 180 L 550 240 Q 200 340, 50 350 Z",fill:"#FCD34D",opacity:"0.7"}),e.jsx("text",{x:"100",y:"340",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Plausible"}),e.jsx("text",{x:"200",y:"290",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Possible"}),e.jsx("text",{x:"300",y:"240",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Probable"}),e.jsx("text",{x:"400",y:"190",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Preferable"}),e.jsx("text",{x:"520",y:"140",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Wildcard"}),e.jsx("foreignObject",{x:"250",y:"220",width:"200",height:"80",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs font-semibold",children:"Legal Clarification"}),e.jsx("span",{className:"text-xs text-gray-500",children:"ðŸ“"})]}),e.jsx("p",{className:"text-xs text-gray-700",children:"Courts gradually clarify existing copyright law for AI content"})]})})]}),e.jsx("div",{className:"flex justify-between items-center mt-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2025"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Present"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2026"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Short-term"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2027"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Mid-term"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2028"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Long-term"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2029"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Horizon"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"bg-yellow-100 text-yellow-900 px-4 py-2 rounded-t-xl font-semibold text-sm",children:"Plausible - Reasonably possible"}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-b-xl p-4 space-y-3",children:[s.length>0?s.map((r,i)=>e.jsx(ve,{scenario:r},i)):e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Plausible",timeframe:"2025-2027",icon:"ðŸ“"}}),e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Plausible",timeframe:"2025-2027",icon:"ðŸ“"}}),e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Plausible",timeframe:"2025-2027",icon:"ðŸ“"}})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mb-2",children:[e.jsx("span",{children:"2025"}),e.jsx("span",{children:"2026"}),e.jsx("span",{children:"2027"}),e.jsx("span",{children:"2028"}),e.jsx("span",{children:"2029"})]}),e.jsxs("div",{className:"relative h-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full"}),e.jsx("div",{className:"absolute left-0 h-2 bg-yellow-400 rounded-full",style:{width:"40%"}})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-t-xl font-semibold text-sm",children:"Probable - Most likely outcomes"}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-b-xl p-4 space-y-3",children:[n.length>0?n.map((r,i)=>e.jsx(ve,{scenario:r},i)):e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Probable",timeframe:"2025-2027",icon:"ðŸ“"}}),e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Probable",timeframe:"2025-2027",icon:"ðŸ“"}}),e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Probable",timeframe:"2025-2027",icon:"ðŸ“"}})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mb-2",children:[e.jsx("span",{children:"Present"}),e.jsx("span",{children:"2026"}),e.jsx("span",{children:"2027"}),e.jsx("span",{children:"2028"}),e.jsx("span",{children:"2029"})]}),e.jsxs("div",{className:"relative h-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full"}),e.jsx("div",{className:"absolute left-0 h-2 bg-blue-500 rounded-full",style:{width:"60%"}})]})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Icons Legend"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"ðŸ˜"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Mixed/Neutral"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-500",children:"ðŸ˜ŠðŸ‘"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Mixed/Positive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-orange-500",children:"âš ï¸"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Critical/Neutral"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"âœ…"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Positive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-500",children:"âŒ"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Negative/Disruptive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-500",children:"ðŸ“ˆ"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Evolution/Trend"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-purple-500",children:"ðŸ“"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Trend/Evolution"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"âš ï¸"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Disruption/Warning"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-pink-500",children:"ðŸš€"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Breakthrough"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-amber-500",children:"âš¡"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Warning/Disruption"})]})]})]})]})}function ve({scenario:t}){return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-sm",children:t.title}),t.icon&&e.jsx("span",{className:"text-sm",children:t.icon})]}),e.jsx("p",{className:"text-xs text-gray-700",children:t.description})]}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})})}function es({className:t,type:s,...n}){return e.jsx("input",{type:s,"data-slot":"input",className:ie("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function ts(t,[s,n]){return Math.min(n,Math.max(s,t))}function fr(t){const s=t+"CollectionProvider",[n,r]=Dt(s),[i,o]=n(s,{collectionRef:{current:null},itemMap:new Map}),a=p=>{const{scope:b,children:N}=p,g=_e.useRef(null),w=_e.useRef(new Map).current;return e.jsx(i,{scope:b,itemMap:w,collectionRef:g,children:N})};a.displayName=s;const c=t+"CollectionSlot",d=Ct(c),x=_e.forwardRef((p,b)=>{const{scope:N,children:g}=p,w=o(c,N),l=X(b,w.collectionRef);return e.jsx(d,{ref:l,children:g})});x.displayName=c;const m=t+"CollectionItemSlot",f="data-radix-collection-item",j=Ct(m),u=_e.forwardRef((p,b)=>{const{scope:N,children:g,...w}=p,l=_e.useRef(null),v=X(b,l),k=o(m,N);return _e.useEffect(()=>(k.itemMap.set(l,{ref:l,...w}),()=>void k.itemMap.delete(l))),e.jsx(j,{[f]:"",ref:v,children:g})});u.displayName=m;function y(p){const b=o(t+"CollectionConsumer",p);return _e.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((k,S)=>w.indexOf(k.ref.current)-w.indexOf(S.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:a,Slot:x,ItemSlot:u},y,r]}var gr=h.createContext(void 0);function vr(t){const s=h.useContext(gr);return t||s||"ltr"}const yr=["top","right","bottom","left"],be=Math.min,Q=Math.max,st=Math.round,Ye=Math.floor,de=t=>({x:t,y:t}),br={left:"right",right:"left",bottom:"top",top:"bottom"},jr={start:"end",end:"start"};function At(t,s,n){return Q(t,be(s,n))}function ue(t,s){return typeof t=="function"?t(s):t}function he(t){return t.split("-")[0]}function Le(t){return t.split("-")[1]}function Ft(t){return t==="x"?"y":"x"}function Bt(t){return t==="y"?"height":"width"}const Nr=new Set(["top","bottom"]);function ce(t){return Nr.has(he(t))?"y":"x"}function Ht(t){return Ft(ce(t))}function wr(t,s,n){n===void 0&&(n=!1);const r=Le(t),i=Ht(t),o=Bt(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[o]>s.floating[o]&&(a=nt(a)),[a,nt(a)]}function Sr(t){const s=nt(t);return[Tt(t),s,Tt(s)]}function Tt(t){return t.replace(/start|end/g,s=>jr[s])}const ss=["left","right"],ns=["right","left"],kr=["top","bottom"],Cr=["bottom","top"];function _r(t,s,n){switch(t){case"top":case"bottom":return n?s?ns:ss:s?ss:ns;case"left":case"right":return s?kr:Cr;default:return[]}}function Ar(t,s,n,r){const i=Le(t);let o=_r(he(t),n==="start",r);return i&&(o=o.map(a=>a+"-"+i),s&&(o=o.concat(o.map(Tt)))),o}function nt(t){return t.replace(/left|right|bottom|top/g,s=>br[s])}function Tr(t){return{top:0,right:0,bottom:0,left:0,...t}}function bs(t){return typeof t!="number"?Tr(t):{top:t,right:t,bottom:t,left:t}}function rt(t){const{x:s,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:s,right:s+r,bottom:n+i,x:s,y:n}}function rs(t,s,n){let{reference:r,floating:i}=t;const o=ce(s),a=Ht(s),c=Bt(a),d=he(s),x=o==="y",m=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,j=r[c]/2-i[c]/2;let u;switch(d){case"top":u={x:m,y:r.y-i.height};break;case"bottom":u={x:m,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:f};break;case"left":u={x:r.x-i.width,y:f};break;default:u={x:r.x,y:r.y}}switch(Le(s)){case"start":u[a]-=j*(n&&x?-1:1);break;case"end":u[a]+=j*(n&&x?-1:1);break}return u}const Pr=async(t,s,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:a}=n,c=o.filter(Boolean),d=await(a.isRTL==null?void 0:a.isRTL(s));let x=await a.getElementRects({reference:t,floating:s,strategy:i}),{x:m,y:f}=rs(x,r,d),j=r,u={},y=0;for(let p=0;p<c.length;p++){const{name:b,fn:N}=c[p],{x:g,y:w,data:l,reset:v}=await N({x:m,y:f,initialPlacement:r,placement:j,strategy:i,middlewareData:u,rects:x,platform:a,elements:{reference:t,floating:s}});m=g??m,f=w??f,u={...u,[b]:{...u[b],...l}},v&&y<=50&&(y++,typeof v=="object"&&(v.placement&&(j=v.placement),v.rects&&(x=v.rects===!0?await a.getElementRects({reference:t,floating:s,strategy:i}):v.rects),{x:m,y:f}=rs(x,j,d)),p=-1)}return{x:m,y:f,placement:j,strategy:i,middlewareData:u}};async function Ke(t,s){var n;s===void 0&&(s={});const{x:r,y:i,platform:o,rects:a,elements:c,strategy:d}=t,{boundary:x="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:j=!1,padding:u=0}=ue(s,t),y=bs(u),b=c[j?f==="floating"?"reference":"floating":f],N=rt(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:x,rootBoundary:m,strategy:d})),g=f==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),l=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},v=rt(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:g,offsetParent:w,strategy:d}):g);return{top:(N.top-v.top+y.top)/l.y,bottom:(v.bottom-N.bottom+y.bottom)/l.y,left:(N.left-v.left+y.left)/l.x,right:(v.right-N.right+y.right)/l.x}}const Ir=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:r,placement:i,rects:o,platform:a,elements:c,middlewareData:d}=s,{element:x,padding:m=0}=ue(t,s)||{};if(x==null)return{};const f=bs(m),j={x:n,y:r},u=Ht(i),y=Bt(u),p=await a.getDimensions(x),b=u==="y",N=b?"top":"left",g=b?"bottom":"right",w=b?"clientHeight":"clientWidth",l=o.reference[y]+o.reference[u]-j[u]-o.floating[y],v=j[u]-o.reference[u],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(x));let S=k?k[w]:0;(!S||!await(a.isElement==null?void 0:a.isElement(k)))&&(S=c.floating[w]||o.floating[y]);const _=l/2-v/2,M=S/2-p[y]/2-1,D=be(f[N],M),C=be(f[g],M),O=D,E=S-p[y]-C,R=S/2-p[y]/2+_,B=At(O,R,E),I=!d.arrow&&Le(i)!=null&&R!==B&&o.reference[y]/2-(R<O?D:C)-p[y]/2<0,L=I?R<O?R-O:R-E:0;return{[u]:j[u]+L,data:{[u]:B,centerOffset:R-B-L,...I&&{alignmentOffset:L}},reset:I}}}),Er=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,r;const{placement:i,middlewareData:o,rects:a,initialPlacement:c,platform:d,elements:x}=s,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:j,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:p=!0,...b}=ue(t,s);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=he(i),g=ce(c),w=he(c)===c,l=await(d.isRTL==null?void 0:d.isRTL(x.floating)),v=j||(w||!p?[nt(c)]:Sr(c)),k=y!=="none";!j&&k&&v.push(...Ar(c,p,y,l));const S=[c,...v],_=await Ke(s,b),M=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&M.push(_[N]),f){const R=wr(i,a,l);M.push(_[R[0]],_[R[1]])}if(D=[...D,{placement:i,overflows:M}],!M.every(R=>R<=0)){var C,O;const R=(((C=o.flip)==null?void 0:C.index)||0)+1,B=S[R];if(B&&(!(f==="alignment"?g!==ce(B):!1)||D.every(T=>ce(T.placement)===g?T.overflows[0]>0:!0)))return{data:{index:R,overflows:D},reset:{placement:B}};let I=(O=D.filter(L=>L.overflows[0]<=0).sort((L,T)=>L.overflows[1]-T.overflows[1])[0])==null?void 0:O.placement;if(!I)switch(u){case"bestFit":{var E;const L=(E=D.filter(T=>{if(k){const $=ce(T.placement);return $===g||$==="y"}return!0}).map(T=>[T.placement,T.overflows.filter($=>$>0).reduce(($,q)=>$+q,0)]).sort((T,$)=>T[1]-$[1])[0])==null?void 0:E[0];L&&(I=L);break}case"initialPlacement":I=c;break}if(i!==I)return{reset:{placement:I}}}return{}}}};function is(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function as(t){return yr.some(s=>t[s]>=0)}const Rr=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...i}=ue(t,s);switch(r){case"referenceHidden":{const o=await Ke(s,{...i,elementContext:"reference"}),a=is(o,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:as(a)}}}case"escaped":{const o=await Ke(s,{...i,altBoundary:!0}),a=is(o,n.floating);return{data:{escapedOffsets:a,escaped:as(a)}}}default:return{}}}}},js=new Set(["left","top"]);async function Or(t,s){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=he(n),c=Le(n),d=ce(n)==="y",x=js.has(a)?-1:1,m=o&&d?-1:1,f=ue(s,t);let{mainAxis:j,crossAxis:u,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof y=="number"&&(u=c==="end"?y*-1:y),d?{x:u*m,y:j*x}:{x:j*x,y:u*m}}const Mr=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,r;const{x:i,y:o,placement:a,middlewareData:c}=s,d=await Or(s,t);return a===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:a}}}}},Lr=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:r,placement:i}=s,{mainAxis:o=!0,crossAxis:a=!1,limiter:c={fn:b=>{let{x:N,y:g}=b;return{x:N,y:g}}},...d}=ue(t,s),x={x:n,y:r},m=await Ke(s,d),f=ce(he(i)),j=Ft(f);let u=x[j],y=x[f];if(o){const b=j==="y"?"top":"left",N=j==="y"?"bottom":"right",g=u+m[b],w=u-m[N];u=At(g,u,w)}if(a){const b=f==="y"?"top":"left",N=f==="y"?"bottom":"right",g=y+m[b],w=y-m[N];y=At(g,y,w)}const p=c.fn({...s,[j]:u,[f]:y});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[j]:o,[f]:a}}}}}},Dr=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:r,placement:i,rects:o,middlewareData:a}=s,{offset:c=0,mainAxis:d=!0,crossAxis:x=!0}=ue(t,s),m={x:n,y:r},f=ce(i),j=Ft(f);let u=m[j],y=m[f];const p=ue(c,s),b=typeof p=="number"?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(d){const w=j==="y"?"height":"width",l=o.reference[j]-o.floating[w]+b.mainAxis,v=o.reference[j]+o.reference[w]-b.mainAxis;u<l?u=l:u>v&&(u=v)}if(x){var N,g;const w=j==="y"?"width":"height",l=js.has(he(i)),v=o.reference[f]-o.floating[w]+(l&&((N=a.offset)==null?void 0:N[f])||0)+(l?0:b.crossAxis),k=o.reference[f]+o.reference[w]+(l?0:((g=a.offset)==null?void 0:g[f])||0)-(l?b.crossAxis:0);y<v?y=v:y>k&&(y=k)}return{[j]:u,[f]:y}}}},$r=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,r;const{placement:i,rects:o,platform:a,elements:c}=s,{apply:d=()=>{},...x}=ue(t,s),m=await Ke(s,x),f=he(i),j=Le(i),u=ce(i)==="y",{width:y,height:p}=o.floating;let b,N;f==="top"||f==="bottom"?(b=f,N=j===(await(a.isRTL==null?void 0:a.isRTL(c.floating))?"start":"end")?"left":"right"):(N=f,b=j==="end"?"top":"bottom");const g=p-m.top-m.bottom,w=y-m.left-m.right,l=be(p-m[b],g),v=be(y-m[N],w),k=!s.middlewareData.shift;let S=l,_=v;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(S=g),k&&!j){const D=Q(m.left,0),C=Q(m.right,0),O=Q(m.top,0),E=Q(m.bottom,0);u?_=y-2*(D!==0||C!==0?D+C:Q(m.left,m.right)):S=p-2*(O!==0||E!==0?O+E:Q(m.top,m.bottom))}await d({...s,availableWidth:_,availableHeight:S});const M=await a.getDimensions(c.floating);return y!==M.width||p!==M.height?{reset:{rects:!0}}:{}}}};function lt(){return typeof window<"u"}function De(t){return Ns(t)?(t.nodeName||"").toLowerCase():"#document"}function se(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function xe(t){var s;return(s=(Ns(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Ns(t){return lt()?t instanceof Node||t instanceof se(t).Node:!1}function oe(t){return lt()?t instanceof Element||t instanceof se(t).Element:!1}function me(t){return lt()?t instanceof HTMLElement||t instanceof se(t).HTMLElement:!1}function os(t){return!lt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof se(t).ShadowRoot}const zr=new Set(["inline","contents"]);function Ue(t){const{overflow:s,overflowX:n,overflowY:r,display:i}=le(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!zr.has(i)}const Fr=new Set(["table","td","th"]);function Br(t){return Fr.has(De(t))}const Hr=[":popover-open",":modal"];function ct(t){return Hr.some(s=>{try{return t.matches(s)}catch{return!1}})}const Vr=["transform","translate","scale","rotate","perspective"],Wr=["transform","translate","scale","rotate","perspective","filter"],Kr=["paint","layout","strict","content"];function Vt(t){const s=Wt(),n=oe(t)?le(t):t;return Vr.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||Wr.some(r=>(n.willChange||"").includes(r))||Kr.some(r=>(n.contain||"").includes(r))}function Gr(t){let s=je(t);for(;me(s)&&!Me(s);){if(Vt(s))return s;if(ct(s))return null;s=je(s)}return null}function Wt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Ur=new Set(["html","body","#document"]);function Me(t){return Ur.has(De(t))}function le(t){return se(t).getComputedStyle(t)}function dt(t){return oe(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function je(t){if(De(t)==="html")return t;const s=t.assignedSlot||t.parentNode||os(t)&&t.host||xe(t);return os(s)?s.host:s}function ws(t){const s=je(t);return Me(s)?t.ownerDocument?t.ownerDocument.body:t.body:me(s)&&Ue(s)?s:ws(s)}function Ge(t,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const i=ws(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),a=se(i);if(o){const c=Pt(a);return s.concat(a,a.visualViewport||[],Ue(i)?i:[],c&&n?Ge(c):[])}return s.concat(i,Ge(i,[],n))}function Pt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Ss(t){const s=le(t);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const i=me(t),o=i?t.offsetWidth:n,a=i?t.offsetHeight:r,c=st(n)!==o||st(r)!==a;return c&&(n=o,r=a),{width:n,height:r,$:c}}function Kt(t){return oe(t)?t:t.contextElement}function Oe(t){const s=Kt(t);if(!me(s))return de(1);const n=s.getBoundingClientRect(),{width:r,height:i,$:o}=Ss(s);let a=(o?st(n.width):n.width)/r,c=(o?st(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!c||!Number.isFinite(c))&&(c=1),{x:a,y:c}}const qr=de(0);function ks(t){const s=se(t);return!Wt()||!s.visualViewport?qr:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function Xr(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==se(t)?!1:s}function Pe(t,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Kt(t);let a=de(1);s&&(r?oe(r)&&(a=Oe(r)):a=Oe(t));const c=Xr(o,n,r)?ks(o):de(0);let d=(i.left+c.x)/a.x,x=(i.top+c.y)/a.y,m=i.width/a.x,f=i.height/a.y;if(o){const j=se(o),u=r&&oe(r)?se(r):r;let y=j,p=Pt(y);for(;p&&r&&u!==y;){const b=Oe(p),N=p.getBoundingClientRect(),g=le(p),w=N.left+(p.clientLeft+parseFloat(g.paddingLeft))*b.x,l=N.top+(p.clientTop+parseFloat(g.paddingTop))*b.y;d*=b.x,x*=b.y,m*=b.x,f*=b.y,d+=w,x+=l,y=se(p),p=Pt(y)}}return rt({width:m,height:f,x:d,y:x})}function mt(t,s){const n=dt(t).scrollLeft;return s?s.left+n:Pe(xe(t)).left+n}function Cs(t,s){const n=t.getBoundingClientRect(),r=n.left+s.scrollLeft-mt(t,n),i=n.top+s.scrollTop;return{x:r,y:i}}function Yr(t){let{elements:s,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",a=xe(r),c=s?ct(s.floating):!1;if(r===a||c&&o)return n;let d={scrollLeft:0,scrollTop:0},x=de(1);const m=de(0),f=me(r);if((f||!f&&!o)&&((De(r)!=="body"||Ue(a))&&(d=dt(r)),me(r))){const u=Pe(r);x=Oe(r),m.x=u.x+r.clientLeft,m.y=u.y+r.clientTop}const j=a&&!f&&!o?Cs(a,d):de(0);return{width:n.width*x.x,height:n.height*x.y,x:n.x*x.x-d.scrollLeft*x.x+m.x+j.x,y:n.y*x.y-d.scrollTop*x.y+m.y+j.y}}function Qr(t){return Array.from(t.getClientRects())}function Zr(t){const s=xe(t),n=dt(t),r=t.ownerDocument.body,i=Q(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),o=Q(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+mt(t);const c=-n.scrollTop;return le(r).direction==="rtl"&&(a+=Q(s.clientWidth,r.clientWidth)-i),{width:i,height:o,x:a,y:c}}const ls=25;function Jr(t,s){const n=se(t),r=xe(t),i=n.visualViewport;let o=r.clientWidth,a=r.clientHeight,c=0,d=0;if(i){o=i.width,a=i.height;const m=Wt();(!m||m&&s==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const x=mt(r);if(x<=0){const m=r.ownerDocument,f=m.body,j=getComputedStyle(f),u=m.compatMode==="CSS1Compat"&&parseFloat(j.marginLeft)+parseFloat(j.marginRight)||0,y=Math.abs(r.clientWidth-f.clientWidth-u);y<=ls&&(o-=y)}else x<=ls&&(o+=x);return{width:o,height:a,x:c,y:d}}const ei=new Set(["absolute","fixed"]);function ti(t,s){const n=Pe(t,!0,s==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=me(t)?Oe(t):de(1),a=t.clientWidth*o.x,c=t.clientHeight*o.y,d=i*o.x,x=r*o.y;return{width:a,height:c,x:d,y:x}}function cs(t,s,n){let r;if(s==="viewport")r=Jr(t,n);else if(s==="document")r=Zr(xe(t));else if(oe(s))r=ti(s,n);else{const i=ks(t);r={x:s.x-i.x,y:s.y-i.y,width:s.width,height:s.height}}return rt(r)}function _s(t,s){const n=je(t);return n===s||!oe(n)||Me(n)?!1:le(n).position==="fixed"||_s(n,s)}function si(t,s){const n=s.get(t);if(n)return n;let r=Ge(t,[],!1).filter(c=>oe(c)&&De(c)!=="body"),i=null;const o=le(t).position==="fixed";let a=o?je(t):t;for(;oe(a)&&!Me(a);){const c=le(a),d=Vt(a);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&ei.has(i.position)||Ue(a)&&!d&&_s(t,a))?r=r.filter(m=>m!==a):i=c,a=je(a)}return s.set(t,r),r}function ni(t){let{element:s,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?ct(s)?[]:si(s,this._c):[].concat(n),r],c=a[0],d=a.reduce((x,m)=>{const f=cs(s,m,i);return x.top=Q(f.top,x.top),x.right=be(f.right,x.right),x.bottom=be(f.bottom,x.bottom),x.left=Q(f.left,x.left),x},cs(s,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function ri(t){const{width:s,height:n}=Ss(t);return{width:s,height:n}}function ii(t,s,n){const r=me(s),i=xe(s),o=n==="fixed",a=Pe(t,!0,o,s);let c={scrollLeft:0,scrollTop:0};const d=de(0);function x(){d.x=mt(i)}if(r||!r&&!o)if((De(s)!=="body"||Ue(i))&&(c=dt(s)),r){const u=Pe(s,!0,o,s);d.x=u.x+s.clientLeft,d.y=u.y+s.clientTop}else i&&x();o&&!r&&i&&x();const m=i&&!r&&!o?Cs(i,c):de(0),f=a.left+c.scrollLeft-d.x-m.x,j=a.top+c.scrollTop-d.y-m.y;return{x:f,y:j,width:a.width,height:a.height}}function St(t){return le(t).position==="static"}function ds(t,s){if(!me(t)||le(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return xe(t)===n&&(n=n.ownerDocument.body),n}function As(t,s){const n=se(t);if(ct(t))return n;if(!me(t)){let i=je(t);for(;i&&!Me(i);){if(oe(i)&&!St(i))return i;i=je(i)}return n}let r=ds(t,s);for(;r&&Br(r)&&St(r);)r=ds(r,s);return r&&Me(r)&&St(r)&&!Vt(r)?n:r||Gr(t)||n}const ai=async function(t){const s=this.getOffsetParent||As,n=this.getDimensions,r=await n(t.floating);return{reference:ii(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oi(t){return le(t).direction==="rtl"}const li={convertOffsetParentRelativeRectToViewportRelativeRect:Yr,getDocumentElement:xe,getClippingRect:ni,getOffsetParent:As,getElementRects:ai,getClientRects:Qr,getDimensions:ri,getScale:Oe,isElement:oe,isRTL:oi};function Ts(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function ci(t,s){let n=null,r;const i=xe(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function a(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const x=t.getBoundingClientRect(),{left:m,top:f,width:j,height:u}=x;if(c||s(),!j||!u)return;const y=Ye(f),p=Ye(i.clientWidth-(m+j)),b=Ye(i.clientHeight-(f+u)),N=Ye(m),w={rootMargin:-y+"px "+-p+"px "+-b+"px "+-N+"px",threshold:Q(0,be(1,d))||1};let l=!0;function v(k){const S=k[0].intersectionRatio;if(S!==d){if(!l)return a();S?a(!1,S):r=setTimeout(()=>{a(!1,1e-7)},1e3)}S===1&&!Ts(x,t.getBoundingClientRect())&&a(),l=!1}try{n=new IntersectionObserver(v,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(v,w)}n.observe(t)}return a(!0),o}function di(t,s,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,x=Kt(t),m=i||o?[...x?Ge(x):[],...Ge(s)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const f=x&&c?ci(x,n):null;let j=-1,u=null;a&&(u=new ResizeObserver(N=>{let[g]=N;g&&g.target===x&&u&&(u.unobserve(s),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var w;(w=u)==null||w.observe(s)})),n()}),x&&!d&&u.observe(x),u.observe(s));let y,p=d?Pe(t):null;d&&b();function b(){const N=Pe(t);p&&!Ts(p,N)&&n(),p=N,y=requestAnimationFrame(b)}return n(),()=>{var N;m.forEach(g=>{i&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),f?.(),(N=u)==null||N.disconnect(),u=null,d&&cancelAnimationFrame(y)}}const mi=Mr,xi=Lr,ui=Er,hi=$r,pi=Rr,ms=Ir,fi=Dr,gi=(t,s,n)=>{const r=new Map,i={platform:li,...n},o={...i.platform,_c:r};return Pr(t,s,{...i,platform:o})};var vi=typeof document<"u",yi=function(){},Qe=vi?h.useLayoutEffect:yi;function it(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,r,i;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!it(t[r],s[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!it(t[o],s[o]))return!1}return!0}return t!==t&&s!==s}function Ps(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xs(t,s){const n=Ps(t);return Math.round(s*n)/n}function kt(t){const s=h.useRef(t);return Qe(()=>{s.current=t}),s}function bi(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:a}={},transform:c=!0,whileElementsMounted:d,open:x}=t,[m,f]=h.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[j,u]=h.useState(r);it(j,r)||u(r);const[y,p]=h.useState(null),[b,N]=h.useState(null),g=h.useCallback(T=>{T!==k.current&&(k.current=T,p(T))},[]),w=h.useCallback(T=>{T!==S.current&&(S.current=T,N(T))},[]),l=o||y,v=a||b,k=h.useRef(null),S=h.useRef(null),_=h.useRef(m),M=d!=null,D=kt(d),C=kt(i),O=kt(x),E=h.useCallback(()=>{if(!k.current||!S.current)return;const T={placement:s,strategy:n,middleware:j};C.current&&(T.platform=C.current),gi(k.current,S.current,T).then($=>{const q={...$,isPositioned:O.current!==!1};R.current&&!it(_.current,q)&&(_.current=q,$t.flushSync(()=>{f(q)}))})},[j,s,n,C,O]);Qe(()=>{x===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,f(T=>({...T,isPositioned:!1})))},[x]);const R=h.useRef(!1);Qe(()=>(R.current=!0,()=>{R.current=!1}),[]),Qe(()=>{if(l&&(k.current=l),v&&(S.current=v),l&&v){if(D.current)return D.current(l,v,E);E()}},[l,v,E,D,M]);const B=h.useMemo(()=>({reference:k,floating:S,setReference:g,setFloating:w}),[g,w]),I=h.useMemo(()=>({reference:l,floating:v}),[l,v]),L=h.useMemo(()=>{const T={position:n,left:0,top:0};if(!I.floating)return T;const $=xs(I.floating,m.x),q=xs(I.floating,m.y);return c?{...T,transform:"translate("+$+"px, "+q+"px)",...Ps(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:q}},[n,c,I.floating,m.x,m.y]);return h.useMemo(()=>({...m,update:E,refs:B,elements:I,floatingStyles:L}),[m,E,B,I,L])}const ji=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&s(r)?r.current!=null?ms({element:r.current,padding:i}).fn(n):{}:r?ms({element:r,padding:i}).fn(n):{}}}},Ni=(t,s)=>({...mi(t),options:[t,s]}),wi=(t,s)=>({...xi(t),options:[t,s]}),Si=(t,s)=>({...fi(t),options:[t,s]}),ki=(t,s)=>({...ui(t),options:[t,s]}),Ci=(t,s)=>({...hi(t),options:[t,s]}),_i=(t,s)=>({...pi(t),options:[t,s]}),Ai=(t,s)=>({...ji(t),options:[t,s]});var Ti="Arrow",Is=h.forwardRef((t,s)=>{const{children:n,width:r=10,height:i=5,...o}=t;return e.jsx(G.svg,{...o,ref:s,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Is.displayName=Ti;var Pi=Is;function Ii(t){const[s,n]=h.useState(void 0);return ae(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let a,c;if("borderBoxSize"in o){const d=o.borderBoxSize,x=Array.isArray(d)?d[0]:d;a=x.inlineSize,c=x.blockSize}else a=t.offsetWidth,c=t.offsetHeight;n({width:a,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),s}var Gt="Popper",[Es,Rs]=Dt(Gt),[Ei,Os]=Es(Gt),Ms=t=>{const{__scopePopper:s,children:n}=t,[r,i]=h.useState(null);return e.jsx(Ei,{scope:s,anchor:r,onAnchorChange:i,children:n})};Ms.displayName=Gt;var Ls="PopperAnchor",Ds=h.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=Os(Ls,n),a=h.useRef(null),c=X(s,a),d=h.useRef(null);return h.useEffect(()=>{const x=d.current;d.current=r?.current||a.current,x!==d.current&&o.onAnchorChange(d.current)}),r?null:e.jsx(G.div,{...i,ref:c})});Ds.displayName=Ls;var Ut="PopperContent",[Ri,Oi]=Es(Ut),$s=h.forwardRef((t,s)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:x=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:j=!1,updatePositionStrategy:u="optimized",onPlaced:y,...p}=t,b=Os(Ut,n),[N,g]=h.useState(null),w=X(s,A=>g(A)),[l,v]=h.useState(null),k=Ii(l),S=k?.width??0,_=k?.height??0,M=r+(o!=="center"?"-"+o:""),D=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},C=Array.isArray(x)?x:[x],O=C.length>0,E={padding:D,boundary:C.filter(Li),altBoundary:O},{refs:R,floatingStyles:B,placement:I,isPositioned:L,middlewareData:T}=bi({strategy:"fixed",placement:M,whileElementsMounted:(...A)=>di(...A,{animationFrame:u==="always"}),elements:{reference:b.anchor},middleware:[Ni({mainAxis:i+_,alignmentAxis:a}),d&&wi({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Si():void 0,...E}),d&&ki({...E}),Ci({...E,apply:({elements:A,rects:H,availableWidth:U,availableHeight:z})=>{const{width:F,height:V}=H.reference,ne=A.floating.style;ne.setProperty("--radix-popper-available-width",`${U}px`),ne.setProperty("--radix-popper-available-height",`${z}px`),ne.setProperty("--radix-popper-anchor-width",`${F}px`),ne.setProperty("--radix-popper-anchor-height",`${V}px`)}}),l&&Ai({element:l,padding:c}),Di({arrowWidth:S,arrowHeight:_}),j&&_i({strategy:"referenceHidden",...E})]}),[$,q]=Bs(I),Se=fs(y);ae(()=>{L&&Se?.()},[L,Se]);const ze=T.arrow?.x,Fe=T.arrow?.y,ge=T.arrow?.centerOffset!==0,[Re,ke]=h.useState();return ae(()=>{N&&ke(window.getComputedStyle(N).zIndex)},[N]),e.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:L?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Re,"--radix-popper-transform-origin":[T.transformOrigin?.x,T.transformOrigin?.y].join(" "),...T.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Ri,{scope:n,placedSide:$,onArrowChange:v,arrowX:ze,arrowY:Fe,shouldHideArrow:ge,children:e.jsx(G.div,{"data-side":$,"data-align":q,...p,ref:w,style:{...p.style,animation:L?void 0:"none"}})})})});$s.displayName=Ut;var zs="PopperArrow",Mi={top:"bottom",right:"left",bottom:"top",left:"right"},Fs=h.forwardRef(function(s,n){const{__scopePopper:r,...i}=s,o=Oi(zs,r),a=Mi[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(Pi,{...i,ref:n,style:{...i.style,display:"block"}})})});Fs.displayName=zs;function Li(t){return t!==null}var Di=t=>({name:"transformOrigin",options:t,fn(s){const{placement:n,rects:r,middlewareData:i}=s,a=i.arrow?.centerOffset!==0,c=a?0:t.arrowWidth,d=a?0:t.arrowHeight,[x,m]=Bs(n),f={start:"0%",center:"50%",end:"100%"}[m],j=(i.arrow?.x??0)+c/2,u=(i.arrow?.y??0)+d/2;let y="",p="";return x==="bottom"?(y=a?f:`${j}px`,p=`${-d}px`):x==="top"?(y=a?f:`${j}px`,p=`${r.floating.height+d}px`):x==="right"?(y=`${-d}px`,p=a?f:`${u}px`):x==="left"&&(y=`${r.floating.width+d}px`,p=a?f:`${u}px`),{data:{x:y,y:p}}}});function Bs(t){const[s,n="center"]=t.split("-");return[s,n]}var $i=Ms,zi=Ds,Fi=$s,Bi=Fs;function Hi(t){const s=h.useRef({value:t,previous:t});return h.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Hs=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Vi="VisuallyHidden",Wi=h.forwardRef((t,s)=>e.jsx(G.span,{...t,ref:s,style:{...Hs,...t.style}}));Wi.displayName=Vi;var Ki=[" ","Enter","ArrowUp","ArrowDown"],Gi=[" ","Enter"],Ie="Select",[xt,ut,Ui]=fr(Ie),[$e]=Dt(Ie,[Ui,Rs]),ht=Rs(),[qi,Ne]=$e(Ie),[Xi,Yi]=$e(Ie),Vs=t=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:i,onOpenChange:o,value:a,defaultValue:c,onValueChange:d,dir:x,name:m,autoComplete:f,disabled:j,required:u,form:y}=t,p=ht(s),[b,N]=h.useState(null),[g,w]=h.useState(null),[l,v]=h.useState(!1),k=vr(x),[S,_]=Xt({prop:r,defaultProp:i??!1,onChange:o,caller:Ie}),[M,D]=Xt({prop:a,defaultProp:c,onChange:d,caller:Ie}),C=h.useRef(null),O=b?y||!!b.closest("form"):!0,[E,R]=h.useState(new Set),B=Array.from(E).map(I=>I.props.value).join(";");return e.jsx($i,{...p,children:e.jsxs(qi,{required:u,scope:s,trigger:b,onTriggerChange:N,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:l,onValueNodeHasChildrenChange:v,contentId:zt(),value:M,onValueChange:D,open:S,onOpenChange:_,dir:k,triggerPointerDownPosRef:C,disabled:j,children:[e.jsx(xt.Provider,{scope:s,children:e.jsx(Xi,{scope:t.__scopeSelect,onNativeOptionAdd:h.useCallback(I=>{R(L=>new Set(L).add(I))},[]),onNativeOptionRemove:h.useCallback(I=>{R(L=>{const T=new Set(L);return T.delete(I),T})},[]),children:n})}),O?e.jsxs(xn,{"aria-hidden":!0,required:u,tabIndex:-1,name:m,autoComplete:f,value:M,onChange:I=>D(I.target.value),disabled:j,form:y,children:[M===void 0?e.jsx("option",{value:""}):null,Array.from(E)]},B):null]})})};Vs.displayName=Ie;var Ws="SelectTrigger",Ks=h.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=ht(n),a=Ne(Ws,n),c=a.disabled||r,d=X(s,a.onTriggerChange),x=ut(n),m=h.useRef("touch"),[f,j,u]=hn(p=>{const b=x().filter(w=>!w.disabled),N=b.find(w=>w.value===a.value),g=pn(b,p,N);g!==void 0&&a.onValueChange(g.value)}),y=p=>{c||(a.onOpenChange(!0),u()),p&&(a.triggerPointerDownPosRef.current={x:Math.round(p.pageX),y:Math.round(p.pageY)})};return e.jsx(zi,{asChild:!0,...o,children:e.jsx(G.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":un(a.value)?"":void 0,...i,ref:d,onClick:W(i.onClick,p=>{p.currentTarget.focus(),m.current!=="mouse"&&y(p)}),onPointerDown:W(i.onPointerDown,p=>{m.current=p.pointerType;const b=p.target;b.hasPointerCapture(p.pointerId)&&b.releasePointerCapture(p.pointerId),p.button===0&&p.ctrlKey===!1&&p.pointerType==="mouse"&&(y(p),p.preventDefault())}),onKeyDown:W(i.onKeyDown,p=>{const b=f.current!=="";!(p.ctrlKey||p.altKey||p.metaKey)&&p.key.length===1&&j(p.key),!(b&&p.key===" ")&&Ki.includes(p.key)&&(y(),p.preventDefault())})})})});Ks.displayName=Ws;var Gs="SelectValue",Us=h.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:a="",...c}=t,d=Ne(Gs,n),{onValueNodeHasChildrenChange:x}=d,m=o!==void 0,f=X(s,d.onValueNodeChange);return ae(()=>{x(m)},[x,m]),e.jsx(G.span,{...c,ref:f,style:{pointerEvents:"none"},children:un(d.value)?e.jsx(e.Fragment,{children:a}):o})});Us.displayName=Gs;var Qi="SelectIcon",qs=h.forwardRef((t,s)=>{const{__scopeSelect:n,children:r,...i}=t;return e.jsx(G.span,{"aria-hidden":!0,...i,ref:s,children:r||"â–¼"})});qs.displayName=Qi;var Zi="SelectPortal",Xs=t=>e.jsx(gn,{asChild:!0,...t});Xs.displayName=Zi;var Ee="SelectContent",Ys=h.forwardRef((t,s)=>{const n=Ne(Ee,t.__scopeSelect),[r,i]=h.useState();if(ae(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?$t.createPortal(e.jsx(Qs,{scope:t.__scopeSelect,children:e.jsx(xt.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(Zs,{...t,ref:s})});Ys.displayName=Ee;var re=10,[Qs,we]=$e(Ee),Ji="SelectContentImpl",ea=Ct("SelectContent.RemoveScroll"),Zs=h.forwardRef((t,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:a,side:c,sideOffset:d,align:x,alignOffset:m,arrowPadding:f,collisionBoundary:j,collisionPadding:u,sticky:y,hideWhenDetached:p,avoidCollisions:b,...N}=t,g=Ne(Ee,n),[w,l]=h.useState(null),[v,k]=h.useState(null),S=X(s,A=>l(A)),[_,M]=h.useState(null),[D,C]=h.useState(null),O=ut(n),[E,R]=h.useState(!1),B=h.useRef(!1);h.useEffect(()=>{if(w)return vn(w)},[w]),yn();const I=h.useCallback(A=>{const[H,...U]=O().map(V=>V.ref.current),[z]=U.slice(-1),F=document.activeElement;for(const V of A)if(V===F||(V?.scrollIntoView({block:"nearest"}),V===H&&v&&(v.scrollTop=0),V===z&&v&&(v.scrollTop=v.scrollHeight),V?.focus(),document.activeElement!==F))return},[O,v]),L=h.useCallback(()=>I([_,w]),[I,_,w]);h.useEffect(()=>{E&&L()},[E,L]);const{onOpenChange:T,triggerPointerDownPosRef:$}=g;h.useEffect(()=>{if(w){let A={x:0,y:0};const H=z=>{A={x:Math.abs(Math.round(z.pageX)-($.current?.x??0)),y:Math.abs(Math.round(z.pageY)-($.current?.y??0))}},U=z=>{A.x<=10&&A.y<=10?z.preventDefault():w.contains(z.target)||T(!1),document.removeEventListener("pointermove",H),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",U,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",U,{capture:!0})}}},[w,T,$]),h.useEffect(()=>{const A=()=>T(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[T]);const[q,Se]=hn(A=>{const H=O().filter(F=>!F.disabled),U=H.find(F=>F.ref.current===document.activeElement),z=pn(H,A,U);z&&setTimeout(()=>z.ref.current.focus())}),ze=h.useCallback((A,H,U)=>{const z=!B.current&&!U;(g.value!==void 0&&g.value===H||z)&&(M(A),z&&(B.current=!0))},[g.value]),Fe=h.useCallback(()=>w?.focus(),[w]),ge=h.useCallback((A,H,U)=>{const z=!B.current&&!U;(g.value!==void 0&&g.value===H||z)&&C(A)},[g.value]),Re=r==="popper"?It:Js,ke=Re===It?{side:c,sideOffset:d,align:x,alignOffset:m,arrowPadding:f,collisionBoundary:j,collisionPadding:u,sticky:y,hideWhenDetached:p,avoidCollisions:b}:{};return e.jsx(Qs,{scope:n,content:w,viewport:v,onViewportChange:k,itemRefCallback:ze,selectedItem:_,onItemLeave:Fe,itemTextRefCallback:ge,focusSelectedItem:L,selectedItemText:D,position:r,isPositioned:E,searchRef:q,children:e.jsx(bn,{as:ea,allowPinchZoom:!0,children:e.jsx(jn,{asChild:!0,trapped:g.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:W(i,A=>{g.trigger?.focus({preventScroll:!0}),A.preventDefault()}),children:e.jsx(Nn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:a,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:e.jsx(Re,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:A=>A.preventDefault(),...N,...ke,onPlaced:()=>R(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:W(N.onKeyDown,A=>{const H=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!H&&A.key.length===1&&Se(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let z=O().filter(F=>!F.disabled).map(F=>F.ref.current);if(["ArrowUp","End"].includes(A.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const F=A.target,V=z.indexOf(F);z=z.slice(V+1)}setTimeout(()=>I(z)),A.preventDefault()}})})})})})})});Zs.displayName=Ji;var ta="SelectItemAlignedPosition",Js=h.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Ne(Ee,n),a=we(Ee,n),[c,d]=h.useState(null),[x,m]=h.useState(null),f=X(s,S=>m(S)),j=ut(n),u=h.useRef(!1),y=h.useRef(!0),{viewport:p,selectedItem:b,selectedItemText:N,focusSelectedItem:g}=a,w=h.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&x&&p&&b&&N){const S=o.trigger.getBoundingClientRect(),_=x.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),D=N.getBoundingClientRect();if(o.dir!=="rtl"){const F=D.left-_.left,V=M.left-F,ne=S.left-V,Ce=S.width+ne,pt=Math.max(Ce,_.width),ft=window.innerWidth-re,gt=ts(V,[re,Math.max(re,ft-pt)]);c.style.minWidth=Ce+"px",c.style.left=gt+"px"}else{const F=_.right-D.right,V=window.innerWidth-M.right-F,ne=window.innerWidth-S.right-V,Ce=S.width+ne,pt=Math.max(Ce,_.width),ft=window.innerWidth-re,gt=ts(V,[re,Math.max(re,ft-pt)]);c.style.minWidth=Ce+"px",c.style.right=gt+"px"}const C=j(),O=window.innerHeight-re*2,E=p.scrollHeight,R=window.getComputedStyle(x),B=parseInt(R.borderTopWidth,10),I=parseInt(R.paddingTop,10),L=parseInt(R.borderBottomWidth,10),T=parseInt(R.paddingBottom,10),$=B+I+E+T+L,q=Math.min(b.offsetHeight*5,$),Se=window.getComputedStyle(p),ze=parseInt(Se.paddingTop,10),Fe=parseInt(Se.paddingBottom,10),ge=S.top+S.height/2-re,Re=O-ge,ke=b.offsetHeight/2,A=b.offsetTop+ke,H=B+I+A,U=$-H;if(H<=ge){const F=C.length>0&&b===C[C.length-1].ref.current;c.style.bottom="0px";const V=x.clientHeight-p.offsetTop-p.offsetHeight,ne=Math.max(Re,ke+(F?Fe:0)+V+L),Ce=H+ne;c.style.height=Ce+"px"}else{const F=C.length>0&&b===C[0].ref.current;c.style.top="0px";const ne=Math.max(ge,B+p.offsetTop+(F?ze:0)+ke)+U;c.style.height=ne+"px",p.scrollTop=H-ge+p.offsetTop}c.style.margin=`${re}px 0`,c.style.minHeight=q+"px",c.style.maxHeight=O+"px",r?.(),requestAnimationFrame(()=>u.current=!0)}},[j,o.trigger,o.valueNode,c,x,p,b,N,o.dir,r]);ae(()=>w(),[w]);const[l,v]=h.useState();ae(()=>{x&&v(window.getComputedStyle(x).zIndex)},[x]);const k=h.useCallback(S=>{S&&y.current===!0&&(w(),g?.(),y.current=!1)},[w,g]);return e.jsx(na,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:u,onScrollButtonChange:k,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:l},children:e.jsx(G.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Js.displayName=ta;var sa="SelectPopperPosition",It=h.forwardRef((t,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=re,...o}=t,a=ht(n);return e.jsx(Fi,{...a,...o,ref:s,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});It.displayName=sa;var[na,qt]=$e(Ee,{}),Et="SelectViewport",en=h.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=we(Et,n),a=qt(Et,n),c=X(s,o.onViewportChange),d=h.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(xt.Slot,{scope:n,children:e.jsx(G.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:W(i.onScroll,x=>{const m=x.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:j}=a;if(j?.current&&f){const u=Math.abs(d.current-m.scrollTop);if(u>0){const y=window.innerHeight-re*2,p=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),N=Math.max(p,b);if(N<y){const g=N+u,w=Math.min(y,g),l=g-w;f.style.height=w+"px",f.style.bottom==="0px"&&(m.scrollTop=l>0?l:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});en.displayName=Et;var tn="SelectGroup",[ra,ia]=$e(tn),aa=h.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,i=zt();return e.jsx(ra,{scope:n,id:i,children:e.jsx(G.div,{role:"group","aria-labelledby":i,...r,ref:s})})});aa.displayName=tn;var sn="SelectLabel",oa=h.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,i=ia(sn,n);return e.jsx(G.div,{id:i.id,...r,ref:s})});oa.displayName=sn;var at="SelectItem",[la,nn]=$e(at),rn=h.forwardRef((t,s)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...a}=t,c=Ne(at,n),d=we(at,n),x=c.value===r,[m,f]=h.useState(o??""),[j,u]=h.useState(!1),y=X(s,g=>d.itemRefCallback?.(g,r,i)),p=zt(),b=h.useRef("touch"),N=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(la,{scope:n,value:r,disabled:i,textId:p,isSelected:x,onItemTextChange:h.useCallback(g=>{f(w=>w||(g?.textContent??"").trim())},[]),children:e.jsx(xt.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:e.jsx(G.div,{role:"option","aria-labelledby":p,"data-highlighted":j?"":void 0,"aria-selected":x&&j,"data-state":x?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:y,onFocus:W(a.onFocus,()=>u(!0)),onBlur:W(a.onBlur,()=>u(!1)),onClick:W(a.onClick,()=>{b.current!=="mouse"&&N()}),onPointerUp:W(a.onPointerUp,()=>{b.current==="mouse"&&N()}),onPointerDown:W(a.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:W(a.onPointerMove,g=>{b.current=g.pointerType,i?d.onItemLeave?.():b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:W(a.onPointerLeave,g=>{g.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:W(a.onKeyDown,g=>{d.searchRef?.current!==""&&g.key===" "||(Gi.includes(g.key)&&N(),g.key===" "&&g.preventDefault())})})})})});rn.displayName=at;var We="SelectItemText",an=h.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,a=Ne(We,n),c=we(We,n),d=nn(We,n),x=Yi(We,n),[m,f]=h.useState(null),j=X(s,N=>f(N),d.onItemTextChange,N=>c.itemTextRefCallback?.(N,d.value,d.disabled)),u=m?.textContent,y=h.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:u},d.value),[d.disabled,d.value,u]),{onNativeOptionAdd:p,onNativeOptionRemove:b}=x;return ae(()=>(p(y),()=>b(y)),[p,b,y]),e.jsxs(e.Fragment,{children:[e.jsx(G.span,{id:d.textId,...o,ref:j}),d.isSelected&&a.valueNode&&!a.valueNodeHasChildren?$t.createPortal(o.children,a.valueNode):null]})});an.displayName=We;var on="SelectItemIndicator",ln=h.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return nn(on,n).isSelected?e.jsx(G.span,{"aria-hidden":!0,...r,ref:s}):null});ln.displayName=on;var Rt="SelectScrollUpButton",cn=h.forwardRef((t,s)=>{const n=we(Rt,t.__scopeSelect),r=qt(Rt,t.__scopeSelect),[i,o]=h.useState(!1),a=X(s,r.onScrollButtonChange);return ae(()=>{if(n.viewport&&n.isPositioned){let c=function(){const x=d.scrollTop>0;o(x)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?e.jsx(mn,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});cn.displayName=Rt;var Ot="SelectScrollDownButton",dn=h.forwardRef((t,s)=>{const n=we(Ot,t.__scopeSelect),r=qt(Ot,t.__scopeSelect),[i,o]=h.useState(!1),a=X(s,r.onScrollButtonChange);return ae(()=>{if(n.viewport&&n.isPositioned){let c=function(){const x=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<x;o(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?e.jsx(mn,{...t,ref:a,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});dn.displayName=Ot;var mn=h.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=we("SelectScrollButton",n),a=h.useRef(null),c=ut(n),d=h.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return h.useEffect(()=>()=>d(),[d]),ae(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(G.div,{"aria-hidden":!0,...i,ref:s,style:{flexShrink:0,...i.style},onPointerDown:W(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:W(i.onPointerMove,()=>{o.onItemLeave?.(),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:W(i.onPointerLeave,()=>{d()})})}),ca="SelectSeparator",da=h.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return e.jsx(G.div,{"aria-hidden":!0,...r,ref:s})});da.displayName=ca;var Mt="SelectArrow",ma=h.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,i=ht(n),o=Ne(Mt,n),a=we(Mt,n);return o.open&&a.position==="popper"?e.jsx(Bi,{...i,...r,ref:s}):null});ma.displayName=Mt;var xa="SelectBubbleInput",xn=h.forwardRef(({__scopeSelect:t,value:s,...n},r)=>{const i=h.useRef(null),o=X(r,i),a=Hi(s);return h.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(a!==s&&m){const f=new Event("change",{bubbles:!0});m.call(c,s),c.dispatchEvent(f)}},[a,s]),e.jsx(G.select,{...n,style:{...Hs,...n.style},ref:o,defaultValue:s})});xn.displayName=xa;function un(t){return t===""||t===void 0}function hn(t){const s=fs(t),n=h.useRef(""),r=h.useRef(0),i=h.useCallback(a=>{const c=n.current+a;s(c),(function d(x){n.current=x,window.clearTimeout(r.current),x!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[s]),o=h.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return h.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function pn(t,s,n){const i=s.length>1&&Array.from(s).every(x=>x===s[0])?s[0]:s,o=n?t.indexOf(n):-1;let a=ua(t,Math.max(o,0));i.length===1&&(a=a.filter(x=>x!==n));const d=a.find(x=>x.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function ua(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var ha=Vs,pa=Ks,fa=Us,ga=qs,va=Xs,ya=Ys,ba=en,ja=rn,Na=an,wa=ln,Sa=cn,ka=dn;function Z({...t}){return e.jsx(ha,{"data-slot":"select",...t})}function J({...t}){return e.jsx(fa,{"data-slot":"select-value",...t})}function ee({className:t,size:s="default",children:n,...r}){return e.jsxs(pa,{"data-slot":"select-trigger","data-size":s,className:ie("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,e.jsx(ga,{asChild:!0,children:e.jsx(Lt,{className:"size-4 opacity-50"})})]})}function te({className:t,children:s,position:n="popper",...r}){return e.jsx(va,{children:e.jsxs(ya,{"data-slot":"select-content",className:ie("bg-white text-gray-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(Ca,{}),e.jsx(ba,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(_a,{})]})})}function P({className:t,children:s,...n}){return e.jsxs(ja,{"data-slot":"select-item",className:ie("focus:bg-gray-100 hover:bg-gray-100 text-gray-950 relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(wa,{children:e.jsx(Fn,{className:"size-4"})})}),e.jsx(Na,{children:s})]})}function Ca({className:t,...s}){return e.jsx(Sa,{"data-slot":"select-scroll-up-button",className:ie("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ys,{className:"size-4"})})}function _a({className:t,...s}){return e.jsx(ka,{"data-slot":"select-scroll-down-button",className:ie("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Lt,{className:"size-4"})})}function Ae({className:t,...s}){return e.jsx("textarea",{"data-slot":"textarea",className:ie("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}const us={name:"",industry:"",organization_type:"",risk_tolerance:"",innovation_approach:"",region:"",decision_making_style:"",competitive_landscape:"",description:"",key_concerns:"",strategic_priorities:"",key_stakeholders:"",regulatory_environment:"",additional_context:""};function Aa({open:t,onOpenChange:s,profiles:n,onSave:r}){const[i,o]=h.useState(null),[a,c]=h.useState(us),[d,x]=h.useState(!1),m=u=>{o(u);const y=n.find(p=>p.id===u);y&&c({name:y.name||"",industry:y.industry||"",organization_type:y.organization_type||"",risk_tolerance:y.risk_tolerance||"",innovation_approach:y.innovation_approach||"",region:y.region||"",decision_making_style:y.decision_making_style||"",competitive_landscape:y.competitive_landscape||"",description:y.description||"",key_concerns:y.key_concerns||"",strategic_priorities:y.strategic_priorities||"",key_stakeholders:y.key_stakeholders||"",regulatory_environment:y.regulatory_environment||"",additional_context:y.additional_context||""})},f=()=>{o(null),c(us)},j=async()=>{x(!0);try{await r({...a,id:i||void 0}),s(!1)}catch(u){console.error("Error saving profile:",u)}finally{x(!1)}};return e.jsx(Ze,{open:t,onOpenChange:s,children:e.jsx(Je,{className:"max-w-6xl max-h-[90vh] overflow-hidden p-0",children:e.jsxs("div",{className:"flex h-[90vh]",children:[e.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Profile"}),e.jsx(K,{size:"sm",className:"h-7 bg-pink-500 hover:bg-pink-600 text-white text-xs",onClick:f,children:"New +"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:n.map(u=>e.jsx("button",{onClick:()=>m(u.id),className:`w-full text-left px-4 py-3 border-b border-gray-200 hover:bg-white transition-colors ${i===u.id?"bg-white":""}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-sm text-gray-950 mb-0.5",children:u.name}),e.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[u.industry," â€¢ ",u.organization_type]}),e.jsx("div",{className:"text-xs text-gray-700 mb-1",children:u.tags?.join(" â€¢ ")}),e.jsx("span",{className:"inline-block text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Default"})]}),e.jsx(tr,{className:"w-3.5 h-3.5 text-pink-500 shrink-0"})]})},u.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(et,{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs(tt,{className:"text-xl font-bold",children:[i?"Edit Profile: ":"New Profile: ",a.name||"Untitled"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:e.jsxs("div",{className:"space-y-4 max-w-4xl",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold mb-1.5 block",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(es,{value:a.name,onChange:u=>c({...a,name:u.target.value}),placeholder:"Cybersecurity Organization",className:"h-9"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Key Concerns"}),e.jsx(Ae,{value:a.key_concerns,onChange:u=>c({...a,key_concerns:u.target.value}),placeholder:"Advanced persistent threats, Zero-day vulnerabilities...",className:"min-h-[60px] text-sm resize-none"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"â“˜ Separate multiple priorities with commas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Industry"}),e.jsxs(Z,{value:a.industry,onValueChange:u=>c({...a,industry:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Cybersecurity"})}),e.jsxs(te,{children:[e.jsx(P,{value:"Cybersecurity",children:"Cybersecurity"}),e.jsx(P,{value:"Financial Services",children:"Financial Services"}),e.jsx(P,{value:"Healthcare",children:"Healthcare"}),e.jsx(P,{value:"Technology",children:"Technology"}),e.jsx(P,{value:"Manufacturing",children:"Manufacturing"}),e.jsx(P,{value:"Retail",children:"Retail"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Organization Type"}),e.jsx(es,{value:a.organization_type,onChange:u=>c({...a,organization_type:u.target.value}),placeholder:"security_team",className:"h-9"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"â“˜ Separate multiple priorities with commas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Risk Tolerance"}),e.jsxs(Z,{value:a.risk_tolerance,onValueChange:u=>c({...a,risk_tolerance:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Conservative (Low Risk)"})}),e.jsxs(te,{children:[e.jsx(P,{value:"Conservative",children:"Conservative (Low Risk)"}),e.jsx(P,{value:"Moderate",children:"Moderate"}),e.jsx(P,{value:"Aggressive",children:"Aggressive (High Risk)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Strategic Priorities"}),e.jsx(Ae,{value:a.strategic_priorities,onChange:u=>c({...a,strategic_priorities:u.target.value}),placeholder:"Threat prevention, Incident response...",className:"min-h-[60px] text-sm resize-none"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"â“˜ Separate multiple priorities with commas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Innovation Approach"}),e.jsxs(Z,{value:a.innovation_approach,onValueChange:u=>c({...a,innovation_approach:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Conservative"})}),e.jsxs(te,{children:[e.jsx(P,{value:"Conservative",children:"Conservative"}),e.jsx(P,{value:"Balanced",children:"Balanced"}),e.jsx(P,{value:"Aggressive",children:"Aggressive"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Key Stakeholders"}),e.jsx(Ae,{value:a.key_stakeholders,onChange:u=>c({...a,key_stakeholders:u.target.value}),placeholder:"C-suite executives, IT teams...",className:"min-h-[60px] text-sm resize-none"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"â“˜ Separate multiple priorities with commas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Region"}),e.jsxs(Z,{value:a.region,onValueChange:u=>c({...a,region:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Global"})}),e.jsxs(te,{children:[e.jsx(P,{value:"Global",children:"Global"}),e.jsx(P,{value:"North America",children:"North America"}),e.jsx(P,{value:"Europe",children:"Europe"}),e.jsx(P,{value:"Asia Pacific",children:"Asia Pacific"}),e.jsx(P,{value:"Latin America",children:"Latin America"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Regulatory Environment"}),e.jsx(Ae,{value:a.regulatory_environment,onChange:u=>c({...a,regulatory_environment:u.target.value}),placeholder:"GDPR, SOC 2, ISO 27001...",className:"min-h-[60px] text-sm resize-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Decision Making Style"}),e.jsxs(Z,{value:a.decision_making_style,onValueChange:u=>c({...a,decision_making_style:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Data-Driven"})}),e.jsxs(te,{children:[e.jsx(P,{value:"Data-Driven",children:"Data-Driven"}),e.jsx(P,{value:"Intuitive",children:"Intuitive"}),e.jsx(P,{value:"Collaborative",children:"Collaborative"}),e.jsx(P,{value:"Hierarchical",children:"Hierarchical"})]})]})]}),e.jsx("div",{})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Competitive Landscape"}),e.jsx(Ae,{value:a.competitive_landscape,onChange:u=>c({...a,competitive_landscape:u.target.value}),placeholder:"Nation-state actors, Cybercriminal groups...",className:"min-h-[60px] text-sm resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Description"}),e.jsx(Ae,{value:a.description,onChange:u=>c({...a,description:u.target.value}),placeholder:"Security and risk management team focused on protecting digital assets...",className:"min-h-[60px] text-sm resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Additional Context"}),e.jsx(Ae,{value:a.additional_context,onChange:u=>c({...a,additional_context:u.target.value}),placeholder:"Zero-trust security approach with emphasis on proactive threat detection...",className:"min-h-[80px] text-sm resize-none"})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:[e.jsx(K,{variant:"outline",onClick:()=>s(!1),className:"px-6 text-pink-500 border-pink-200 hover:bg-pink-50",children:"Clear"}),e.jsx(K,{onClick:j,disabled:d||!a.name,className:"px-6 bg-pink-500 hover:bg-pink-600",children:d?"Saving...":"Save"})]})]})]})})})}function Ta({currentStep:t,totalSteps:s,stepLabels:n=[]}){return e.jsx("div",{className:"flex items-center justify-between mb-8",children:Array.from({length:s},(r,i)=>{const o=i+1,a=o===t,c=o<t,d=o===s;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors ${a?"bg-pink-500 text-white":c?"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:c?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o}),n[i]&&e.jsx("span",{className:`mt-2 text-xs ${a?"font-semibold text-gray-950":"text-gray-600"}`,children:n[i]})]}),!d&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${c?"bg-green-500":"bg-gray-200"}`})]},o)})})}const Ve={openai:{name:"OpenAI",link:"https://platform.openai.com/api-keys",help:"Supports GPT-4, GPT-4o, and more"},anthropic:{name:"Anthropic",link:"https://console.anthropic.com/settings/keys",help:"Supports Claude 3.5, Claude 4, and more"},gemini:{name:"Google Gemini",link:"https://aistudio.google.com/app/apikey",help:"Supports Gemini Pro, Gemini 2.0 Flash, and more"},newsapi:{name:"NewsAPI",link:"https://newsapi.org/register"},thenewsapi:{name:"TheNewsAPI",link:"https://www.thenewsapi.com/register"},newsdata:{name:"NewsData.io",link:"https://newsdata.io/register"}};function Pa({onNext:t}){const[s,n]=h.useState({provider:"",key:"",validated:!1,testing:!1,error:null}),[r,i]=h.useState({provider:"",key:"",validated:!1,testing:!1,error:null}),[o,a]=h.useState({provider:"firecrawl",key:"",validated:!1,testing:!1,error:null}),[c,d]=h.useState(!1),[x,m]=h.useState(!1),[f,j]=h.useState(!1),u=async p=>{const b=p==="llm"?s:p==="news"?r:o,N=p==="llm"?n:p==="news"?i:a;if(!b.key){N({...b,error:"Please enter an API key"});return}if(p!=="firecrawl"&&!b.provider){N({...b,error:"Please select a provider"});return}N({...b,testing:!0,error:null});try{const g=await On({provider:b.provider,api_key:b.key});g.configured||g.status==="valid"?N({...b,validated:!0,testing:!1,error:null}):N({...b,validated:!1,testing:!1,error:"Validation failed"})}catch(g){N({...b,validated:!1,testing:!1,error:g instanceof Error?g.message:"Failed to test key"})}},y=s.validated&&r.validated&&o.validated;return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"Step 1: Configure API Keys"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Set up your API keys for AI and news services"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"AI Provider"}),e.jsxs(Z,{value:s.provider,onValueChange:p=>n({...s,provider:p,validated:!1,error:null}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Select an AI provider"})}),e.jsxs(te,{children:[e.jsx(P,{value:"openai",children:"OpenAI (GPT-4, GPT-4o, etc.)"}),e.jsx(P,{value:"anthropic",children:"Anthropic (Claude)"}),e.jsx(P,{value:"gemini",children:"Google Gemini"})]})]}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Choose your AI provider - one key works for all models from that provider."})]}),s.provider&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:[Ve[s.provider]?.name," API Key"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:c?"text":"password",value:s.key,onChange:p=>n({...s,key:p.target.value,validated:!1,error:null}),placeholder:"Enter API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800",children:c?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(K,{variant:"outline",onClick:()=>u("llm"),disabled:s.testing,children:s.testing?e.jsx(ye,{className:"w-4 h-4 animate-spin"}):"Test"})]}),s.validated&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-600 text-sm",children:[e.jsx(yt,{className:"w-4 h-4"}),e.jsx("span",{children:"Key configured âœ“"})]}),s.error&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-red-600 text-sm",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:s.error})]}),e.jsxs("small",{className:"text-gray-600 text-xs",children:[Ve[s.provider]?.help,"."," ",e.jsx("a",{href:Ve[s.provider]?.link,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Get API key â†—"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"News Provider"}),e.jsxs(Z,{value:r.provider,onValueChange:p=>i({...r,provider:p,validated:!1,error:null}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Select a news provider"})}),e.jsxs(te,{children:[e.jsx(P,{value:"newsapi",children:"NewsAPI"}),e.jsx(P,{value:"thenewsapi",children:"TheNewsAPI"}),e.jsx(P,{value:"newsdata",children:"NewsData.io"})]})]}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Choose your news data provider."})]}),r.provider&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:[Ve[r.provider]?.name," API Key"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:x?"text":"password",value:r.key,onChange:p=>i({...r,key:p.target.value,validated:!1,error:null}),placeholder:"Enter API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("button",{type:"button",onClick:()=>m(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800",children:x?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(K,{variant:"outline",onClick:()=>u("news"),disabled:r.testing,children:r.testing?e.jsx(ye,{className:"w-4 h-4 animate-spin"}):"Test"})]}),r.validated&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-600 text-sm",children:[e.jsx(yt,{className:"w-4 h-4"}),e.jsx("span",{children:"Key configured âœ“"})]}),r.error&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-red-600 text-sm",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:r.error})]}),e.jsxs("small",{className:"text-gray-600 text-xs",children:["Required for fetching news articles."," ",e.jsx("a",{href:Ve[r.provider]?.link,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Register here â†—"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Firecrawl Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:f?"text":"password",value:o.key,onChange:p=>a({...o,key:p.target.value,validated:!1,error:null}),placeholder:"Enter API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("button",{type:"button",onClick:()=>j(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800",children:f?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(K,{variant:"outline",onClick:()=>u("firecrawl"),disabled:o.testing,children:o.testing?e.jsx(ye,{className:"w-4 h-4 animate-spin"}):"Test"})]}),o.validated&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-600 text-sm",children:[e.jsx(yt,{className:"w-4 h-4"}),e.jsx("span",{children:"Key configured âœ“"})]}),o.error&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-red-600 text-sm",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:o.error})]}),e.jsxs("small",{className:"text-gray-600 text-xs",children:["Required for web scraping and data collection."," ",e.jsx("a",{href:"https://www.firecrawl.dev/pricing",target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Free plan â†—"})]})]}),e.jsx("div",{className:"flex justify-end mt-8",children:e.jsx(K,{onClick:t,disabled:!y,className:"bg-pink-500 hover:bg-pink-600",children:"Next â†’"})})]})}function Te({value:t,onChange:s,placeholder:n="Type and press Enter to add",suggestions:r=[],id:i}){const[o,a]=h.useState(""),c=m=>{m.key==="Enter"&&o.trim()?(m.preventDefault(),t.includes(o.trim())||s([...t,o.trim()]),a("")):m.key==="Backspace"&&!o&&t.length>0&&s(t.slice(0,-1))},d=m=>{s(t.filter(f=>f!==m))},x=m=>{t.includes(m)||s([...t,m])};return e.jsxs("div",{children:[e.jsxs("div",{className:"border border-pink-200 rounded-lg p-3 min-h-[100px] flex flex-wrap gap-2 items-start bg-white",children:[t.map((m,f)=>e.jsxs("span",{className:"inline-flex items-center bg-pink-100 text-pink-700 px-3 py-1 rounded-full text-sm border border-pink-200 shadow-sm",children:[m,e.jsx("button",{type:"button",onClick:()=>d(m),className:"ml-2 opacity-60 hover:opacity-100 transition-opacity","aria-label":`Remove ${m}`,children:e.jsx(wn,{className:"w-3 h-3"})})]},f)),e.jsx("input",{type:"text",id:i,value:o,onChange:m=>a(m.target.value),onKeyDown:c,placeholder:t.length===0?n:"",className:"flex-1 min-w-[150px] border-none outline-none p-1 text-sm"})]}),r.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.map((m,f)=>e.jsxs("button",{type:"button",onClick:()=>x(m),disabled:t.includes(m),className:"px-3 py-1 text-sm bg-pink-50 text-pink-600 border border-pink-200 rounded-full hover:bg-pink-500 hover:text-white transition-colors disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-pink-50 disabled:hover:text-pink-600 relative group",children:[m,!t.includes(m)&&e.jsx("span",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Click to add"})]},f))})]})}const hs={signals:["AI is hype","AI is evolving gradually","AI is accelerating","AI reaches plateau","AI breakthrough imminent"],categories:["AI in Finance","AI Ethics","AI Regulation","Cloud Computing","Edge AI"]},ps={sentiments:["Positive","Negative","Neutral"],timeToImpact:["Immediate (0-6 months)","Short-term (6-18 months)","Mid-term (18-60 months)","Long-term (60+ months)"]};function Ia({onNext:t,onBack:s}){const[n,r]=h.useState(""),[i,o]=h.useState(""),[a,c]=h.useState([]),[d,x]=h.useState([]),[m,f]=h.useState(ps.sentiments),[j,u]=h.useState(ps.timeToImpact),[y,p]=h.useState(!1),[b,N]=h.useState(!1),[g,w]=h.useState(null),[l,v]=h.useState(null),k=async()=>{if(!n.trim()){alert("Please enter a topic name first");return}N(!0);try{const _=await vs({topic_name:n,topic_description:i||void 0});if(_){const M={futureSignals:_.future_signals||[],categories:_.categories||[],sentiments:_.sentiments||[],timeToImpact:_.time_to_impact||[],keywords:_.keywords||[]};w(M),p(!0),_.explanation&&o(_.explanation),M.futureSignals?.length>0&&c(M.futureSignals),M.categories?.length>0&&x(M.categories),_.keywords&&v(_.keywords)}}catch(_){console.error("Error getting suggestions:",_),alert("Failed to get AI suggestions. Please try again.")}finally{N(!1)}},S=()=>{if(!n.trim()){alert("Please enter a topic name");return}if(a.length===0||d.length===0||m.length===0||j.length===0){alert("Please fill in all required fields or use AI suggestions");return}t({name:n,description:i,futureSignals:a,categories:d,sentiments:m,timeToImpact:j},l)};return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"Step 2: Set Up Your First Topic"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Create a topic to start monitoring"}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6 text-sm text-gray-800",children:[e.jsxs("p",{children:["At the core of ",e.jsx("strong",{children:"AuNoo AI"})," are ",e.jsx("strong",{children:"topics"}),"â€”flexible constructs that can represent markets, knowledge fields, organizations, or even specific strategic questions. For instance:"]}),e.jsxs("ul",{className:"mt-2 ml-4 list-disc space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Markets"}),": Cloud Service Providers, EV Battery Suppliers, or Threat Intelligence Providers."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Knowledge Fields"}),": Neurology, AI, or Archeology."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Organizations or People"}),": AI researchers, competitors, or even a favorite sports team."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scenarios"}),': Questions like "Is AI hype?" or "How strong is the Cloud Repatriation movement?"']})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Topic Name"}),e.jsx("input",{type:"text",value:n,onChange:_=>r(_.target.value),placeholder:"Enter a descriptive name for your topic",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Enter a descriptive name for your topic"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Topic Description (Optional)"}),e.jsx("textarea",{value:i,onChange:_=>o(_.target.value),rows:3,placeholder:"Provide additional details about this topic to improve attribute suggestions",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"A brief description helps the AI provide better suggestions"})]}),e.jsx("div",{className:"mb-6",children:e.jsx(K,{variant:"outline",onClick:k,disabled:b||!n.trim(),className:"border-pink-500 text-pink-600 hover:bg-pink-50",children:b?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Suggestions..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Suggest Details"]})})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Future Signals"}),e.jsxs("p",{className:"text-gray-700 text-sm mb-2",children:["Future Signals are scenarios that suggest potential directions for a topic. For instance, signals for an AI hype model could range from",e.jsx("span",{className:"text-blue-600",children:' "AI is hype"'})," and",e.jsx("span",{className:"text-blue-600",children:' "AI is evolving gradually"'}),", to",e.jsx("span",{className:"text-blue-600",children:' "AI is accelerating"'}),"."]}),e.jsx(Te,{value:a,onChange:c,suggestions:g?.futureSignals||hs.signals,id:"futureSignalsInput"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Add signals that indicate future developments"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Categories"}),e.jsxs("p",{className:"text-gray-700 text-sm mb-2",children:["Each topic is broken down into categories, making it easier to organize and analyze data. For example, a topic on AI might include subcategories like",e.jsx("span",{className:"text-blue-600",children:" AI in Finance"})," or",e.jsx("span",{className:"text-blue-600",children:" Cloud Quarterly Earnings"}),"."]}),e.jsx(Te,{value:d,onChange:x,suggestions:g?.categories||hs.categories,id:"categoriesInput"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Add categories that describe your topic"})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(K,{variant:"outline",onClick:s,children:"â† Back"}),e.jsx(K,{onClick:S,className:"bg-pink-500 hover:bg-pink-600",children:"Next â†’"})]})]})}function Ea({topicData:t,suggestedKeywords:s,onBack:n,onComplete:r}){const[i,o]=h.useState([]),[a,c]=h.useState([]),[d,x]=h.useState([]),[m,f]=h.useState([]),[j,u]=h.useState([]),[y,p]=h.useState(!1),[b,N]=h.useState(!1);h.useEffect(()=>{s&&(console.log("Populating keywords from Step 2:",s),s.companies?.length>0&&o(s.companies.slice(0,3)),s.technologies?.length>0&&c(s.technologies.slice(0,3)),s.general?.length>0&&x(s.general.slice(0,3)),s.people?.length>0&&f(s.people.slice(0,2)),s.exclusions?.length>0&&u(s.exclusions.slice(0,2)))},[s]);const g=async()=>{N(!0);try{const l=`Suggest relevant keywords for the topic "${t.name}". Organize them into these categories: Companies & Organizations, Technologies, General Keywords, People, and Exclusion Keywords (misinformation, unrelated terms). Provide only the most relevant and high-quality keywords for each category. Use real company and technology names where possible. Exclusion keywords should help filter out noise or unrelated results. Topic description: ${t.description}`,v=await vs({topic_name:t.name,topic_description:t.description,keyword_prompt:l});v&&v.keywords&&(console.log("Regenerated keywords:",v.keywords),o(v.keywords.companies?.slice(0,3)||[]),c(v.keywords.technologies?.slice(0,3)||[]),x(v.keywords.general?.slice(0,3)||[]),f(v.keywords.people?.slice(0,2)||[]),u(v.keywords.exclusions?.slice(0,2)||[]))}catch(l){console.error("Error regenerating keywords:",l),alert("Failed to regenerate keywords. Please try again.")}finally{N(!1)}},w=async()=>{const l=[...i.map(v=>`company:${v}`),...a.map(v=>`tech:${v}`),...d,...m.map(v=>`person:${v}`),...j.map(v=>v.startsWith("-")||v.startsWith("NOT ")?v:`-${v}`)];if(l.length===0){alert("Please add at least one keyword");return}p(!0);try{const v=await Ln({name:t.name,description:t.description,futureSignals:t.futureSignals,categories:t.categories,sentiments:t.sentiments,timeToImpact:t.timeToImpact,keywords:l});v.status==="success"||v.success?(await Dn(),r()):alert(v.message||"Failed to save topic")}catch(v){console.error("Error completing onboarding:",v),alert("Failed to complete onboarding. Please try again.")}finally{p(!1)}};return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"Step 3: Set Up Keywords"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Add keywords to monitor for your topic"}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6 text-sm text-gray-800",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Keywords"})," help AuNoo find relevant articles. You can organize keywords by category:"]}),e.jsxs("ul",{className:"ml-4 list-disc space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Companies"}),": Organizations to track"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Technologies"}),": Specific technologies or products"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"People"}),": Key individuals or thought leaders"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"General"}),": Other relevant terms"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Exclusions"}),": Terms to exclude from results (prefix with -)"]})]})]}),s&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3 text-sm text-green-800",children:[e.jsx("span",{className:"font-semibold",children:"âœ“"})," Keywords from Step 2 have been applied"]}),e.jsx(K,{variant:"outline",onClick:g,disabled:b,className:"border-pink-500 text-pink-600 hover:bg-pink-50",children:b?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Get Different Suggestions"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Companies & Organizations"}),e.jsx(Te,{value:i,onChange:o,placeholder:"Add companies",id:"companiesInput"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Technologies"}),e.jsx(Te,{value:a,onChange:c,placeholder:"Add technologies",id:"technologiesInput"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"General Keywords"}),e.jsx(Te,{value:d,onChange:x,placeholder:"Add general keywords",id:"generalKeywordsInput"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Keywords that don't fit into specific categories above"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"People"}),e.jsx(Te,{value:m,onChange:f,placeholder:"Add people",id:"peopleInput"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Exclusion Keywords"}),e.jsx(Te,{value:j,onChange:u,placeholder:"Add exclusions (prefix with - or NOT)",id:"exclusionKeywordsInput"}),e.jsx("small",{className:"text-gray-600 text-xs",children:'Prefix with minus (-) or "NOT" to exclude terms from search results'})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:"Topic Summary"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.name]}),t.description&&e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",t.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Categories:"})," ",t.categories.length]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Future Signals:"})," ",t.futureSignals.length]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Keywords:"})," ",i.length+a.length+d.length+m.length+j.length]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(K,{variant:"outline",onClick:n,disabled:y,children:"â† Back"}),e.jsx(K,{onClick:w,disabled:y,className:"bg-pink-500 hover:bg-pink-600",children:y?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Complete Setup"})]})]})}function Ra({open:t,onOpenChange:s,onComplete:n}){const[r,i]=h.useState(1),[o,a]=h.useState(null),[c,d]=h.useState(null),[x,m]=h.useState(!0);h.useEffect(()=>{t&&f()},[t]);const f=async()=>{m(!0);try{const g=await Mn();(g.openai||g.anthropic||g.gemini)&&(g.newsapi||g.thenewsapi||g.newsdata)&&g.firecrawl?(console.log("All API keys configured, skipping Step 1"),i(2)):i(1)}catch(g){console.error("Error checking API keys:",g),i(1)}finally{m(!1)}},j=()=>{i(2)},u=(g,w)=>{a(g),d(w),i(3)},y=()=>{i(1)},p=()=>{i(2)},b=()=>{s(!1),i(1),a(null),m(!0),n&&n()},N=["API Keys","Topic Setup","Keywords"];return x&&t?e.jsx(Ze,{open:t,onOpenChange:s,children:e.jsxs(Je,{className:"max-w-4xl",children:[e.jsxs(et,{children:[e.jsx(tt,{children:"Loading Onboarding"}),e.jsx(_t,{children:"Checking your API key configuration..."})]}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Checking configuration..."})]})})]})}):e.jsx(Ze,{open:t,onOpenChange:s,children:e.jsxs(Je,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(et,{children:[e.jsx(tt,{className:"text-2xl font-bold text-center",children:"Welcome to AuNoo AI"}),e.jsx(_t,{className:"sr-only",children:"Set up your AuNoo AI account and create your first topic"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Ta,{currentStep:r,totalSteps:3,stepLabels:N}),e.jsxs("div",{className:"mt-8",children:[r===1&&e.jsx(Pa,{onNext:j}),r===2&&e.jsx(Ia,{onNext:u,onBack:y}),r===3&&o&&e.jsx(Ea,{topicData:o,suggestedKeywords:c,onBack:p,onComplete:b})]})]})]})})}const Oa=Sn("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ma({className:t,variant:s,...n}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:ie(Oa({variant:s}),t),...n})}function La({className:t,...s}){return e.jsx("div",{"data-slot":"alert-title",className:ie("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...s})}function Da({className:t,...s}){return e.jsx("div",{"data-slot":"alert-description",className:ie("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}const ot={"gpt-3.5-turbo":16385,"gpt-3.5-turbo-16k":16385,"gpt-4":8192,"gpt-4-32k":32768,"gpt-4-turbo":128e3,"gpt-4-turbo-preview":128e3,"gpt-4o":128e3,"gpt-4o-mini":128e3,"gpt-4.1":1e6,"gpt-4.1-mini":1e6,"gpt-4.1-nano":1e6,"claude-3-opus":2e5,"claude-3-sonnet":2e5,"claude-3-haiku":2e5,"claude-3.5-sonnet":2e5,"claude-4":2e5,"claude-4-opus":2e5,"claude-4-sonnet":2e5,"claude-4-haiku":2e5,"gemini-pro":32768,"gemini-1.5-pro":2097152,"llama-2-70b":4096,"llama-3-70b":8192,"mixtral-8x7b":32768,default:16385};function $a(t){return Math.ceil((t?.length||0)/4)}function za(t,s,n="auto",r){if(n==="custom"&&r)return r;const o=(ot[t]||ot.default)>=1e6;let a;switch(n){case"focused":a=o?50:25;break;case"balanced":a=o?100:50;break;case"comprehensive":a=o?200:100;break;case"auto":default:const x=(s?.length||0)>200?1.2:1;let m=o?150:75;(s.includes("trend")||s.includes("convergence"))&&(m=o?300:150),a=Math.round(m*x);break}return Math.max(10,Math.min(a,o?1e3:400))}function Fa(t,s="auto",n){const r="trend convergence analysis",i=za(t,r,s,n),o=ot[t]||ot.default,a=500,c=$a(r),x=i*180,m=a+c+x,f=m/o*100,j=o>=1e6?" ðŸš€1M":o>=2e5?" âš¡200K":o>=1e5?" ðŸ’«100K":"",u=`Context: ${i} articles, ~${m.toLocaleString()} tokens (${f.toFixed(1)}%)${j}`;let y="text-blue-700";return f>90?y="text-red-600 font-bold":f>70?y="text-orange-600 font-semibold":f>50&&(y="text-green-600 font-medium"),{sampleSize:i,totalTokens:m,contextUsage:f,contextLimit:o,modelIndicator:j,displayText:u,colorClass:y}}function Ba(){const{data:t,topics:s,profiles:n,models:r,config:i,loading:o,error:a,generateAnalysis:c,updateConfig:d}=$n(),[x,m]=h.useState("strategic-recommendations"),[f,j]=h.useState(!1),[u,y]=h.useState(!1),[p,b]=h.useState(!1),[N,g]=h.useState(null);h.useEffect(()=>{new URLSearchParams(window.location.search).get("onboarding")==="true"&&(b(!0),window.history.replaceState({},"",window.location.pathname))},[]),h.useEffect(()=>{const v={consensus:"consensus","strategic-recommendations":"strategic","impact-timeline":"timeline","market-signals":"signals","future-horizons":"horizons"}[x];v&&d({tab:v})},[x,d]),h.useEffect(()=>{if(i.model){const l=i.custom_limit?"custom":"auto",v=Fa(i.model,l,i.custom_limit);g(v)}},[i.model,i.custom_limit]);const w=async()=>{await c(),j(!1)};return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(kn,{currentPage:"anticipate"}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("span",{children:"Explore"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium text-gray-950",children:"Strategic Recommendations"}),e.jsx("span",{children:"â€¢"}),e.jsx("span",{children:"Current indicators and potential disruption scenarios"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-md",children:e.jsx(Cn,{className:"w-5 h-5 text-gray-700"})}),e.jsxs("button",{onClick:()=>b(!0),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium flex items-center gap-2 text-gray-950",children:["Set up topic",e.jsx("span",{className:"text-gray-500",children:"+"})]})]})]}),e.jsx(Ze,{open:f,onOpenChange:j,children:e.jsxs(Je,{className:"max-w-4xl",children:[e.jsxs(et,{children:[e.jsx(tt,{className:"text-2xl font-bold",children:"Configure Trend Convergence Analysis"}),e.jsx(_t,{className:"sr-only",children:"Configure your analysis settings"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Topic"}),e.jsxs(Z,{value:i.topic,onValueChange:l=>d({topic:l}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Cloud Repatriation"})}),e.jsx(te,{children:s.map(l=>e.jsx(P,{value:l.name,children:l.display_name},l.name))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Analysis Timeframe"}),e.jsxs(Z,{value:i.timeframe_days.toString(),onValueChange:l=>d({timeframe_days:parseInt(l)}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"All Time"})}),e.jsxs(te,{children:[e.jsx(P,{value:"0",children:"All Time"}),e.jsx(P,{value:"30",children:"Last 30 days"}),e.jsx(P,{value:"90",children:"Last 90 days"}),e.jsx(P,{value:"180",children:"Last 180 days"}),e.jsx(P,{value:"365",children:"Last year"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"AI Model"}),e.jsxs(Z,{value:i.model,onValueChange:l=>d({model:l}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"gpt-4.1-mini"})}),e.jsx(te,{children:r.map(l=>e.jsx(P,{value:l.id,children:l.name},l.id))})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Analysis Depth"}),e.jsxs(Z,{value:i.analysis_depth,onValueChange:l=>d({analysis_depth:l}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Standard analysis"})}),e.jsxs(te,{children:[e.jsx(P,{value:"quick",children:"Quick Overview"}),e.jsx(P,{value:"standard",children:"Standard analysis"}),e.jsx(P,{value:"deep",children:"Deep Dive"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Organizational Profile"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Z,{value:i.profile_id?.toString()||"",onValueChange:l=>d({profile_id:l?parseInt(l):void 0}),children:[e.jsx(ee,{className:"flex-1",children:e.jsx(J,{placeholder:"Select Profile"})}),e.jsx(te,{children:n.map(l=>e.jsx(P,{value:l.id.toString(),children:l.name},l.id))})]}),e.jsx(K,{variant:"outline",size:"icon",className:"shrink-0 bg-pink-500 hover:bg-pink-600 text-white border-0",onClick:()=>y(!0),children:e.jsx(vt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Article Sample Size"}),e.jsxs(Z,{value:i.custom_limit?.toString()||"auto",onValueChange:l=>{d(l==="auto"?{custom_limit:void 0,sample_size_mode:"auto"}:{custom_limit:parseInt(l),sample_size_mode:"custom"})},children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Auto Size"})}),e.jsxs(te,{children:[e.jsx(P,{value:"auto",children:"Auto Size"}),e.jsx(P,{value:"50",children:"50 articles"}),e.jsx(P,{value:"100",children:"100 articles"}),e.jsx(P,{value:"200",children:"200 articles"})]})]}),N&&e.jsxs("div",{className:"mt-2 p-3 bg-cyan-50 rounded-lg flex items-start gap-2",children:[e.jsx(Xe,{className:"w-4 h-4 text-cyan-600 mt-0.5 shrink-0"}),e.jsx("div",{className:"text-xs",children:e.jsx("span",{className:`font-medium ${N.colorClass}`,children:N.displayText})})]})]})]})]}),a&&e.jsxs(Ma,{variant:"destructive",className:"mt-6",children:[e.jsx(Xe,{className:"h-4 w-4"}),e.jsx(La,{children:"Error"}),e.jsx(Da,{children:a})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[e.jsx(K,{variant:"outline",onClick:()=>j(!1),className:"px-6",children:"Clear"}),e.jsx(K,{onClick:w,disabled:o||!i.topic,className:"px-6 bg-pink-500 hover:bg-pink-600",children:o?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):e.jsxs(e.Fragment,{children:["Load analysis",e.jsx("span",{className:"ml-2",children:"â–¶"})]})})]})]})}),e.jsx("div",{className:"bg-white px-6 py-4",children:e.jsx(ar,{activeTab:x,onTabChange:m})}),e.jsx("div",{className:"bg-white px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yt,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Topic:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-950",children:i.topic||"Cloud Repatriation"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Updated:"}),e.jsx("span",{className:"text-sm font-medium",children:t?._cache_info?.last_updated||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,".")}),e.jsx("button",{onClick:()=>c(!0),disabled:o,className:"p-2 hover:bg-gray-100 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh analysis (bypass cache)",children:e.jsx(nr,{className:`w-4 h-4 text-gray-700 ${o?"animate-spin":""}`})})]})]})}),e.jsxs("div",{className:"bg-white px-6 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 text-pink-500 hover:bg-pink-50 rounded-md text-sm font-medium flex items-center gap-2",children:[e.jsx(vt,{className:"w-4 h-4"}),"Configure"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"px-3 py-2 hover:bg-gray-100 rounded-md text-sm font-medium flex items-center gap-2 text-pink-500",children:[e.jsx(qe,{className:"w-4 h-4"}),"Columns"]}),e.jsxs("button",{className:"px-3 py-2 hover:bg-gray-100 rounded-md text-sm font-medium flex items-center gap-2 text-pink-500",children:[e.jsx(Zn,{className:"w-4 h-4"}),"Image"]}),e.jsxs("button",{className:"px-3 py-2 hover:bg-gray-100 rounded-md text-sm font-medium flex items-center gap-2 text-pink-500",children:[e.jsx(_n,{className:"w-4 h-4"}),"PDF"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ye,{className:"w-12 h-12 animate-spin text-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Analyzing trends and generating recommendations..."})]})}):t?e.jsxs("div",{className:"space-y-6 max-w-6xl",children:[x==="impact-timeline"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:(t.impact_timeline||[]).map((l,v)=>{const k=["orange","purple","green","blue","pink","lime"],S=k[v%k.length];return e.jsx(hr,{title:typeof l=="string"?l:l.title||l.name,description:typeof l=="string"?"":l.description||"",timelineStart:typeof l=="string"?2024:l.timeline_start||2024,timelineEnd:typeof l=="string"?2030:l.timeline_end||2030,tooltipPositions:typeof l=="string"?[]:l.tooltip_positions||[],color:S},v)})}),t.key_insights&&t.key_insights.length>0&&e.jsxs("div",{className:"mt-8 bg-cyan-50 border border-cyan-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(qe,{className:"w-5 h-5 text-cyan-600"}),e.jsx("h2",{className:"text-xl font-bold",children:"Key Insights from Evidence Synthesis"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.key_insights.map((l,v)=>{const k=["bg-blue-500","bg-green-500","bg-red-500","bg-orange-500"],S=k[v%k.length];return e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-3 h-3 ${S} rounded-full mt-1 shrink-0`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-950 mb-1",children:typeof l=="string"?l:l.quote||l.insight}),e.jsx("div",{className:"text-xs text-gray-700",children:typeof l=="string"?"":l.relevance||l.source||""})]})]},v)})})]})]}),x==="market-signals"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-800",children:"Future Signal"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-800",children:"Frequency"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-800",children:"Time to Impact"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:(t.future_signals||[]).map((l,v)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 text-sm text-gray-950",children:typeof l=="string"?l:l.name||l.description}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"inline-block px-3 py-1 text-xs font-medium bg-pink-100 text-pink-700 rounded",children:typeof l=="string"?"Badge":l.frequency||"Badge"})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:typeof l=="string"?"Immediate/Mid/Long-term":l.time_to_impact||"Immediate/Mid/Long-term"})]},v))})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(Xe,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-950 mb-2",children:t.disruption_scenarios?.[0]?.title||"Current indicators and potential disruption scenarios"}),e.jsx("p",{className:"text-sm text-gray-700",children:t.disruption_scenarios?.[0]?.description||"High investment levels create bubble risk. 98% of investors worried about power reliability for datacenters, yet 70% anticipate increased funding driven by AI demand."})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(Xe,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-950 mb-2",children:t.disruption_scenarios?.[1]?.title||"Timeline Risk: AGI Overexpectation"}),e.jsx("p",{className:"text-sm text-gray-700",children:t.disruption_scenarios?.[1]?.description||"Ambitious timelines for achieving AGI may be overly optimistic due to diminishing returns and operational challenges."})]})]})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(He,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-950 mb-2",children:t.opportunities?.[0]?.title||"Opportunity: Infrastructure Build-out"}),e.jsx("p",{className:"text-sm text-gray-700",children:t.opportunities?.[0]?.description||"Data center expansion creates competitive advantages for early movers who secure energy and infrastructure partnerships."})]})]})}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(He,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-950 mb-2",children:t.opportunities?.[1]?.title||"Opportunity: Gradual Adoption Advantage"}),e.jsx("p",{className:"text-sm text-gray-700",children:t.opportunities?.[1]?.description||"Companies focusing on sustainable, gradual AI integration may outperform those chasing unrealistic AGI timelines."})]})]})})]})]}),e.jsx("div",{className:"space-y-4",children:(t.key_insights||[]).slice(0,2).map((l,v)=>e.jsx("div",{className:"bg-cyan-50 border border-cyan-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"text-4xl text-cyan-400 font-serif leading-none",children:'"'}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-800 mb-2 italic",children:typeof l=="string"?l:l.quote||l.insight||l.description}),e.jsxs("p",{className:"text-sm text-gray-700 text-right",children:["â€” ",typeof l=="string"?"Industry Analysis":l.source||l.attribution||"Industry Analysis"]})]})]})},v))})]}),x==="consensus"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[(t.categories||[]).map((l,v)=>e.jsx(xr,{category:l,index:v},v)),(!t.categories||t.categories.length===0)&&(t.convergences||[]).map((l,v)=>{const k=["purple","orange","blue","green","pink","indigo"],S=k[v%k.length];return e.jsx(lr,{name:l.name||"Unnamed Convergence",description:l.description||"",consensusPercentage:l.consensus_percentage||80,timelineStartYear:l.timeline_start_year||2024,timelineEndYear:l.timeline_end_year||2050,optimisticOutlier:l.optimistic_outlier||{year:2024,description:"Optimistic scenario",source_percentage:25},pessimisticOutlier:l.pessimistic_outlier||{year:2040,description:"Pessimistic scenario",source_percentage:35},strategicImplication:l.strategic_implication||"Strategic planning required",keyArticles:l.key_articles||[],color:S,consensusType:l.consensus_type,sentimentDistribution:l.sentiment_distribution,timelineConsensus:l.timeline_consensus,articlesAnalyzed:l.articles_analyzed,actionItems:l.action_items,timeframeAnalysis:l.timeframe_analysis},v)})]}),t.key_insights&&t.key_insights.length>0&&e.jsxs("div",{className:"mt-8 bg-cyan-50 border border-cyan-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(qe,{className:"w-5 h-5 text-cyan-600"}),e.jsx("h2",{className:"text-xl font-bold",children:"Key Insights from Evidence Synthesis"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.key_insights.map((l,v)=>{const k=["bg-blue-500","bg-green-500","bg-red-500","bg-orange-500"],S=k[v%k.length];return e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-3 h-3 ${S} rounded-full mt-1 shrink-0`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-950 mb-1",children:typeof l=="string"?l:l.quote||l.insight}),e.jsx("div",{className:"text-xs text-gray-700",children:typeof l=="string"?"":l.relevance||l.source||""})]})]},v)})})]})]}),x==="strategic-recommendations"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Strategic Recommendations"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"bg-green-50 p-6 border-b border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Yt,{className:"w-4 h-4 text-green-700"})}),e.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"NEAR-TERM"})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t.strategic_recommendations?.near_term?.timeframe||"2025-2027"})]}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-3",children:(t.strategic_recommendations?.near_term?.trends||[]).slice(0,4).map((l,v)=>e.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"â€¢"}),e.jsx("span",{children:typeof l=="string"?l:l.name||l.description})]},v))})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsx(wt,{startYear:2024,endYear:2030,color:"green"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"bg-amber-50 p-6 border-b border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx(An,{className:"w-4 h-4 text-amber-700"})}),e.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"MID-TERM"})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t.strategic_recommendations?.mid_term?.timeframe||"2027-2032"})]}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-3",children:(t.strategic_recommendations?.mid_term?.trends||[]).slice(0,4).map((l,v)=>e.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex gap-2",children:[e.jsx("span",{className:"text-amber-600 font-bold",children:"â€¢"}),e.jsx("span",{children:typeof l=="string"?l:l.name||l.description})]},v))})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsx(wt,{startYear:2027,endYear:2033,color:"yellow"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"bg-rose-50 p-6 border-b border-rose-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center",children:e.jsx(He,{className:"w-4 h-4 text-rose-700"})}),e.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"LONG-TERM (2032+)"})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t.strategic_recommendations?.long_term?.timeframe||"2032+"})]}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-3",children:(t.strategic_recommendations?.long_term?.trends||[]).slice(0,4).map((l,v)=>e.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex gap-2",children:[e.jsx("span",{className:"text-rose-600 font-bold",children:"â€¢"}),e.jsx("span",{children:typeof l=="string"?l:l.name||l.description})]},v))})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsx(wt,{startYear:2032,endYear:2040,color:"red"})})]})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(He,{className:"w-5 h-5 text-orange-600"}),e.jsx("h2",{className:"text-xl font-bold",children:"Executive Decision Framework"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:(t.executive_decision_framework?.principles||[]).map((l,v)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[e.jsx("h3",{className:"font-semibold text-sm mb-2",children:l.title||l.name}),e.jsx("p",{className:"text-sm text-gray-800",children:l.description||l.content||l.rationale})]},v))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(qe,{className:"w-5 h-5 text-gray-700"}),e.jsx("h2",{className:"text-xl font-bold",children:"Next Steps:"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:(t.next_steps||[]).map((l,v)=>e.jsxs("div",{className:"flex gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-sm font-medium text-gray-800",children:v+1}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-800",children:typeof l=="string"?l:l.action||l.description||JSON.stringify(l)})})]},v))})]})]}),x==="future-horizons"&&e.jsx(pr,{scenarios:t.scenarios||[]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(He,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-950 mb-2",children:"Ready to Analyze Trends"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Configure your analysis settings to get started"}),e.jsxs(K,{onClick:()=>j(!0),children:[e.jsx(vt,{className:"w-4 h-4 mr-2"}),"Configure Analysis"]})]})})})]}),e.jsx(Aa,{open:u,onOpenChange:y,profiles:n,onSave:async l=>{console.log("Saving profile:",l)}}),e.jsx(Ra,{open:p,onOpenChange:b,onComplete:()=>{window.location.reload()}})]})}Tn.createRoot(document.getElementById("root")).render(e.jsx(Ba,{}));
