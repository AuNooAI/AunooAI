import{r as p,c as Y,j as e,I as fn,C as Lt,a as ie,b as Dt,R as _e,u as q,d as kt,e as $t,P as U,f as ae,g as fs,h as qt,i as zt,k as W,l as gn,m as vn,n as yn,o as bn,F as jn,D as Nn,p as Ze,q as Qe,B as K,s as Je,t as et,X as wn,S as gs,v as _t,w as Cn,x as Sn,y as kn,z as gt,A as Yt,E as Ge,G as _n,T as An,H as Pn}from"./index-D931yIEg.js";const xe="";async function ue(t,s={}){try{const n=await fetch(t,{...s,credentials:"include",headers:{"Content-Type":"application/json",...s.headers}});if(n.status===401||n.status===403)throw window.location.href="/login",new Error("Authentication required");if(!n.ok){const r=await n.json().catch(()=>({detail:"Unknown error"}));throw new Error(r.detail||`HTTP ${n.status}: ${n.statusText}`)}return await n.json()}catch(n){throw console.error("API Error:",n),n}}async function Tn(t){const s=new URLSearchParams;s.append("model",t.model),s.append("timeframe_days",String(t.timeframe_days||365)),s.append("analysis_depth",t.analysis_depth||"standard"),s.append("sample_size_mode",t.sample_size_mode||"auto"),s.append("consistency_mode",t.consistency_mode||"balanced"),s.append("enable_caching",String(t.enable_caching!==!1)),s.append("cache_duration_hours",String(t.cache_duration_hours||24)),t.custom_limit&&s.append("custom_limit",String(t.custom_limit)),t.profile_id&&s.append("profile_id",String(t.profile_id)),t.tab&&s.append("tab",t.tab);const n=`${xe}/api/trend-convergence/${encodeURIComponent(t.topic)}?${s}`;return ue(n)}async function In(){return(await ue(`${xe}/api/topics`)).map(s=>({name:s.name,display_name:s.display_name||s.name,article_count:s.article_count}))}async function En(){return(await ue(`${xe}/api/organizational-profiles`)).profiles||[]}async function Rn(){try{const t=await ue(`${xe}/api/available_models`),s={"gpt-3.5-turbo":16385,"gpt-4":8192,"gpt-4-turbo":128e3,"gpt-4o":128e3,"gpt-4o-mini":128e3,"gpt-4.1":1e6,"gpt-4.1-mini":1e6,"gpt-4.1-nano":1e6,"claude-3-opus":2e5,"claude-3-sonnet":2e5,"claude-3-haiku":2e5,"claude-3.5-sonnet":2e5,"claude-4":2e5,"gemini-pro":32768,"gemini-1.5-pro":2097152,default:128e3};return t.map(n=>({id:n.name,name:`${n.name} (${n.provider})`,context_limit:s[n.name]||s.default}))}catch(t){return console.error("Error fetching models:",t),[{id:"gpt-4o-mini",name:"GPT-4o Mini (openai)",context_limit:128e3},{id:"gpt-4.1-mini",name:"GPT-4.1 Mini (openai)",context_limit:1e6},{id:"claude-3.5-sonnet",name:"Claude 3.5 Sonnet (anthropic)",context_limit:2e5}]}}async function On(t){return ue(`${xe}/api/onboarding/validate-api-key`,{method:"POST",body:JSON.stringify(t)})}async function Mn(){return ue(`${xe}/api/onboarding/check-keys`)}async function vs(t){return ue(`${xe}/api/onboarding/suggest-topic-attributes`,{method:"POST",body:JSON.stringify(t)})}async function Ln(t){return ue(`${xe}/api/onboarding/save-topic`,{method:"POST",body:JSON.stringify(t)})}async function Dn(){return ue(`${xe}/api/onboarding/complete`,{method:"POST"})}async function $n(t,s,n=100,r,i){const o=new URLSearchParams;o.append("topic",t),o.append("model",s),o.append("limit",String(n));const l=`${xe}/api/market-signals/analysis?${o}`;return ue(l)}const Zt={topic:"",timeframe_days:365,model:"gpt-4o",analysis_depth:"standard",sample_size_mode:"auto",consistency_mode:"balanced",enable_caching:!0,cache_duration_hours:24},Ae={CONFIG:"trendConvergence_config",DATA:"trendConvergence_data",DATA_PREFIX:"trendConvergence_data_",TOPIC:"trendConvergence_topic"};function zn(){const t=()=>{try{const a=localStorage.getItem(Ae.CONFIG);if(a)return{...Zt,...JSON.parse(a)}}catch(a){console.error("Error loading stored config:",a)}return Zt},s=a=>{try{if(a){const C=`${Ae.DATA_PREFIX}${a}`,S=localStorage.getItem(C);if(S)return JSON.parse(S)}const h=localStorage.getItem(Ae.DATA);if(h)return JSON.parse(h)}catch(h){console.error("Error loading stored data:",h)}return null},[n,r]=p.useState(null),[i,o]=p.useState([]),[l,c]=p.useState([]),[d,x]=p.useState([]),[m,g]=p.useState(t),[j,u]=p.useState(!1),[v,f]=p.useState(null);p.useEffect(()=>{try{localStorage.setItem(Ae.CONFIG,JSON.stringify(m)),m.topic&&localStorage.setItem(Ae.TOPIC,m.topic)}catch(a){console.error("Error saving config:",a)}},[m]),p.useEffect(()=>{y()},[]),p.useEffect(()=>{if(m.tab){const a=s(m.tab);a&&r(a)}},[m.tab]);const y=async()=>{try{const[a,h,C]=await Promise.all([In(),En(),Rn()]);o(a),c(h),x(C),a.length>0&&!m.topic&&g(S=>({...S,topic:a[0].name})),C.length>0&&!m.model&&g(S=>({...S,model:C[0].id}))}catch(a){console.error("Error loading initial data:",a),f(a instanceof Error?a.message:"Failed to load initial data")}},N=p.useCallback(async(a=!1)=>{if(!m.topic){f("Please select a topic");return}if(!m.model&&m.tab!=="signals"){f("Please select a model");return}u(!0),f(null);try{let h;if(m.tab==="signals")h=await $n(m.topic,m.model,m.custom_limit||100);else{const C=a?{...m,enable_caching:!1}:m;h=await Tn(C)}r(h);try{if(m.tab){const C=`${Ae.DATA_PREFIX}${m.tab}`;localStorage.setItem(C,JSON.stringify(h))}localStorage.setItem(Ae.DATA,JSON.stringify(h))}catch(C){console.error("Error saving analysis data:",C)}}catch(h){console.error("Error generating analysis:",h),f(h instanceof Error?h.message:"Failed to generate analysis")}finally{u(!1)}},[m]),b=p.useCallback(a=>{g(h=>({...h,...a}))},[]),w=p.useCallback(()=>{f(null)},[]);return{data:n,topics:i,profiles:l,models:d,config:m,loading:j,error:v,generateAnalysis:N,updateConfig:b,clearError:w}}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Bn=Y("check",Fn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Vn=Y("chevron-left",Hn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Kn=Y("chevron-right",Wn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ys=Y("chevron-up",Un);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],vt=Y("circle-alert",Gn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],yt=Y("circle-check-big",Xn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],bt=Y("circle-x",qn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],jt=Y("eye-off",Yn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zn=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nt=Y("eye",Zn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jn=Y("image",Qn);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ye=Y("loader-circle",er);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],sr=Y("pen",tr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nr=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],rr=Y("refresh-cw",nr);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Xe=Y("target",ir),ar=[{id:"strategic-recommendations",label:"Strategic Recommendations"},{id:"market-signals",label:"Market Signals & Strategic Risks"},{id:"consensus",label:"Consensus Analysis"},{id:"impact-timeline",label:"Impact Timeline"},{id:"future-horizons",label:"Future Horizons"}];function lr({activeTab:t,onTabChange:s}){return e.jsx("div",{className:"flex gap-0 border-b border-gray-200",children:ar.map(n=>e.jsxs("button",{onClick:()=>s(n.id),className:`
            px-6 py-3 text-sm font-medium transition-all relative
            ${t===n.id?"text-gray-900":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"}
          `,children:[n.label,t===n.id&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-pink-500"})]},n.id))})}const or={green:"bg-green-500",yellow:"bg-amber-500",red:"bg-rose-500"};function wt({startYear:t,endYear:s,color:n}){const l=(t-2025)/15*100,c=(s-t)/15*100;return e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-xs text-gray-600",children:2025}),e.jsx("span",{className:"text-xs text-gray-600",children:2040})]}),e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full",children:e.jsx("div",{className:`absolute h-full ${or[n]} rounded-full transition-all`,style:{left:`${l}%`,width:`${c}%`}})})]})}const Qt={purple:{bg:"bg-purple-50",border:"border-purple-200",bar:"bg-purple-500",badge:"bg-pink-100 text-pink-700"},orange:{bg:"bg-orange-50",border:"border-orange-200",bar:"bg-orange-500",badge:"bg-pink-100 text-pink-700"},blue:{bg:"bg-blue-50",border:"border-blue-200",bar:"bg-blue-500",badge:"bg-pink-100 text-pink-700"},green:{bg:"bg-green-50",border:"border-green-200",bar:"bg-green-500",badge:"bg-pink-100 text-pink-700"},pink:{bg:"bg-pink-50",border:"border-pink-200",bar:"bg-pink-500",badge:"bg-pink-100 text-pink-700"},indigo:{bg:"bg-indigo-50",border:"border-indigo-200",bar:"bg-indigo-500",badge:"bg-pink-100 text-pink-700"}};function cr({name:t,description:s,consensusPercentage:n,timelineStartYear:r,timelineEndYear:i,optimisticOutlier:o,pessimisticOutlier:l,strategicImplication:c,keyArticles:d=[],color:x,consensusType:m,sentimentDistribution:g,timelineConsensus:j,articlesAnalyzed:u,actionItems:v,timeframeAnalysis:f}){const y=Qt[x]||Qt.purple,[N,b]=p.useState(!1),w=i-r;let a=20,h=40;j&&(j.includes("Immediate")?(a=2,h=18):j.includes("Short-term")?(a=22,h=26):j.includes("Mid-term")?(a=50,h=24):j.includes("Long-term")&&(a=76,h=22));const C=()=>j?j.toUpperCase():r<=2025&&i<=2027?"SHORT-TERM (2025-2027)":r<=2027&&i<=2030?"MID-TERM (2027-2030)":r>=2030?"LONG-TERM (2030-2035+)":r===2025&&i===2025?"IMMEDIATE (2025)":`${r}-${i}`,S=(o.year-r)/w*100,_=(l.year-r)/w*100,[M,D]=p.useState(null);return e.jsxs("div",{className:`${y.bg} ${y.border} border rounded-xl p-6 mb-4 cursor-pointer hover:shadow-md transition-shadow`,onClick:()=>b(!N),children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-950 mb-1",children:t}),e.jsx("p",{className:"text-sm text-gray-700",children:s})]}),e.jsxs("span",{className:`${y.badge} px-3 py-1 rounded-full text-xs font-medium ml-4 shrink-0`,children:[n,"% Consensus"]})]}),e.jsxs("div",{className:"mb-6 relative",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mb-2",children:[e.jsx("span",{children:r}),e.jsx("span",{children:Math.floor((r+i)/2)}),e.jsx("span",{children:i}),e.jsxs("span",{children:[i,"+"]})]}),e.jsxs("div",{className:"relative h-8",children:[e.jsx("div",{className:"absolute top-3 left-0 right-0 h-2 bg-gray-200 rounded-full"}),e.jsx("div",{className:`absolute top-3 h-2 ${y.bar} rounded-full`,style:{left:`${a}%`,width:`${h}%`},title:`Consensus Timeline: ${C()}
${n}% of sources agree on this timeframe`,children:e.jsx("div",{className:"absolute -top-2 left-0 right-0 text-center",children:e.jsxs("span",{className:"text-xs font-medium text-gray-800 bg-white px-2 py-0.5 rounded shadow-sm",children:[n,"% ‚Ä¢ ",C()]})})}),e.jsx("div",{className:"absolute top-1 w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow-md cursor-help hover:scale-125 transition-transform",style:{left:`${S}%`,transform:"translateX(-50%)"},title:`Optimistic Outlier (${o.year})
${o.description}
${o.source_percentage}% of sources`,onClick:k=>k.stopPropagation()}),e.jsx("div",{className:"absolute top-1 w-4 h-4 bg-red-500 rounded-full border-2 border-white shadow-md cursor-help hover:scale-125 transition-transform",style:{left:`${_}%`,transform:"translateX(-50%)"},title:`Pessimistic Outlier (${l.year})
${l.description}
${l.source_percentage}% of sources`,onClick:k=>k.stopPropagation()}),e.jsx("div",{className:"absolute top-1 right-0 w-4 h-4 bg-green-500 rounded-full border-2 border-white shadow-md transform translate-x-1/2"})]})]}),N&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[(m||g||u)&&e.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[m&&e.jsxs("div",{children:[e.jsx("h6",{className:"text-xs font-bold text-gray-950 mb-2 uppercase",children:"Consensus Type"}),e.jsx("div",{className:"text-sm font-semibold text-gray-800 mb-1",children:m}),e.jsxs("div",{className:"text-xs text-gray-600",children:[n,"% confidence level",u&&` ‚Ä¢ Based on ${u} articles`]})]}),g&&e.jsxs("div",{children:[e.jsx("h6",{className:"text-xs font-bold text-gray-950 mb-2 uppercase",children:"Sentiment Distribution"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-700",children:"Positive:"}),e.jsxs("span",{className:"font-semibold text-green-600",children:[g.positive,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-700",children:"Neutral:"}),e.jsxs("span",{className:"font-semibold text-gray-600",children:[g.neutral,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-700",children:"Critical:"}),e.jsxs("span",{className:"font-semibold text-red-600",children:[g.critical,"%"]})]})]}),e.jsxs("div",{className:"mt-2 h-2 flex rounded-full overflow-hidden",children:[e.jsx("div",{className:"bg-green-500",style:{width:`${g.positive}%`}}),e.jsx("div",{className:"bg-gray-400",style:{width:`${g.neutral}%`}}),e.jsx("div",{className:"bg-red-500",style:{width:`${g.critical}%`}})]})]})]}),j&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h6",{className:"text-xs font-bold text-gray-950 mb-1 uppercase",children:"Timeline Consensus"}),e.jsx("div",{className:"text-sm text-gray-800",children:j}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:"Majority of sources expect impacts within this timeframe"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full mt-1 shrink-0"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-semibold text-gray-950 mb-0.5",children:["Optimistic Outlier (",o.year,")"]}),e.jsx("div",{className:"text-xs text-gray-700 mb-0.5",children:o.description}),e.jsxs("div",{className:"text-xs text-gray-600",children:[o.source_percentage,"% of sources"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full mt-1 shrink-0"}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-xs font-semibold text-gray-950 mb-0.5",children:["Pessimistic Outlier (",l.year,")"]}),e.jsx("div",{className:"text-xs text-gray-700 mb-0.5",children:l.description}),e.jsxs("div",{className:"text-xs text-gray-600",children:[l.source_percentage,"% of sources"]})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("div",{className:"w-5 h-5 rounded-full bg-white border-2 border-gray-300 flex items-center justify-center shrink-0",children:e.jsx(fn,{className:"w-3 h-3 text-gray-700"})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs font-semibold text-gray-950 mb-0.5",children:"Strategic Implication"}),e.jsx("div",{className:"text-xs text-gray-700",children:c})]})]})]}),d.length>0&&e.jsxs("div",{children:[e.jsx("h6",{className:"text-sm font-bold text-gray-950 mb-3",children:"Key Supporting Articles"}),e.jsx("div",{className:"space-y-2",children:d.map((k,O)=>{const E=k.sentiment==="positive"?"bg-green-100 text-green-700":k.sentiment==="critical"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-800";return e.jsxs("div",{className:"p-3 bg-white rounded-lg border border-gray-200",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-1",children:[e.jsx("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-semibold text-gray-950 hover:text-blue-600 flex-1",children:k.title}),k.sentiment&&e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium shrink-0 ${E}`,children:k.sentiment})]}),e.jsx("p",{className:"text-xs text-gray-700 mb-1",children:k.summary}),e.jsxs("a",{href:k.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:text-blue-800 flex items-center gap-1",children:[e.jsx("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"External Link"]})]},O)})})]}),v&&v.length>0&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h6",{className:"text-sm font-bold text-gray-950 mb-3",children:"üéØ Action Items"}),e.jsx("div",{className:"space-y-3",children:v.map((k,O)=>{const E=k.priority==="High"?"bg-red-100 text-red-700 border-red-200":k.priority==="Medium"?"bg-yellow-100 text-yellow-700 border-yellow-200":"bg-green-100 text-green-700 border-green-200";return e.jsxs("div",{className:`p-3 ${E} rounded-lg border`,children:[e.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[e.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold ${E}`,children:k.priority}),e.jsx("span",{className:"text-xs font-medium text-gray-700",children:k.timeframe})]}),e.jsx("div",{className:"text-sm font-semibold text-gray-900 mb-2",children:k.action}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-xs text-gray-700",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Owner:"})," ",k.owner]}),k.success_metrics&&k.success_metrics.length>0&&e.jsxs("div",{children:[e.jsx("strong",{children:"Metrics:"})," ",k.success_metrics.join(", ")]})]})]},O)})})]}),f&&e.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[e.jsx("h6",{className:"text-sm font-bold text-gray-950 mb-3",children:"üìÖ Timeframe Analysis"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-bold text-blue-900 mb-1",children:"‚ö° IMMEDIATE (0-6 months)"}),e.jsx("div",{className:"text-sm text-gray-800",children:f.immediate})]}),e.jsxs("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-bold text-purple-900 mb-1",children:"üìà SHORT-TERM (6-18 months)"}),e.jsx("div",{className:"text-sm text-gray-800",children:f.short_term})]}),e.jsxs("div",{className:"p-3 bg-indigo-50 border border-indigo-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-bold text-indigo-900 mb-1",children:"üîÆ MID-TERM (18-36 months)"}),e.jsx("div",{className:"text-sm text-gray-800",children:f.mid_term})]}),f.key_milestones&&f.key_milestones.length>0&&e.jsxs("div",{className:"mt-3 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"text-xs font-bold text-gray-900 mb-2",children:"üéØ Key Milestones"}),e.jsx("div",{className:"space-y-2",children:f.key_milestones.map((k,O)=>e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:"w-12 text-xs font-bold text-gray-700 shrink-0",children:k.year}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.milestone}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:k.significance})]})]},O))})]})]})]})]}),e.jsx("div",{className:"flex justify-center mt-4",children:N?e.jsx(ys,{className:"w-5 h-5 text-gray-500"}):e.jsx(Lt,{className:"w-5 h-5 text-gray-500"})})]})}const dr=({timelineConsensus:t,optimisticOutliers:s,pessimisticOutliers:n,color:r})=>{const[i,o]=p.useState(null),[l,c]=p.useState(null),d=2025,x=2050,m=x-d,g=w=>(w-d)/m*100,j=g(t.consensus_window.start_year),v=g(t.consensus_window.end_year)-j,f=n[0],y=s[0],N=(w,a)=>{o(w),c({x:a.clientX,y:a.clientY})},b=()=>{o(null),c(null)};return e.jsxs("div",{className:"timeline-section",children:[e.jsxs("div",{className:"consensus-button-wrapper",children:[e.jsx("div",{className:"consensus-button",style:{left:`${j}%`,width:`${v}%`,backgroundColor:r},children:"Consensus"}),e.jsxs("div",{className:"timeline-thin-line",children:[f&&e.jsx("div",{className:"thumb thumb-red",style:{left:`${g(f.year)}%`},onMouseEnter:w=>N(f,w),onMouseLeave:b}),y&&e.jsx("div",{className:"thumb thumb-green",style:{left:`${g(y.year)}%`},onMouseEnter:w=>N(y,w),onMouseLeave:b})]})]}),e.jsxs("div",{className:"timeline-labels",children:[e.jsx("div",{className:"year-label",children:d}),e.jsx("div",{className:"year-label",children:"2030"}),e.jsx("div",{className:"year-label",children:"2040"}),e.jsxs("div",{className:"year-label",children:[x,"+"]})]}),i&&l&&e.jsxs("div",{className:"outlier-tooltip-fixed",style:{left:`${l.x}px`,top:`${l.y-60}px`},children:[e.jsxs("div",{style:{fontWeight:600,marginBottom:"4px"},children:[i.scenario," (",i.year,")"]}),e.jsxs("div",{style:{fontSize:"11px",opacity:.9},children:[i.source_percentage,"% of sources"]})]})]})},mr=({distribution:t})=>e.jsxs("div",{className:"sentiment-chart-thin",children:[e.jsx("div",{style:{fontSize:"11px",fontWeight:600,marginBottom:"6px",color:"#9ca3af",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Sentiment Distribution"}),e.jsxs("div",{className:"sentiment-line-container",children:[t.positive>0&&e.jsx("div",{className:"sentiment-segment sentiment-positive",style:{width:`${t.positive}%`},title:`Positive: ${t.positive}%`}),t.neutral>0&&e.jsx("div",{className:"sentiment-segment sentiment-neutral",style:{width:`${t.neutral}%`},title:`Neutral: ${t.neutral}%`}),t.critical>0&&e.jsx("div",{className:"sentiment-segment sentiment-critical",style:{width:`${t.critical}%`},title:`Critical: ${t.critical}%`})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"6px",fontSize:"11px",color:"#9ca3af"},children:[e.jsxs("span",{style:{color:"#10b981"},children:["‚úì ",t.positive,"%"]}),e.jsxs("span",{style:{color:"#6b7280"},children:["‚äô ",t.neutral,"%"]}),e.jsxs("span",{style:{color:"#ef4444"},children:["‚úó ",t.critical,"%"]})]})]}),xr=({windows:t})=>{const s=r=>`decision-window urgency-${r.toLowerCase()}`,n=r=>`urgency-badge urgency-${r.toLowerCase()}`;return e.jsxs("div",{className:"decision-windows",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("span",{children:"üéØ"}),e.jsx("span",{children:"Key Decision Windows"})]}),t.map((r,i)=>e.jsxs("div",{className:s(r.urgency),children:[e.jsxs("div",{className:"decision-header",children:[e.jsx("div",{className:"decision-action",children:r.action}),e.jsx("div",{className:n(r.urgency),children:r.urgency})]}),e.jsx("div",{className:"decision-rationale",children:r.rationale}),e.jsxs("div",{className:"decision-meta",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Timeframe:"})," ",r.window]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Owner:"})," ",r.owner]})]}),r.dependencies&&r.dependencies.length>0&&e.jsxs("div",{style:{marginTop:"8px",fontSize:"12px",color:"#6b7280"},children:[e.jsx("strong",{children:"Dependencies:"})," ",r.dependencies.join(", ")]}),r.success_metrics&&r.success_metrics.length>0&&e.jsxs("div",{style:{marginTop:"4px",fontSize:"12px",color:"#6b7280"},children:[e.jsx("strong",{children:"Success Metrics:"})," ",r.success_metrics.join(", ")]})]},i))]})},Jt=["#a855f7","#f97316","#3b82f6","#10b981","#ec4899","#6366f1"],ur=({category:t,color:s,index:n=0})=>{const[r,i]=p.useState(!1),o=t["1_consensus_type"],l=t["2_timeline_consensus"],c=t["3_confidence_level"],d=t["4_optimistic_outliers"]||[],x=t["5_pessimistic_outliers"]||[],m=t["6_key_articles"]||[],g=t["7_strategic_implications"],j=t["8_key_decision_windows"]||[],u=t["9_timeframe_analysis"],v=s||Jt[n%Jt.length],f=c.majority_agreement,y=(()=>{const{positive:a,neutral:h,critical:C}=o.distribution,S=a+h+C;return S>.9&&S<=1.1?{positive:a*100,neutral:h*100,critical:C*100}:S<10&&S>0?{positive:a/S*100,neutral:h/S*100,critical:C/S*100}:{positive:a,neutral:h,critical:C}})(),N=()=>{i(!r)},b=(a,h=80)=>{if(!a)return"";const C=a.split(/[.!?]/)[0];return C&&C.length<=h?C:a.length>h?a.substring(0,h)+"...":a},w=a=>`metric-badge ${{Strong:"badge-strong",Moderate:"badge-moderate",Emerging:"badge-emerging"}[a]||"badge-moderate"}`;return e.jsxs("div",{className:`consensus-card-simple ${r?"expanded":""}`,onClick:N,children:[e.jsxs("div",{className:"consensus-card-header",children:[e.jsxs("div",{className:"consensus-card-title-section",children:[e.jsx("div",{className:"consensus-card-icon",style:{backgroundColor:v},children:e.jsx("svg",{className:"brain-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M15.375 7.75008C15.3741 7.0981 15.1849 6.46025 14.8301 5.91328C14.4753 5.3663 13.97 4.9335 13.375 4.66696V4.50008C13.3743 3.86569 13.1639 3.24931 12.7764 2.74699C12.389 2.24467 11.8462 1.8846 11.2328 1.7229C10.6193 1.56119 9.96965 1.60692 9.38491 1.85297C8.80017 2.09902 8.31323 2.53156 7.99996 3.08321C7.68668 2.53156 7.19974 2.09902 6.615 1.85297C6.03026 1.60692 5.38057 1.56119 4.76713 1.7229C4.15368 1.8846 3.61095 2.24467 3.22349 2.74699C2.83602 3.24931 2.62559 3.86569 2.62496 4.50008V4.66696C2.02949 4.93261 1.52372 5.36507 1.1688 5.91205C0.813878 6.45903 0.625 7.0971 0.625 7.74914C0.625 8.40118 0.813878 9.03926 1.1688 9.58624C1.52372 10.1332 2.02949 10.5657 2.62496 10.8313V11.0001C2.62559 11.6345 2.83602 12.2508 3.22349 12.7532C3.61095 13.2555 4.15368 13.6156 4.76713 13.7773C5.38057 13.939 6.03026 13.8932 6.615 13.6472C7.19974 13.4011 7.68668 12.9686 7.99996 12.417C8.31323 12.9686 8.80017 13.4011 9.38491 13.6472C9.96965 13.8932 10.6193 13.939 11.2328 13.7773C11.8462 13.6156 12.389 13.2555 12.7764 12.7532C13.1639 12.2508 13.3743 11.6345 13.375 11.0001V10.8313C13.97 10.5653 14.4753 10.1329 14.8302 9.58619C15.185 9.03949 15.3742 8.40184 15.375 7.75008ZM5.49996 13.1251C4.94766 13.1253 4.41696 12.9106 4.0203 12.5263C3.62364 12.142 3.39217 11.6184 3.37496 11.0663C3.581 11.1054 3.79024 11.1251 3.99996 11.1251H4.49996C4.59941 11.1251 4.69479 11.0856 4.76512 11.0152C4.83545 10.9449 4.87496 10.8495 4.87496 10.7501C4.87496 10.6506 4.83545 10.5552 4.76512 10.4849C4.69479 10.4146 4.59941 10.3751 4.49996 10.3751H3.99996C3.38035 10.3756 2.78054 10.1569 2.30666 9.75772C1.83278 9.35854 1.51538 8.80459 1.41062 8.19391C1.30586 7.58323 1.42049 6.95517 1.73424 6.42088C2.04798 5.88658 2.54061 5.48049 3.12496 5.27446C3.1981 5.2486 3.26142 5.20069 3.3062 5.13733C3.35097 5.07397 3.375 4.99829 3.37496 4.92071V4.50008C3.37496 3.9365 3.59884 3.39599 3.99735 2.99748C4.39587 2.59896 4.93637 2.37508 5.49996 2.37508C6.06354 2.37508 6.60404 2.59896 7.00256 2.99748C7.40107 3.39599 7.62496 3.9365 7.62496 4.50008V9.06571C7.35599 8.76933 7.02797 8.53253 6.66199 8.37053C6.29601 8.20854 5.90018 8.12493 5.49996 8.12508C5.4005 8.12508 5.30512 8.16459 5.23479 8.23492C5.16446 8.30524 5.12496 8.40062 5.12496 8.50008C5.12496 8.59954 5.16446 8.69492 5.23479 8.76525C5.30512 8.83557 5.4005 8.87508 5.49996 8.87508C6.06354 8.87508 6.60404 9.09896 7.00256 9.49748C7.40107 9.89599 7.62496 10.4365 7.62496 11.0001C7.62496 11.5637 7.40107 12.1042 7.00256 12.5027C6.60404 12.9012 6.06354 13.1251 5.49996 13.1251ZM12 10.3751H11.5C11.4005 10.3751 11.3051 10.4146 11.2348 10.4849C11.1645 10.5552 11.125 10.6506 11.125 10.7501C11.125 10.8495 11.1645 10.9449 11.2348 11.0152C11.3051 11.0856 11.4005 11.1251 11.5 11.1251H12C12.2097 11.1251 12.4189 11.1054 12.625 11.0663C12.6119 11.4835 12.4763 11.8877 12.2351 12.2283C11.9938 12.569 11.6576 12.831 11.2683 12.9817C10.879 13.1324 10.454 13.1652 10.0463 13.0759C9.63851 12.9865 9.2661 12.7791 8.9755 12.4794C8.68491 12.1798 8.489 11.8012 8.41223 11.3909C8.33547 10.9806 8.38124 10.5568 8.54384 10.1723C8.70644 9.78786 8.97867 9.45982 9.32654 9.22912C9.67442 8.99842 10.0825 8.87528 10.5 8.87508C10.5994 8.87508 10.6948 8.83557 10.7651 8.76525C10.8354 8.69492 10.875 8.59954 10.875 8.50008C10.875 8.40062 10.8354 8.30524 10.7651 8.23492C10.6948 8.16459 10.5994 8.12508 10.5 8.12508C10.0997 8.12493 9.7039 8.20854 9.33792 8.37053C8.97195 8.53253 8.64393 8.76933 8.37496 9.06571V4.50008C8.37496 3.9365 8.59884 3.39599 8.99735 2.99748C9.39587 2.59896 9.93637 2.37508 10.5 2.37508C11.0635 2.37508 11.604 2.59896 12.0026 2.99748C12.4011 3.39599 12.625 3.9365 12.625 4.50008V4.92071C12.6249 4.99829 12.6489 5.07397 12.6937 5.13733C12.7385 5.20069 12.8018 5.2486 12.875 5.27446C13.4593 5.48049 13.9519 5.88658 14.2657 6.42088C14.5794 6.95517 14.6941 7.58323 14.5893 8.19391C14.4845 8.80459 14.1671 9.35854 13.6932 9.75772C13.2194 10.1569 12.6196 10.3756 12 10.3751ZM12.875 7.00008C12.875 7.09954 12.8354 7.19492 12.7651 7.26525C12.6948 7.33557 12.5994 7.37508 12.5 7.37508H12.25C11.6864 7.37508 11.1459 7.1512 10.7474 6.75268C10.3488 6.35417 10.125 5.81367 10.125 5.25008V5.00008C10.125 4.90063 10.1645 4.80524 10.2348 4.73492C10.3051 4.66459 10.4005 4.62508 10.5 4.62508C10.5994 4.62508 10.6948 4.66459 10.7651 4.73492C10.8354 4.80524 10.875 4.90063 10.875 5.00008V5.25008C10.875 5.61475 11.0198 5.96449 11.2777 6.22235C11.5355 6.48022 11.8853 6.62508 12.25 6.62508H12.5C12.5994 6.62508 12.6948 6.66459 12.7651 6.73492C12.8354 6.80524 12.875 6.90062 12.875 7.00008ZM3.74996 7.37508H3.49996C3.4005 7.37508 3.30512 7.33557 3.23479 7.26525C3.16447 7.19492 3.12496 7.09954 3.12496 7.00008C3.12496 6.90062 3.16447 6.80524 3.23479 6.73492C3.30512 6.66459 3.4005 6.62508 3.49996 6.62508H3.74996C4.11463 6.62508 4.46437 6.48022 4.72223 6.22235C4.98009 5.96449 5.12496 5.61475 5.12496 5.25008V5.00008C5.12496 4.90063 5.16446 4.80524 5.23479 4.73492C5.30512 4.66459 5.4005 4.62508 5.49996 4.62508C5.59941 4.62508 5.69479 4.66459 5.76512 4.73492C5.83545 4.80524 5.87496 4.90063 5.87496 5.00008V5.25008C5.87496 5.81367 5.65107 6.35417 5.25256 6.75268C4.85404 7.1512 4.31354 7.37508 3.74996 7.37508Z",fill:"white"})})}),e.jsxs("div",{children:[e.jsx("h3",{className:"consensus-card-title",children:t.category_name}),e.jsx("p",{className:"consensus-card-subtitle",children:r?t.category_description:b(t.category_description,100)})]})]}),e.jsxs("div",{className:"consensus-card-actions",children:[e.jsxs("div",{className:"consensus-percentage-badge",style:{backgroundColor:`${v}20`,color:v,border:`1px solid ${v}40`},children:[f,"% Consensus"]}),e.jsx("div",{className:`expand-arrow ${r?"rotated":""}`,children:"‚ñº"})]})]}),e.jsx("div",{className:"consensus-card-timeline",children:e.jsx(dr,{timelineConsensus:l,optimisticOutliers:d,pessimisticOutliers:x,color:v})}),r&&e.jsxs("div",{className:"consensus-card-expanded-content",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"consensus-metrics",children:[e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Consensus Type"}),e.jsx("div",{className:"metric-value",children:o.summary})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Agreement"}),e.jsxs("div",{className:"metric-value",children:[c.majority_agreement,"%"]})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Strength"}),e.jsx("div",{className:w(c.consensus_strength),children:c.consensus_strength})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Evidence Quality"}),e.jsx("div",{className:w(c.evidence_quality),children:c.evidence_quality})]}),e.jsxs("div",{className:"metric-item",children:[e.jsx("div",{className:"metric-label",children:"Articles"}),e.jsx("div",{className:"metric-value",children:t.articles_analyzed})]})]}),e.jsx(mr,{distribution:y}),e.jsxs("div",{className:"strategic-implications-box",children:[e.jsx("div",{className:"section-title-small",children:"üí° Strategic Implications"}),e.jsx("div",{className:"section-content-small",children:g})]}),j.length>0&&e.jsx(xr,{windows:j}),u&&e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("span",{children:"üìÖ"}),e.jsx("span",{children:"Timeframe Analysis"})]}),e.jsxs("div",{className:"timeframe-grid",children:[e.jsxs("div",{className:"timeframe-box",children:[e.jsx("div",{className:"timeframe-label",children:"Immediate (0-6 months)"}),e.jsx("div",{className:"timeframe-content",children:u.immediate})]}),e.jsxs("div",{className:"timeframe-box",children:[e.jsx("div",{className:"timeframe-label",children:"Short-term (6-18 months)"}),e.jsx("div",{className:"timeframe-content",children:u.short_term})]}),e.jsxs("div",{className:"timeframe-box",children:[e.jsx("div",{className:"timeframe-label",children:"Mid-term (18-36 months)"}),e.jsx("div",{className:"timeframe-content",children:u.mid_term})]})]}),u.key_milestones&&u.key_milestones.length>0&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",color:"#6b7280"},children:"Key Milestones"}),e.jsx("div",{className:"milestones-list",children:u.key_milestones.map((a,h)=>e.jsxs("div",{className:"milestone-item",children:[e.jsx("div",{className:"milestone-year",children:a.year}),e.jsxs("div",{className:"milestone-info",children:[e.jsx("div",{className:"milestone-title",children:a.milestone}),e.jsx("div",{className:"milestone-significance",children:a.significance})]})]},h))})]})]}),(d.length>0||x.length>0)&&e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("span",{children:"üîç"}),e.jsx("span",{children:"Outlier Perspectives"})]}),e.jsxs("div",{className:"outliers-grid",children:[d.length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",color:"#10b981"},children:"Optimistic Outliers"}),d.map((a,h)=>e.jsxs("div",{className:"outlier-card optimistic",style:{marginBottom:"12px"},children:[e.jsxs("div",{className:"outlier-scenario",children:[a.scenario," (",a.year,")"]}),e.jsx("div",{className:"outlier-details",children:a.details}),e.jsxs("div",{className:"outlier-reference",children:[a.source_percentage,"% of sources ‚Ä¢ ",a.reference]})]},h))]}),x.length>0&&e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:600,marginBottom:"12px",color:"#ef4444"},children:"Pessimistic Outliers"}),x.map((a,h)=>e.jsxs("div",{className:"outlier-card pessimistic",style:{marginBottom:"12px"},children:[e.jsxs("div",{className:"outlier-scenario",children:[a.scenario," (",a.year,")"]}),e.jsx("div",{className:"outlier-details",children:a.details}),e.jsxs("div",{className:"outlier-reference",children:[a.source_percentage,"% of sources ‚Ä¢ ",a.reference]})]},h))]})]})]}),m.length>0&&e.jsxs("div",{className:"content-section",children:[e.jsxs("div",{className:"section-title",children:[e.jsx("span",{children:"üì∞"}),e.jsx("span",{children:"Key Supporting Articles"})]}),e.jsx("div",{className:"articles-list",children:m.slice(0,5).map((a,h)=>e.jsxs("div",{className:"article-item",children:[e.jsxs("div",{className:"article-title",children:[e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",children:a.title}),a.sentiment&&e.jsx("span",{style:{marginLeft:"8px",fontSize:"11px",color:a.sentiment==="positive"?"#10b981":a.sentiment==="critical"?"#ef4444":"#6b7280",fontWeight:600,textTransform:"uppercase"},children:a.sentiment})]}),e.jsx("div",{className:"article-summary",children:a.summary})]},h))})]})]})]})},hr={orange:{bg:"bg-orange-100",text:"text-orange-900",bar:"bg-orange-300"},purple:{bg:"bg-purple-100",text:"text-purple-900",bar:"bg-purple-300"},green:{bg:"bg-green-100",text:"text-green-900",bar:"bg-green-300"},blue:{bg:"bg-blue-100",text:"text-blue-900",bar:"bg-blue-300"},pink:{bg:"bg-pink-100",text:"text-pink-900",bar:"bg-pink-300"},lime:{bg:"bg-lime-100",text:"text-lime-900",bar:"bg-lime-300"}};function pr({title:t,description:s,timelineStart:n,timelineEnd:r,tooltipPositions:i,color:o}){const l=hr[o],c=r-n;return e.jsxs("div",{className:"grid grid-cols-[330px_1fr] gap-4 mb-4",children:[e.jsxs("div",{className:`${l.bg} ${l.text} rounded-xl p-5`,children:[e.jsx("h3",{className:"font-bold text-base mb-2",children:t}),e.jsx("p",{className:"text-sm",children:s})]}),e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5 flex items-center",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mb-2 px-1",children:[e.jsx("span",{children:n}),e.jsx("span",{children:r})]}),e.jsxs("div",{className:"relative h-8",children:[e.jsx("div",{className:"absolute top-3 left-0 right-0 h-2 bg-gray-200 rounded-full"}),e.jsx("div",{className:`absolute top-3 h-2 ${l.bar} rounded-full`,style:{left:"0%",width:"70%"}}),i.map((d,x)=>{const m=(d.year-n)/c*100;return e.jsxs("div",{className:"absolute top-0",style:{left:`${m}%`,transform:"translateX(-50%)"},children:[e.jsx("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded whitespace-nowrap",children:d.label}),e.jsx("div",{className:"w-2 h-2 bg-gray-800 rounded-full"})]},x)})]})]})})]})}function fr({scenarios:t}){const s=t.filter(r=>r.probability==="Plausible"),n=t.filter(r=>r.probability==="Probable");return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-8 relative",children:[e.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",children:e.jsx(Vn,{className:"w-5 h-5 text-gray-700"})}),e.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center",children:e.jsx(Kn,{className:"w-5 h-5 text-gray-700"})}),e.jsxs("svg",{viewBox:"0 0 800 400",className:"w-full h-64",children:[e.jsx("path",{d:"M 50 350 Q 200 200, 750 100 L 750 320 Q 200 380, 50 350 Z",fill:"#FCD34D",opacity:"0.3"}),e.jsx("path",{d:"M 50 350 Q 200 220, 700 120 L 700 300 Q 200 370, 50 350 Z",fill:"#FCD34D",opacity:"0.4"}),e.jsx("path",{d:"M 50 350 Q 200 240, 650 140 L 650 280 Q 200 360, 50 350 Z",fill:"#FCD34D",opacity:"0.5"}),e.jsx("path",{d:"M 50 350 Q 200 260, 600 160 L 600 260 Q 200 350, 50 350 Z",fill:"#FCD34D",opacity:"0.6"}),e.jsx("path",{d:"M 50 350 Q 200 280, 550 180 L 550 240 Q 200 340, 50 350 Z",fill:"#FCD34D",opacity:"0.7"}),e.jsx("text",{x:"100",y:"340",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Plausible"}),e.jsx("text",{x:"200",y:"290",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Possible"}),e.jsx("text",{x:"300",y:"240",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Probable"}),e.jsx("text",{x:"400",y:"190",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Preferable"}),e.jsx("text",{x:"520",y:"140",fill:"#92400E",fontSize:"14",fontWeight:"600",children:"Wildcard"}),e.jsx("foreignObject",{x:"250",y:"220",width:"200",height:"80",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-3 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs font-semibold",children:"Legal Clarification"}),e.jsx("span",{className:"text-xs text-gray-500",children:"üìù"})]}),e.jsx("p",{className:"text-xs text-gray-700",children:"Courts gradually clarify existing copyright law for AI content"})]})})]}),e.jsx("div",{className:"flex justify-between items-center mt-4 px-4",children:e.jsxs("div",{className:"flex items-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2025"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Present"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2026"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Short-term"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2027"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Mid-term"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2028"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Long-term"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full mx-auto mb-1"}),e.jsx("div",{className:"text-xs text-gray-700",children:"2029"}),e.jsx("div",{className:"text-xs text-gray-600",children:"Horizon"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"bg-yellow-100 text-yellow-900 px-4 py-2 rounded-t-xl font-semibold text-sm",children:"Plausible - Reasonably possible"}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-b-xl p-4 space-y-3",children:[s.length>0?s.map((r,i)=>e.jsx(ve,{scenario:r},i)):e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Plausible",timeframe:"2025-2027",icon:"üìù"}}),e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Plausible",timeframe:"2025-2027",icon:"üìù"}}),e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Plausible",timeframe:"2025-2027",icon:"üìù"}})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mb-2",children:[e.jsx("span",{children:"2025"}),e.jsx("span",{children:"2026"}),e.jsx("span",{children:"2027"}),e.jsx("span",{children:"2028"}),e.jsx("span",{children:"2029"})]}),e.jsxs("div",{className:"relative h-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full"}),e.jsx("div",{className:"absolute left-0 h-2 bg-yellow-400 rounded-full",style:{width:"40%"}})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"bg-blue-500 text-white px-4 py-2 rounded-t-xl font-semibold text-sm",children:"Probable - Most likely outcomes"}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded-b-xl p-4 space-y-3",children:[n.length>0?n.map((r,i)=>e.jsx(ve,{scenario:r},i)):e.jsxs("div",{className:"space-y-3",children:[e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Probable",timeframe:"2025-2027",icon:"üìù"}}),e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Probable",timeframe:"2025-2027",icon:"üìù"}}),e.jsx(ve,{scenario:{title:"Legal Clarification",description:"Courts gradually clarify existing copyright law for AI content",probability:"Probable",timeframe:"2025-2027",icon:"üìù"}})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-300",children:[e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 mb-2",children:[e.jsx("span",{children:"Present"}),e.jsx("span",{children:"2026"}),e.jsx("span",{children:"2027"}),e.jsx("span",{children:"2028"}),e.jsx("span",{children:"2029"})]}),e.jsxs("div",{className:"relative h-2",children:[e.jsx("div",{className:"absolute inset-0 bg-gray-200 rounded-full"}),e.jsx("div",{className:"absolute left-0 h-2 bg-blue-500 rounded-full",style:{width:"60%"}})]})]})]})]})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[e.jsx("h3",{className:"font-semibold mb-4",children:"Icons Legend"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-500",children:"üòê"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Mixed/Neutral"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-yellow-500",children:"üòäüëç"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Mixed/Positive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-orange-500",children:"‚ö†Ô∏è"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Critical/Neutral"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-500",children:"‚úÖ"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Positive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-red-500",children:"‚ùå"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Negative/Disruptive"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-blue-500",children:"üìà"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Evolution/Trend"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-purple-500",children:"üìù"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Trend/Evolution"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-600",children:"‚ö†Ô∏è"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Disruption/Warning"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-pink-500",children:"üöÄ"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Breakthrough"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-amber-500",children:"‚ö°"}),e.jsx("span",{className:"text-sm text-gray-800",children:"Warning/Disruption"})]})]})]})]})}function ve({scenario:t}){return e.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-3 hover:shadow-md transition-shadow",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h4",{className:"font-semibold text-sm",children:t.title}),t.icon&&e.jsx("span",{className:"text-sm",children:t.icon})]}),e.jsx("p",{className:"text-xs text-gray-700",children:t.description})]}),e.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})})]})})}function es({className:t,type:s,...n}){return e.jsx("input",{type:s,"data-slot":"input",className:ie("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}function ts(t,[s,n]){return Math.min(n,Math.max(s,t))}function gr(t){const s=t+"CollectionProvider",[n,r]=Dt(s),[i,o]=n(s,{collectionRef:{current:null},itemMap:new Map}),l=f=>{const{scope:y,children:N}=f,b=_e.useRef(null),w=_e.useRef(new Map).current;return e.jsx(i,{scope:y,itemMap:w,collectionRef:b,children:N})};l.displayName=s;const c=t+"CollectionSlot",d=kt(c),x=_e.forwardRef((f,y)=>{const{scope:N,children:b}=f,w=o(c,N),a=q(y,w.collectionRef);return e.jsx(d,{ref:a,children:b})});x.displayName=c;const m=t+"CollectionItemSlot",g="data-radix-collection-item",j=kt(m),u=_e.forwardRef((f,y)=>{const{scope:N,children:b,...w}=f,a=_e.useRef(null),h=q(y,a),C=o(m,N);return _e.useEffect(()=>(C.itemMap.set(a,{ref:a,...w}),()=>void C.itemMap.delete(a))),e.jsx(j,{[g]:"",ref:h,children:b})});u.displayName=m;function v(f){const y=o(t+"CollectionConsumer",f);return _e.useCallback(()=>{const b=y.collectionRef.current;if(!b)return[];const w=Array.from(b.querySelectorAll(`[${g}]`));return Array.from(y.itemMap.values()).sort((C,S)=>w.indexOf(C.ref.current)-w.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:l,Slot:x,ItemSlot:u},v,r]}var vr=p.createContext(void 0);function yr(t){const s=p.useContext(vr);return t||s||"ltr"}const br=["top","right","bottom","left"],be=Math.min,Z=Math.max,tt=Math.round,qe=Math.floor,de=t=>({x:t,y:t}),jr={left:"right",right:"left",bottom:"top",top:"bottom"},Nr={start:"end",end:"start"};function At(t,s,n){return Z(t,be(s,n))}function pe(t,s){return typeof t=="function"?t(s):t}function fe(t){return t.split("-")[0]}function De(t){return t.split("-")[1]}function Ft(t){return t==="x"?"y":"x"}function Bt(t){return t==="y"?"height":"width"}const wr=new Set(["top","bottom"]);function ce(t){return wr.has(fe(t))?"y":"x"}function Ht(t){return Ft(ce(t))}function Cr(t,s,n){n===void 0&&(n=!1);const r=De(t),i=Ht(t),o=Bt(i);let l=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return s.reference[o]>s.floating[o]&&(l=st(l)),[l,st(l)]}function Sr(t){const s=st(t);return[Pt(t),s,Pt(s)]}function Pt(t){return t.replace(/start|end/g,s=>Nr[s])}const ss=["left","right"],ns=["right","left"],kr=["top","bottom"],_r=["bottom","top"];function Ar(t,s,n){switch(t){case"top":case"bottom":return n?s?ns:ss:s?ss:ns;case"left":case"right":return s?kr:_r;default:return[]}}function Pr(t,s,n,r){const i=De(t);let o=Ar(fe(t),n==="start",r);return i&&(o=o.map(l=>l+"-"+i),s&&(o=o.concat(o.map(Pt)))),o}function st(t){return t.replace(/left|right|bottom|top/g,s=>jr[s])}function Tr(t){return{top:0,right:0,bottom:0,left:0,...t}}function bs(t){return typeof t!="number"?Tr(t):{top:t,right:t,bottom:t,left:t}}function nt(t){const{x:s,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:s,right:s+r,bottom:n+i,x:s,y:n}}function rs(t,s,n){let{reference:r,floating:i}=t;const o=ce(s),l=Ht(s),c=Bt(l),d=fe(s),x=o==="y",m=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,j=r[c]/2-i[c]/2;let u;switch(d){case"top":u={x:m,y:r.y-i.height};break;case"bottom":u={x:m,y:r.y+r.height};break;case"right":u={x:r.x+r.width,y:g};break;case"left":u={x:r.x-i.width,y:g};break;default:u={x:r.x,y:r.y}}switch(De(s)){case"start":u[l]-=j*(n&&x?-1:1);break;case"end":u[l]+=j*(n&&x?-1:1);break}return u}const Ir=async(t,s,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,c=o.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(s));let x=await l.getElementRects({reference:t,floating:s,strategy:i}),{x:m,y:g}=rs(x,r,d),j=r,u={},v=0;for(let f=0;f<c.length;f++){const{name:y,fn:N}=c[f],{x:b,y:w,data:a,reset:h}=await N({x:m,y:g,initialPlacement:r,placement:j,strategy:i,middlewareData:u,rects:x,platform:l,elements:{reference:t,floating:s}});m=b??m,g=w??g,u={...u,[y]:{...u[y],...a}},h&&v<=50&&(v++,typeof h=="object"&&(h.placement&&(j=h.placement),h.rects&&(x=h.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:i}):h.rects),{x:m,y:g}=rs(x,j,d)),f=-1)}return{x:m,y:g,placement:j,strategy:i,middlewareData:u}};async function We(t,s){var n;s===void 0&&(s={});const{x:r,y:i,platform:o,rects:l,elements:c,strategy:d}=t,{boundary:x="clippingAncestors",rootBoundary:m="viewport",elementContext:g="floating",altBoundary:j=!1,padding:u=0}=pe(s,t),v=bs(u),y=c[j?g==="floating"?"reference":"floating":g],N=nt(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(y)))==null||n?y:y.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(c.floating)),boundary:x,rootBoundary:m,strategy:d})),b=g==="floating"?{x:r,y:i,width:l.floating.width,height:l.floating.height}:l.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c.floating)),a=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},h=nt(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:b,offsetParent:w,strategy:d}):b);return{top:(N.top-h.top+v.top)/a.y,bottom:(h.bottom-N.bottom+v.bottom)/a.y,left:(N.left-h.left+v.left)/a.x,right:(h.right-N.right+v.right)/a.x}}const Er=t=>({name:"arrow",options:t,async fn(s){const{x:n,y:r,placement:i,rects:o,platform:l,elements:c,middlewareData:d}=s,{element:x,padding:m=0}=pe(t,s)||{};if(x==null)return{};const g=bs(m),j={x:n,y:r},u=Ht(i),v=Bt(u),f=await l.getDimensions(x),y=u==="y",N=y?"top":"left",b=y?"bottom":"right",w=y?"clientHeight":"clientWidth",a=o.reference[v]+o.reference[u]-j[u]-o.floating[v],h=j[u]-o.reference[u],C=await(l.getOffsetParent==null?void 0:l.getOffsetParent(x));let S=C?C[w]:0;(!S||!await(l.isElement==null?void 0:l.isElement(C)))&&(S=c.floating[w]||o.floating[v]);const _=a/2-h/2,M=S/2-f[v]/2-1,D=be(g[N],M),k=be(g[b],M),O=D,E=S-f[v]-k,R=S/2-f[v]/2+_,B=At(O,R,E),I=!d.arrow&&De(i)!=null&&R!==B&&o.reference[v]/2-(R<O?D:k)-f[v]/2<0,L=I?R<O?R-O:R-E:0;return{[u]:j[u]+L,data:{[u]:B,centerOffset:R-B-L,...I&&{alignmentOffset:L}},reset:I}}}),Rr=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var n,r;const{placement:i,middlewareData:o,rects:l,initialPlacement:c,platform:d,elements:x}=s,{mainAxis:m=!0,crossAxis:g=!0,fallbackPlacements:j,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:f=!0,...y}=pe(t,s);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const N=fe(i),b=ce(c),w=fe(c)===c,a=await(d.isRTL==null?void 0:d.isRTL(x.floating)),h=j||(w||!f?[st(c)]:Sr(c)),C=v!=="none";!j&&C&&h.push(...Pr(c,f,v,a));const S=[c,...h],_=await We(s,y),M=[];let D=((r=o.flip)==null?void 0:r.overflows)||[];if(m&&M.push(_[N]),g){const R=Cr(i,l,a);M.push(_[R[0]],_[R[1]])}if(D=[...D,{placement:i,overflows:M}],!M.every(R=>R<=0)){var k,O;const R=(((k=o.flip)==null?void 0:k.index)||0)+1,B=S[R];if(B&&(!(g==="alignment"?b!==ce(B):!1)||D.every(P=>ce(P.placement)===b?P.overflows[0]>0:!0)))return{data:{index:R,overflows:D},reset:{placement:B}};let I=(O=D.filter(L=>L.overflows[0]<=0).sort((L,P)=>L.overflows[1]-P.overflows[1])[0])==null?void 0:O.placement;if(!I)switch(u){case"bestFit":{var E;const L=(E=D.filter(P=>{if(C){const $=ce(P.placement);return $===b||$==="y"}return!0}).map(P=>[P.placement,P.overflows.filter($=>$>0).reduce(($,X)=>$+X,0)]).sort((P,$)=>P[1]-$[1])[0])==null?void 0:E[0];L&&(I=L);break}case"initialPlacement":I=c;break}if(i!==I)return{reset:{placement:I}}}return{}}}};function is(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function as(t){return br.some(s=>t[s]>=0)}const Or=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:n}=s,{strategy:r="referenceHidden",...i}=pe(t,s);switch(r){case"referenceHidden":{const o=await We(s,{...i,elementContext:"reference"}),l=is(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:as(l)}}}case"escaped":{const o=await We(s,{...i,altBoundary:!0}),l=is(o,n.floating);return{data:{escapedOffsets:l,escaped:as(l)}}}default:return{}}}}},js=new Set(["left","top"]);async function Mr(t,s){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),l=fe(n),c=De(n),d=ce(n)==="y",x=js.has(l)?-1:1,m=o&&d?-1:1,g=pe(s,t);let{mainAxis:j,crossAxis:u,alignmentAxis:v}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return c&&typeof v=="number"&&(u=c==="end"?v*-1:v),d?{x:u*m,y:j*x}:{x:j*x,y:u*m}}const Lr=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var n,r;const{x:i,y:o,placement:l,middlewareData:c}=s,d=await Mr(s,t);return l===((n=c.offset)==null?void 0:n.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:i+d.x,y:o+d.y,data:{...d,placement:l}}}}},Dr=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:n,y:r,placement:i}=s,{mainAxis:o=!0,crossAxis:l=!1,limiter:c={fn:y=>{let{x:N,y:b}=y;return{x:N,y:b}}},...d}=pe(t,s),x={x:n,y:r},m=await We(s,d),g=ce(fe(i)),j=Ft(g);let u=x[j],v=x[g];if(o){const y=j==="y"?"top":"left",N=j==="y"?"bottom":"right",b=u+m[y],w=u-m[N];u=At(b,u,w)}if(l){const y=g==="y"?"top":"left",N=g==="y"?"bottom":"right",b=v+m[y],w=v-m[N];v=At(b,v,w)}const f=c.fn({...s,[j]:u,[g]:v});return{...f,data:{x:f.x-n,y:f.y-r,enabled:{[j]:o,[g]:l}}}}}},$r=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:n,y:r,placement:i,rects:o,middlewareData:l}=s,{offset:c=0,mainAxis:d=!0,crossAxis:x=!0}=pe(t,s),m={x:n,y:r},g=ce(i),j=Ft(g);let u=m[j],v=m[g];const f=pe(c,s),y=typeof f=="number"?{mainAxis:f,crossAxis:0}:{mainAxis:0,crossAxis:0,...f};if(d){const w=j==="y"?"height":"width",a=o.reference[j]-o.floating[w]+y.mainAxis,h=o.reference[j]+o.reference[w]-y.mainAxis;u<a?u=a:u>h&&(u=h)}if(x){var N,b;const w=j==="y"?"width":"height",a=js.has(fe(i)),h=o.reference[g]-o.floating[w]+(a&&((N=l.offset)==null?void 0:N[g])||0)+(a?0:y.crossAxis),C=o.reference[g]+o.reference[w]+(a?0:((b=l.offset)==null?void 0:b[g])||0)-(a?y.crossAxis:0);v<h?v=h:v>C&&(v=C)}return{[j]:u,[g]:v}}}},zr=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var n,r;const{placement:i,rects:o,platform:l,elements:c}=s,{apply:d=()=>{},...x}=pe(t,s),m=await We(s,x),g=fe(i),j=De(i),u=ce(i)==="y",{width:v,height:f}=o.floating;let y,N;g==="top"||g==="bottom"?(y=g,N=j===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(N=g,y=j==="end"?"top":"bottom");const b=f-m.top-m.bottom,w=v-m.left-m.right,a=be(f-m[y],b),h=be(v-m[N],w),C=!s.middlewareData.shift;let S=a,_=h;if((n=s.middlewareData.shift)!=null&&n.enabled.x&&(_=w),(r=s.middlewareData.shift)!=null&&r.enabled.y&&(S=b),C&&!j){const D=Z(m.left,0),k=Z(m.right,0),O=Z(m.top,0),E=Z(m.bottom,0);u?_=v-2*(D!==0||k!==0?D+k:Z(m.left,m.right)):S=f-2*(O!==0||E!==0?O+E:Z(m.top,m.bottom))}await d({...s,availableWidth:_,availableHeight:S});const M=await l.getDimensions(c.floating);return v!==M.width||f!==M.height?{reset:{rects:!0}}:{}}}};function lt(){return typeof window<"u"}function $e(t){return Ns(t)?(t.nodeName||"").toLowerCase():"#document"}function se(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function he(t){var s;return(s=(Ns(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function Ns(t){return lt()?t instanceof Node||t instanceof se(t).Node:!1}function le(t){return lt()?t instanceof Element||t instanceof se(t).Element:!1}function me(t){return lt()?t instanceof HTMLElement||t instanceof se(t).HTMLElement:!1}function ls(t){return!lt()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof se(t).ShadowRoot}const Fr=new Set(["inline","contents"]);function Ue(t){const{overflow:s,overflowX:n,overflowY:r,display:i}=oe(t);return/auto|scroll|overlay|hidden|clip/.test(s+r+n)&&!Fr.has(i)}const Br=new Set(["table","td","th"]);function Hr(t){return Br.has($e(t))}const Vr=[":popover-open",":modal"];function ot(t){return Vr.some(s=>{try{return t.matches(s)}catch{return!1}})}const Wr=["transform","translate","scale","rotate","perspective"],Kr=["transform","translate","scale","rotate","perspective","filter"],Ur=["paint","layout","strict","content"];function Vt(t){const s=Wt(),n=le(t)?oe(t):t;return Wr.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!s&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!s&&(n.filter?n.filter!=="none":!1)||Kr.some(r=>(n.willChange||"").includes(r))||Ur.some(r=>(n.contain||"").includes(r))}function Gr(t){let s=je(t);for(;me(s)&&!Le(s);){if(Vt(s))return s;if(ot(s))return null;s=je(s)}return null}function Wt(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Xr=new Set(["html","body","#document"]);function Le(t){return Xr.has($e(t))}function oe(t){return se(t).getComputedStyle(t)}function ct(t){return le(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function je(t){if($e(t)==="html")return t;const s=t.assignedSlot||t.parentNode||ls(t)&&t.host||he(t);return ls(s)?s.host:s}function ws(t){const s=je(t);return Le(s)?t.ownerDocument?t.ownerDocument.body:t.body:me(s)&&Ue(s)?s:ws(s)}function Ke(t,s,n){var r;s===void 0&&(s=[]),n===void 0&&(n=!0);const i=ws(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),l=se(i);if(o){const c=Tt(l);return s.concat(l,l.visualViewport||[],Ue(i)?i:[],c&&n?Ke(c):[])}return s.concat(i,Ke(i,[],n))}function Tt(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Cs(t){const s=oe(t);let n=parseFloat(s.width)||0,r=parseFloat(s.height)||0;const i=me(t),o=i?t.offsetWidth:n,l=i?t.offsetHeight:r,c=tt(n)!==o||tt(r)!==l;return c&&(n=o,r=l),{width:n,height:r,$:c}}function Kt(t){return le(t)?t:t.contextElement}function Me(t){const s=Kt(t);if(!me(s))return de(1);const n=s.getBoundingClientRect(),{width:r,height:i,$:o}=Cs(s);let l=(o?tt(n.width):n.width)/r,c=(o?tt(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const qr=de(0);function Ss(t){const s=se(t);return!Wt()||!s.visualViewport?qr:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function Yr(t,s,n){return s===void 0&&(s=!1),!n||s&&n!==se(t)?!1:s}function Ie(t,s,n,r){s===void 0&&(s=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=Kt(t);let l=de(1);s&&(r?le(r)&&(l=Me(r)):l=Me(t));const c=Yr(o,n,r)?Ss(o):de(0);let d=(i.left+c.x)/l.x,x=(i.top+c.y)/l.y,m=i.width/l.x,g=i.height/l.y;if(o){const j=se(o),u=r&&le(r)?se(r):r;let v=j,f=Tt(v);for(;f&&r&&u!==v;){const y=Me(f),N=f.getBoundingClientRect(),b=oe(f),w=N.left+(f.clientLeft+parseFloat(b.paddingLeft))*y.x,a=N.top+(f.clientTop+parseFloat(b.paddingTop))*y.y;d*=y.x,x*=y.y,m*=y.x,g*=y.y,d+=w,x+=a,v=se(f),f=Tt(v)}}return nt({width:m,height:g,x:d,y:x})}function dt(t,s){const n=ct(t).scrollLeft;return s?s.left+n:Ie(he(t)).left+n}function ks(t,s){const n=t.getBoundingClientRect(),r=n.left+s.scrollLeft-dt(t,n),i=n.top+s.scrollTop;return{x:r,y:i}}function Zr(t){let{elements:s,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",l=he(r),c=s?ot(s.floating):!1;if(r===l||c&&o)return n;let d={scrollLeft:0,scrollTop:0},x=de(1);const m=de(0),g=me(r);if((g||!g&&!o)&&(($e(r)!=="body"||Ue(l))&&(d=ct(r)),me(r))){const u=Ie(r);x=Me(r),m.x=u.x+r.clientLeft,m.y=u.y+r.clientTop}const j=l&&!g&&!o?ks(l,d):de(0);return{width:n.width*x.x,height:n.height*x.y,x:n.x*x.x-d.scrollLeft*x.x+m.x+j.x,y:n.y*x.y-d.scrollTop*x.y+m.y+j.y}}function Qr(t){return Array.from(t.getClientRects())}function Jr(t){const s=he(t),n=ct(t),r=t.ownerDocument.body,i=Z(s.scrollWidth,s.clientWidth,r.scrollWidth,r.clientWidth),o=Z(s.scrollHeight,s.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+dt(t);const c=-n.scrollTop;return oe(r).direction==="rtl"&&(l+=Z(s.clientWidth,r.clientWidth)-i),{width:i,height:o,x:l,y:c}}const os=25;function ei(t,s){const n=se(t),r=he(t),i=n.visualViewport;let o=r.clientWidth,l=r.clientHeight,c=0,d=0;if(i){o=i.width,l=i.height;const m=Wt();(!m||m&&s==="fixed")&&(c=i.offsetLeft,d=i.offsetTop)}const x=dt(r);if(x<=0){const m=r.ownerDocument,g=m.body,j=getComputedStyle(g),u=m.compatMode==="CSS1Compat"&&parseFloat(j.marginLeft)+parseFloat(j.marginRight)||0,v=Math.abs(r.clientWidth-g.clientWidth-u);v<=os&&(o-=v)}else x<=os&&(o+=x);return{width:o,height:l,x:c,y:d}}const ti=new Set(["absolute","fixed"]);function si(t,s){const n=Ie(t,!0,s==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=me(t)?Me(t):de(1),l=t.clientWidth*o.x,c=t.clientHeight*o.y,d=i*o.x,x=r*o.y;return{width:l,height:c,x:d,y:x}}function cs(t,s,n){let r;if(s==="viewport")r=ei(t,n);else if(s==="document")r=Jr(he(t));else if(le(s))r=si(s,n);else{const i=Ss(t);r={x:s.x-i.x,y:s.y-i.y,width:s.width,height:s.height}}return nt(r)}function _s(t,s){const n=je(t);return n===s||!le(n)||Le(n)?!1:oe(n).position==="fixed"||_s(n,s)}function ni(t,s){const n=s.get(t);if(n)return n;let r=Ke(t,[],!1).filter(c=>le(c)&&$e(c)!=="body"),i=null;const o=oe(t).position==="fixed";let l=o?je(t):t;for(;le(l)&&!Le(l);){const c=oe(l),d=Vt(l);!d&&c.position==="fixed"&&(i=null),(o?!d&&!i:!d&&c.position==="static"&&!!i&&ti.has(i.position)||Ue(l)&&!d&&_s(t,l))?r=r.filter(m=>m!==l):i=c,l=je(l)}return s.set(t,r),r}function ri(t){let{element:s,boundary:n,rootBoundary:r,strategy:i}=t;const l=[...n==="clippingAncestors"?ot(s)?[]:ni(s,this._c):[].concat(n),r],c=l[0],d=l.reduce((x,m)=>{const g=cs(s,m,i);return x.top=Z(g.top,x.top),x.right=be(g.right,x.right),x.bottom=be(g.bottom,x.bottom),x.left=Z(g.left,x.left),x},cs(s,c,i));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function ii(t){const{width:s,height:n}=Cs(t);return{width:s,height:n}}function ai(t,s,n){const r=me(s),i=he(s),o=n==="fixed",l=Ie(t,!0,o,s);let c={scrollLeft:0,scrollTop:0};const d=de(0);function x(){d.x=dt(i)}if(r||!r&&!o)if(($e(s)!=="body"||Ue(i))&&(c=ct(s)),r){const u=Ie(s,!0,o,s);d.x=u.x+s.clientLeft,d.y=u.y+s.clientTop}else i&&x();o&&!r&&i&&x();const m=i&&!r&&!o?ks(i,c):de(0),g=l.left+c.scrollLeft-d.x-m.x,j=l.top+c.scrollTop-d.y-m.y;return{x:g,y:j,width:l.width,height:l.height}}function Ct(t){return oe(t).position==="static"}function ds(t,s){if(!me(t)||oe(t).position==="fixed")return null;if(s)return s(t);let n=t.offsetParent;return he(t)===n&&(n=n.ownerDocument.body),n}function As(t,s){const n=se(t);if(ot(t))return n;if(!me(t)){let i=je(t);for(;i&&!Le(i);){if(le(i)&&!Ct(i))return i;i=je(i)}return n}let r=ds(t,s);for(;r&&Hr(r)&&Ct(r);)r=ds(r,s);return r&&Le(r)&&Ct(r)&&!Vt(r)?n:r||Gr(t)||n}const li=async function(t){const s=this.getOffsetParent||As,n=this.getDimensions,r=await n(t.floating);return{reference:ai(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function oi(t){return oe(t).direction==="rtl"}const ci={convertOffsetParentRelativeRectToViewportRelativeRect:Zr,getDocumentElement:he,getClippingRect:ri,getOffsetParent:As,getElementRects:li,getClientRects:Qr,getDimensions:ii,getScale:Me,isElement:le,isRTL:oi};function Ps(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function di(t,s){let n=null,r;const i=he(t);function o(){var c;clearTimeout(r),(c=n)==null||c.disconnect(),n=null}function l(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),o();const x=t.getBoundingClientRect(),{left:m,top:g,width:j,height:u}=x;if(c||s(),!j||!u)return;const v=qe(g),f=qe(i.clientWidth-(m+j)),y=qe(i.clientHeight-(g+u)),N=qe(m),w={rootMargin:-v+"px "+-f+"px "+-y+"px "+-N+"px",threshold:Z(0,be(1,d))||1};let a=!0;function h(C){const S=C[0].intersectionRatio;if(S!==d){if(!a)return l();S?l(!1,S):r=setTimeout(()=>{l(!1,1e-7)},1e3)}S===1&&!Ps(x,t.getBoundingClientRect())&&l(),a=!1}try{n=new IntersectionObserver(h,{...w,root:i.ownerDocument})}catch{n=new IntersectionObserver(h,w)}n.observe(t)}return l(!0),o}function mi(t,s,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,x=Kt(t),m=i||o?[...x?Ke(x):[],...Ke(s)]:[];m.forEach(N=>{i&&N.addEventListener("scroll",n,{passive:!0}),o&&N.addEventListener("resize",n)});const g=x&&c?di(x,n):null;let j=-1,u=null;l&&(u=new ResizeObserver(N=>{let[b]=N;b&&b.target===x&&u&&(u.unobserve(s),cancelAnimationFrame(j),j=requestAnimationFrame(()=>{var w;(w=u)==null||w.observe(s)})),n()}),x&&!d&&u.observe(x),u.observe(s));let v,f=d?Ie(t):null;d&&y();function y(){const N=Ie(t);f&&!Ps(f,N)&&n(),f=N,v=requestAnimationFrame(y)}return n(),()=>{var N;m.forEach(b=>{i&&b.removeEventListener("scroll",n),o&&b.removeEventListener("resize",n)}),g?.(),(N=u)==null||N.disconnect(),u=null,d&&cancelAnimationFrame(v)}}const xi=Lr,ui=Dr,hi=Rr,pi=zr,fi=Or,ms=Er,gi=$r,vi=(t,s,n)=>{const r=new Map,i={platform:ci,...n},o={...i.platform,_c:r};return Ir(t,s,{...i,platform:o})};var yi=typeof document<"u",bi=function(){},Ye=yi?p.useLayoutEffect:bi;function rt(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let n,r,i;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==s.length)return!1;for(r=n;r--!==0;)if(!rt(t[r],s[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(s).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(s,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!rt(t[o],s[o]))return!1}return!0}return t!==t&&s!==s}function Ts(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function xs(t,s){const n=Ts(t);return Math.round(s*n)/n}function St(t){const s=p.useRef(t);return Ye(()=>{s.current=t}),s}function ji(t){t===void 0&&(t={});const{placement:s="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:l}={},transform:c=!0,whileElementsMounted:d,open:x}=t,[m,g]=p.useState({x:0,y:0,strategy:n,placement:s,middlewareData:{},isPositioned:!1}),[j,u]=p.useState(r);rt(j,r)||u(r);const[v,f]=p.useState(null),[y,N]=p.useState(null),b=p.useCallback(P=>{P!==C.current&&(C.current=P,f(P))},[]),w=p.useCallback(P=>{P!==S.current&&(S.current=P,N(P))},[]),a=o||v,h=l||y,C=p.useRef(null),S=p.useRef(null),_=p.useRef(m),M=d!=null,D=St(d),k=St(i),O=St(x),E=p.useCallback(()=>{if(!C.current||!S.current)return;const P={placement:s,strategy:n,middleware:j};k.current&&(P.platform=k.current),vi(C.current,S.current,P).then($=>{const X={...$,isPositioned:O.current!==!1};R.current&&!rt(_.current,X)&&(_.current=X,$t.flushSync(()=>{g(X)}))})},[j,s,n,k,O]);Ye(()=>{x===!1&&_.current.isPositioned&&(_.current.isPositioned=!1,g(P=>({...P,isPositioned:!1})))},[x]);const R=p.useRef(!1);Ye(()=>(R.current=!0,()=>{R.current=!1}),[]),Ye(()=>{if(a&&(C.current=a),h&&(S.current=h),a&&h){if(D.current)return D.current(a,h,E);E()}},[a,h,E,D,M]);const B=p.useMemo(()=>({reference:C,floating:S,setReference:b,setFloating:w}),[b,w]),I=p.useMemo(()=>({reference:a,floating:h}),[a,h]),L=p.useMemo(()=>{const P={position:n,left:0,top:0};if(!I.floating)return P;const $=xs(I.floating,m.x),X=xs(I.floating,m.y);return c?{...P,transform:"translate("+$+"px, "+X+"px)",...Ts(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:X}},[n,c,I.floating,m.x,m.y]);return p.useMemo(()=>({...m,update:E,refs:B,elements:I,floatingStyles:L}),[m,E,B,I,L])}const Ni=t=>{function s(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&s(r)?r.current!=null?ms({element:r.current,padding:i}).fn(n):{}:r?ms({element:r,padding:i}).fn(n):{}}}},wi=(t,s)=>({...xi(t),options:[t,s]}),Ci=(t,s)=>({...ui(t),options:[t,s]}),Si=(t,s)=>({...gi(t),options:[t,s]}),ki=(t,s)=>({...hi(t),options:[t,s]}),_i=(t,s)=>({...pi(t),options:[t,s]}),Ai=(t,s)=>({...fi(t),options:[t,s]}),Pi=(t,s)=>({...Ni(t),options:[t,s]});var Ti="Arrow",Is=p.forwardRef((t,s)=>{const{children:n,width:r=10,height:i=5,...o}=t;return e.jsx(U.svg,{...o,ref:s,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});Is.displayName=Ti;var Ii=Is;function Ei(t){const[s,n]=p.useState(void 0);return ae(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,c;if("borderBoxSize"in o){const d=o.borderBoxSize,x=Array.isArray(d)?d[0]:d;l=x.inlineSize,c=x.blockSize}else l=t.offsetWidth,c=t.offsetHeight;n({width:l,height:c})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),s}var Ut="Popper",[Es,Rs]=Dt(Ut),[Ri,Os]=Es(Ut),Ms=t=>{const{__scopePopper:s,children:n}=t,[r,i]=p.useState(null);return e.jsx(Ri,{scope:s,anchor:r,onAnchorChange:i,children:n})};Ms.displayName=Ut;var Ls="PopperAnchor",Ds=p.forwardRef((t,s)=>{const{__scopePopper:n,virtualRef:r,...i}=t,o=Os(Ls,n),l=p.useRef(null),c=q(s,l),d=p.useRef(null);return p.useEffect(()=>{const x=d.current;d.current=r?.current||l.current,x!==d.current&&o.onAnchorChange(d.current)}),r?null:e.jsx(U.div,{...i,ref:c})});Ds.displayName=Ls;var Gt="PopperContent",[Oi,Mi]=Es(Gt),$s=p.forwardRef((t,s)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:x=[],collisionPadding:m=0,sticky:g="partial",hideWhenDetached:j=!1,updatePositionStrategy:u="optimized",onPlaced:v,...f}=t,y=Os(Gt,n),[N,b]=p.useState(null),w=q(s,A=>b(A)),[a,h]=p.useState(null),C=Ei(a),S=C?.width??0,_=C?.height??0,M=r+(o!=="center"?"-"+o:""),D=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},k=Array.isArray(x)?x:[x],O=k.length>0,E={padding:D,boundary:k.filter(Di),altBoundary:O},{refs:R,floatingStyles:B,placement:I,isPositioned:L,middlewareData:P}=ji({strategy:"fixed",placement:M,whileElementsMounted:(...A)=>mi(...A,{animationFrame:u==="always"}),elements:{reference:y.anchor},middleware:[wi({mainAxis:i+_,alignmentAxis:l}),d&&Ci({mainAxis:!0,crossAxis:!1,limiter:g==="partial"?Si():void 0,...E}),d&&ki({...E}),_i({...E,apply:({elements:A,rects:H,availableWidth:G,availableHeight:z})=>{const{width:F,height:V}=H.reference,ne=A.floating.style;ne.setProperty("--radix-popper-available-width",`${G}px`),ne.setProperty("--radix-popper-available-height",`${z}px`),ne.setProperty("--radix-popper-anchor-width",`${F}px`),ne.setProperty("--radix-popper-anchor-height",`${V}px`)}}),a&&Pi({element:a,padding:c}),$i({arrowWidth:S,arrowHeight:_}),j&&Ai({strategy:"referenceHidden",...E})]}),[$,X]=Bs(I),Ce=fs(v);ae(()=>{L&&Ce?.()},[L,Ce]);const Fe=P.arrow?.x,Be=P.arrow?.y,ge=P.arrow?.centerOffset!==0,[Oe,Se]=p.useState();return ae(()=>{N&&Se(window.getComputedStyle(N).zIndex)},[N]),e.jsx("div",{ref:R.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:L?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(Oi,{scope:n,placedSide:$,onArrowChange:h,arrowX:Fe,arrowY:Be,shouldHideArrow:ge,children:e.jsx(U.div,{"data-side":$,"data-align":X,...f,ref:w,style:{...f.style,animation:L?void 0:"none"}})})})});$s.displayName=Gt;var zs="PopperArrow",Li={top:"bottom",right:"left",bottom:"top",left:"right"},Fs=p.forwardRef(function(s,n){const{__scopePopper:r,...i}=s,o=Mi(zs,r),l=Li[o.placedSide];return e.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:e.jsx(Ii,{...i,ref:n,style:{...i.style,display:"block"}})})});Fs.displayName=zs;function Di(t){return t!==null}var $i=t=>({name:"transformOrigin",options:t,fn(s){const{placement:n,rects:r,middlewareData:i}=s,l=i.arrow?.centerOffset!==0,c=l?0:t.arrowWidth,d=l?0:t.arrowHeight,[x,m]=Bs(n),g={start:"0%",center:"50%",end:"100%"}[m],j=(i.arrow?.x??0)+c/2,u=(i.arrow?.y??0)+d/2;let v="",f="";return x==="bottom"?(v=l?g:`${j}px`,f=`${-d}px`):x==="top"?(v=l?g:`${j}px`,f=`${r.floating.height+d}px`):x==="right"?(v=`${-d}px`,f=l?g:`${u}px`):x==="left"&&(v=`${r.floating.width+d}px`,f=l?g:`${u}px`),{data:{x:v,y:f}}}});function Bs(t){const[s,n="center"]=t.split("-");return[s,n]}var zi=Ms,Fi=Ds,Bi=$s,Hi=Fs;function Vi(t){const s=p.useRef({value:t,previous:t});return p.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var Hs=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Wi="VisuallyHidden",Ki=p.forwardRef((t,s)=>e.jsx(U.span,{...t,ref:s,style:{...Hs,...t.style}}));Ki.displayName=Wi;var Ui=[" ","Enter","ArrowUp","ArrowDown"],Gi=[" ","Enter"],Ee="Select",[mt,xt,Xi]=gr(Ee),[ze]=Dt(Ee,[Xi,Rs]),ut=Rs(),[qi,Ne]=ze(Ee),[Yi,Zi]=ze(Ee),Vs=t=>{const{__scopeSelect:s,children:n,open:r,defaultOpen:i,onOpenChange:o,value:l,defaultValue:c,onValueChange:d,dir:x,name:m,autoComplete:g,disabled:j,required:u,form:v}=t,f=ut(s),[y,N]=p.useState(null),[b,w]=p.useState(null),[a,h]=p.useState(!1),C=yr(x),[S,_]=qt({prop:r,defaultProp:i??!1,onChange:o,caller:Ee}),[M,D]=qt({prop:l,defaultProp:c,onChange:d,caller:Ee}),k=p.useRef(null),O=y?v||!!y.closest("form"):!0,[E,R]=p.useState(new Set),B=Array.from(E).map(I=>I.props.value).join(";");return e.jsx(zi,{...f,children:e.jsxs(qi,{required:u,scope:s,trigger:y,onTriggerChange:N,valueNode:b,onValueNodeChange:w,valueNodeHasChildren:a,onValueNodeHasChildrenChange:h,contentId:zt(),value:M,onValueChange:D,open:S,onOpenChange:_,dir:C,triggerPointerDownPosRef:k,disabled:j,children:[e.jsx(mt.Provider,{scope:s,children:e.jsx(Yi,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(I=>{R(L=>new Set(L).add(I))},[]),onNativeOptionRemove:p.useCallback(I=>{R(L=>{const P=new Set(L);return P.delete(I),P})},[]),children:n})}),O?e.jsxs(xn,{"aria-hidden":!0,required:u,tabIndex:-1,name:m,autoComplete:g,value:M,onChange:I=>D(I.target.value),disabled:j,form:v,children:[M===void 0?e.jsx("option",{value:""}):null,Array.from(E)]},B):null]})})};Vs.displayName=Ee;var Ws="SelectTrigger",Ks=p.forwardRef((t,s)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,o=ut(n),l=Ne(Ws,n),c=l.disabled||r,d=q(s,l.onTriggerChange),x=xt(n),m=p.useRef("touch"),[g,j,u]=hn(f=>{const y=x().filter(w=>!w.disabled),N=y.find(w=>w.value===l.value),b=pn(y,f,N);b!==void 0&&l.onValueChange(b.value)}),v=f=>{c||(l.onOpenChange(!0),u()),f&&(l.triggerPointerDownPosRef.current={x:Math.round(f.pageX),y:Math.round(f.pageY)})};return e.jsx(Fi,{asChild:!0,...o,children:e.jsx(U.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":un(l.value)?"":void 0,...i,ref:d,onClick:W(i.onClick,f=>{f.currentTarget.focus(),m.current!=="mouse"&&v(f)}),onPointerDown:W(i.onPointerDown,f=>{m.current=f.pointerType;const y=f.target;y.hasPointerCapture(f.pointerId)&&y.releasePointerCapture(f.pointerId),f.button===0&&f.ctrlKey===!1&&f.pointerType==="mouse"&&(v(f),f.preventDefault())}),onKeyDown:W(i.onKeyDown,f=>{const y=g.current!=="";!(f.ctrlKey||f.altKey||f.metaKey)&&f.key.length===1&&j(f.key),!(y&&f.key===" ")&&Ui.includes(f.key)&&(v(),f.preventDefault())})})})});Ks.displayName=Ws;var Us="SelectValue",Gs=p.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:l="",...c}=t,d=Ne(Us,n),{onValueNodeHasChildrenChange:x}=d,m=o!==void 0,g=q(s,d.onValueNodeChange);return ae(()=>{x(m)},[x,m]),e.jsx(U.span,{...c,ref:g,style:{pointerEvents:"none"},children:un(d.value)?e.jsx(e.Fragment,{children:l}):o})});Gs.displayName=Us;var Qi="SelectIcon",Xs=p.forwardRef((t,s)=>{const{__scopeSelect:n,children:r,...i}=t;return e.jsx(U.span,{"aria-hidden":!0,...i,ref:s,children:r||"‚ñº"})});Xs.displayName=Qi;var Ji="SelectPortal",qs=t=>e.jsx(gn,{asChild:!0,...t});qs.displayName=Ji;var Re="SelectContent",Ys=p.forwardRef((t,s)=>{const n=Ne(Re,t.__scopeSelect),[r,i]=p.useState();if(ae(()=>{i(new DocumentFragment)},[]),!n.open){const o=r;return o?$t.createPortal(e.jsx(Zs,{scope:t.__scopeSelect,children:e.jsx(mt.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),o):null}return e.jsx(Qs,{...t,ref:s})});Ys.displayName=Re;var re=10,[Zs,we]=ze(Re),ea="SelectContentImpl",ta=kt("SelectContent.RemoveScroll"),Qs=p.forwardRef((t,s)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:c,sideOffset:d,align:x,alignOffset:m,arrowPadding:g,collisionBoundary:j,collisionPadding:u,sticky:v,hideWhenDetached:f,avoidCollisions:y,...N}=t,b=Ne(Re,n),[w,a]=p.useState(null),[h,C]=p.useState(null),S=q(s,A=>a(A)),[_,M]=p.useState(null),[D,k]=p.useState(null),O=xt(n),[E,R]=p.useState(!1),B=p.useRef(!1);p.useEffect(()=>{if(w)return vn(w)},[w]),yn();const I=p.useCallback(A=>{const[H,...G]=O().map(V=>V.ref.current),[z]=G.slice(-1),F=document.activeElement;for(const V of A)if(V===F||(V?.scrollIntoView({block:"nearest"}),V===H&&h&&(h.scrollTop=0),V===z&&h&&(h.scrollTop=h.scrollHeight),V?.focus(),document.activeElement!==F))return},[O,h]),L=p.useCallback(()=>I([_,w]),[I,_,w]);p.useEffect(()=>{E&&L()},[E,L]);const{onOpenChange:P,triggerPointerDownPosRef:$}=b;p.useEffect(()=>{if(w){let A={x:0,y:0};const H=z=>{A={x:Math.abs(Math.round(z.pageX)-($.current?.x??0)),y:Math.abs(Math.round(z.pageY)-($.current?.y??0))}},G=z=>{A.x<=10&&A.y<=10?z.preventDefault():w.contains(z.target)||P(!1),document.removeEventListener("pointermove",H),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",G,{capture:!0})}}},[w,P,$]),p.useEffect(()=>{const A=()=>P(!1);return window.addEventListener("blur",A),window.addEventListener("resize",A),()=>{window.removeEventListener("blur",A),window.removeEventListener("resize",A)}},[P]);const[X,Ce]=hn(A=>{const H=O().filter(F=>!F.disabled),G=H.find(F=>F.ref.current===document.activeElement),z=pn(H,A,G);z&&setTimeout(()=>z.ref.current.focus())}),Fe=p.useCallback((A,H,G)=>{const z=!B.current&&!G;(b.value!==void 0&&b.value===H||z)&&(M(A),z&&(B.current=!0))},[b.value]),Be=p.useCallback(()=>w?.focus(),[w]),ge=p.useCallback((A,H,G)=>{const z=!B.current&&!G;(b.value!==void 0&&b.value===H||z)&&k(A)},[b.value]),Oe=r==="popper"?It:Js,Se=Oe===It?{side:c,sideOffset:d,align:x,alignOffset:m,arrowPadding:g,collisionBoundary:j,collisionPadding:u,sticky:v,hideWhenDetached:f,avoidCollisions:y}:{};return e.jsx(Zs,{scope:n,content:w,viewport:h,onViewportChange:C,itemRefCallback:Fe,selectedItem:_,onItemLeave:Be,itemTextRefCallback:ge,focusSelectedItem:L,selectedItemText:D,position:r,isPositioned:E,searchRef:X,children:e.jsx(bn,{as:ta,allowPinchZoom:!0,children:e.jsx(jn,{asChild:!0,trapped:b.open,onMountAutoFocus:A=>{A.preventDefault()},onUnmountAutoFocus:W(i,A=>{b.trigger?.focus({preventScroll:!0}),A.preventDefault()}),children:e.jsx(Nn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:A=>A.preventDefault(),onDismiss:()=>b.onOpenChange(!1),children:e.jsx(Oe,{role:"listbox",id:b.contentId,"data-state":b.open?"open":"closed",dir:b.dir,onContextMenu:A=>A.preventDefault(),...N,...Se,onPlaced:()=>R(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:W(N.onKeyDown,A=>{const H=A.ctrlKey||A.altKey||A.metaKey;if(A.key==="Tab"&&A.preventDefault(),!H&&A.key.length===1&&Ce(A.key),["ArrowUp","ArrowDown","Home","End"].includes(A.key)){let z=O().filter(F=>!F.disabled).map(F=>F.ref.current);if(["ArrowUp","End"].includes(A.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(A.key)){const F=A.target,V=z.indexOf(F);z=z.slice(V+1)}setTimeout(()=>I(z)),A.preventDefault()}})})})})})})});Qs.displayName=ea;var sa="SelectItemAlignedPosition",Js=p.forwardRef((t,s)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,o=Ne(Re,n),l=we(Re,n),[c,d]=p.useState(null),[x,m]=p.useState(null),g=q(s,S=>m(S)),j=xt(n),u=p.useRef(!1),v=p.useRef(!0),{viewport:f,selectedItem:y,selectedItemText:N,focusSelectedItem:b}=l,w=p.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&x&&f&&y&&N){const S=o.trigger.getBoundingClientRect(),_=x.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),D=N.getBoundingClientRect();if(o.dir!=="rtl"){const F=D.left-_.left,V=M.left-F,ne=S.left-V,ke=S.width+ne,ht=Math.max(ke,_.width),pt=window.innerWidth-re,ft=ts(V,[re,Math.max(re,pt-ht)]);c.style.minWidth=ke+"px",c.style.left=ft+"px"}else{const F=_.right-D.right,V=window.innerWidth-M.right-F,ne=window.innerWidth-S.right-V,ke=S.width+ne,ht=Math.max(ke,_.width),pt=window.innerWidth-re,ft=ts(V,[re,Math.max(re,pt-ht)]);c.style.minWidth=ke+"px",c.style.right=ft+"px"}const k=j(),O=window.innerHeight-re*2,E=f.scrollHeight,R=window.getComputedStyle(x),B=parseInt(R.borderTopWidth,10),I=parseInt(R.paddingTop,10),L=parseInt(R.borderBottomWidth,10),P=parseInt(R.paddingBottom,10),$=B+I+E+P+L,X=Math.min(y.offsetHeight*5,$),Ce=window.getComputedStyle(f),Fe=parseInt(Ce.paddingTop,10),Be=parseInt(Ce.paddingBottom,10),ge=S.top+S.height/2-re,Oe=O-ge,Se=y.offsetHeight/2,A=y.offsetTop+Se,H=B+I+A,G=$-H;if(H<=ge){const F=k.length>0&&y===k[k.length-1].ref.current;c.style.bottom="0px";const V=x.clientHeight-f.offsetTop-f.offsetHeight,ne=Math.max(Oe,Se+(F?Be:0)+V+L),ke=H+ne;c.style.height=ke+"px"}else{const F=k.length>0&&y===k[0].ref.current;c.style.top="0px";const ne=Math.max(ge,B+f.offsetTop+(F?Fe:0)+Se)+G;c.style.height=ne+"px",f.scrollTop=H-ge+f.offsetTop}c.style.margin=`${re}px 0`,c.style.minHeight=X+"px",c.style.maxHeight=O+"px",r?.(),requestAnimationFrame(()=>u.current=!0)}},[j,o.trigger,o.valueNode,c,x,f,y,N,o.dir,r]);ae(()=>w(),[w]);const[a,h]=p.useState();ae(()=>{x&&h(window.getComputedStyle(x).zIndex)},[x]);const C=p.useCallback(S=>{S&&v.current===!0&&(w(),b?.(),v.current=!1)},[w,b]);return e.jsx(ra,{scope:n,contentWrapper:c,shouldExpandOnScrollRef:u,onScrollButtonChange:C,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:a},children:e.jsx(U.div,{...i,ref:g,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Js.displayName=sa;var na="SelectPopperPosition",It=p.forwardRef((t,s)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=re,...o}=t,l=ut(n);return e.jsx(Bi,{...l,...o,ref:s,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});It.displayName=na;var[ra,Xt]=ze(Re,{}),Et="SelectViewport",en=p.forwardRef((t,s)=>{const{__scopeSelect:n,nonce:r,...i}=t,o=we(Et,n),l=Xt(Et,n),c=q(s,o.onViewportChange),d=p.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(mt.Slot,{scope:n,children:e.jsx(U.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:W(i.onScroll,x=>{const m=x.currentTarget,{contentWrapper:g,shouldExpandOnScrollRef:j}=l;if(j?.current&&g){const u=Math.abs(d.current-m.scrollTop);if(u>0){const v=window.innerHeight-re*2,f=parseFloat(g.style.minHeight),y=parseFloat(g.style.height),N=Math.max(f,y);if(N<v){const b=N+u,w=Math.min(v,b),a=b-w;g.style.height=w+"px",g.style.bottom==="0px"&&(m.scrollTop=a>0?a:0,g.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});en.displayName=Et;var tn="SelectGroup",[ia,aa]=ze(tn),la=p.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,i=zt();return e.jsx(ia,{scope:n,id:i,children:e.jsx(U.div,{role:"group","aria-labelledby":i,...r,ref:s})})});la.displayName=tn;var sn="SelectLabel",oa=p.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,i=aa(sn,n);return e.jsx(U.div,{id:i.id,...r,ref:s})});oa.displayName=sn;var it="SelectItem",[ca,nn]=ze(it),rn=p.forwardRef((t,s)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...l}=t,c=Ne(it,n),d=we(it,n),x=c.value===r,[m,g]=p.useState(o??""),[j,u]=p.useState(!1),v=q(s,b=>d.itemRefCallback?.(b,r,i)),f=zt(),y=p.useRef("touch"),N=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(ca,{scope:n,value:r,disabled:i,textId:f,isSelected:x,onItemTextChange:p.useCallback(b=>{g(w=>w||(b?.textContent??"").trim())},[]),children:e.jsx(mt.ItemSlot,{scope:n,value:r,disabled:i,textValue:m,children:e.jsx(U.div,{role:"option","aria-labelledby":f,"data-highlighted":j?"":void 0,"aria-selected":x&&j,"data-state":x?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:v,onFocus:W(l.onFocus,()=>u(!0)),onBlur:W(l.onBlur,()=>u(!1)),onClick:W(l.onClick,()=>{y.current!=="mouse"&&N()}),onPointerUp:W(l.onPointerUp,()=>{y.current==="mouse"&&N()}),onPointerDown:W(l.onPointerDown,b=>{y.current=b.pointerType}),onPointerMove:W(l.onPointerMove,b=>{y.current=b.pointerType,i?d.onItemLeave?.():y.current==="mouse"&&b.currentTarget.focus({preventScroll:!0})}),onPointerLeave:W(l.onPointerLeave,b=>{b.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:W(l.onKeyDown,b=>{d.searchRef?.current!==""&&b.key===" "||(Gi.includes(b.key)&&N(),b.key===" "&&b.preventDefault())})})})})});rn.displayName=it;var Ve="SelectItemText",an=p.forwardRef((t,s)=>{const{__scopeSelect:n,className:r,style:i,...o}=t,l=Ne(Ve,n),c=we(Ve,n),d=nn(Ve,n),x=Zi(Ve,n),[m,g]=p.useState(null),j=q(s,N=>g(N),d.onItemTextChange,N=>c.itemTextRefCallback?.(N,d.value,d.disabled)),u=m?.textContent,v=p.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:u},d.value),[d.disabled,d.value,u]),{onNativeOptionAdd:f,onNativeOptionRemove:y}=x;return ae(()=>(f(v),()=>y(v)),[f,y,v]),e.jsxs(e.Fragment,{children:[e.jsx(U.span,{id:d.textId,...o,ref:j}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?$t.createPortal(o.children,l.valueNode):null]})});an.displayName=Ve;var ln="SelectItemIndicator",on=p.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return nn(ln,n).isSelected?e.jsx(U.span,{"aria-hidden":!0,...r,ref:s}):null});on.displayName=ln;var Rt="SelectScrollUpButton",cn=p.forwardRef((t,s)=>{const n=we(Rt,t.__scopeSelect),r=Xt(Rt,t.__scopeSelect),[i,o]=p.useState(!1),l=q(s,r.onScrollButtonChange);return ae(()=>{if(n.viewport&&n.isPositioned){let c=function(){const x=d.scrollTop>0;o(x)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?e.jsx(mn,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});cn.displayName=Rt;var Ot="SelectScrollDownButton",dn=p.forwardRef((t,s)=>{const n=we(Ot,t.__scopeSelect),r=Xt(Ot,t.__scopeSelect),[i,o]=p.useState(!1),l=q(s,r.onScrollButtonChange);return ae(()=>{if(n.viewport&&n.isPositioned){let c=function(){const x=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<x;o(m)};const d=n.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),i?e.jsx(mn,{...t,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=n;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});dn.displayName=Ot;var mn=p.forwardRef((t,s)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,o=we("SelectScrollButton",n),l=p.useRef(null),c=xt(n),d=p.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return p.useEffect(()=>()=>d(),[d]),ae(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(U.div,{"aria-hidden":!0,...i,ref:s,style:{flexShrink:0,...i.style},onPointerDown:W(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:W(i.onPointerMove,()=>{o.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:W(i.onPointerLeave,()=>{d()})})}),da="SelectSeparator",ma=p.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t;return e.jsx(U.div,{"aria-hidden":!0,...r,ref:s})});ma.displayName=da;var Mt="SelectArrow",xa=p.forwardRef((t,s)=>{const{__scopeSelect:n,...r}=t,i=ut(n),o=Ne(Mt,n),l=we(Mt,n);return o.open&&l.position==="popper"?e.jsx(Hi,{...i,...r,ref:s}):null});xa.displayName=Mt;var ua="SelectBubbleInput",xn=p.forwardRef(({__scopeSelect:t,value:s,...n},r)=>{const i=p.useRef(null),o=q(r,i),l=Vi(s);return p.useEffect(()=>{const c=i.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==s&&m){const g=new Event("change",{bubbles:!0});m.call(c,s),c.dispatchEvent(g)}},[l,s]),e.jsx(U.select,{...n,style:{...Hs,...n.style},ref:o,defaultValue:s})});xn.displayName=ua;function un(t){return t===""||t===void 0}function hn(t){const s=fs(t),n=p.useRef(""),r=p.useRef(0),i=p.useCallback(l=>{const c=n.current+l;s(c),(function d(x){n.current=x,window.clearTimeout(r.current),x!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(c)},[s]),o=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,o]}function pn(t,s,n){const i=s.length>1&&Array.from(s).every(x=>x===s[0])?s[0]:s,o=n?t.indexOf(n):-1;let l=ha(t,Math.max(o,0));i.length===1&&(l=l.filter(x=>x!==n));const d=l.find(x=>x.textValue.toLowerCase().startsWith(i.toLowerCase()));return d!==n?d:void 0}function ha(t,s){return t.map((n,r)=>t[(s+r)%t.length])}var pa=Vs,fa=Ks,ga=Gs,va=Xs,ya=qs,ba=Ys,ja=en,Na=rn,wa=an,Ca=on,Sa=cn,ka=dn;function Q({...t}){return e.jsx(pa,{"data-slot":"select",...t})}function J({...t}){return e.jsx(ga,{"data-slot":"select-value",...t})}function ee({className:t,size:s="default",children:n,...r}){return e.jsxs(fa,{"data-slot":"select-trigger","data-size":s,className:ie("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r,children:[n,e.jsx(va,{asChild:!0,children:e.jsx(Lt,{className:"size-4 opacity-50"})})]})}function te({className:t,children:s,position:n="popper",...r}){return e.jsx(ya,{children:e.jsxs(ba,{"data-slot":"select-content",className:ie("bg-white text-gray-950 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[e.jsx(_a,{}),e.jsx(ja,{className:ie("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:s}),e.jsx(Aa,{})]})})}function T({className:t,children:s,...n}){return e.jsxs(Na,{"data-slot":"select-item",className:ie("focus:bg-gray-100 hover:bg-gray-100 text-gray-950 relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...n,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(Ca,{children:e.jsx(Bn,{className:"size-4"})})}),e.jsx(wa,{children:s})]})}function _a({className:t,...s}){return e.jsx(Sa,{"data-slot":"select-scroll-up-button",className:ie("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(ys,{className:"size-4"})})}function Aa({className:t,...s}){return e.jsx(ka,{"data-slot":"select-scroll-down-button",className:ie("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(Lt,{className:"size-4"})})}function Pe({className:t,...s}){return e.jsx("textarea",{"data-slot":"textarea",className:ie("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...s})}const us={name:"",industry:"",organization_type:"",risk_tolerance:"",innovation_approach:"",region:"",decision_making_style:"",competitive_landscape:"",description:"",key_concerns:"",strategic_priorities:"",key_stakeholders:"",regulatory_environment:"",additional_context:""};function Pa({open:t,onOpenChange:s,profiles:n,onSave:r}){const[i,o]=p.useState(null),[l,c]=p.useState(us),[d,x]=p.useState(!1),m=u=>{o(u);const v=n.find(f=>f.id===u);v&&c({name:v.name||"",industry:v.industry||"",organization_type:v.organization_type||"",risk_tolerance:v.risk_tolerance||"",innovation_approach:v.innovation_approach||"",region:v.region||"",decision_making_style:v.decision_making_style||"",competitive_landscape:v.competitive_landscape||"",description:v.description||"",key_concerns:v.key_concerns||"",strategic_priorities:v.strategic_priorities||"",key_stakeholders:v.key_stakeholders||"",regulatory_environment:v.regulatory_environment||"",additional_context:v.additional_context||""})},g=()=>{o(null),c(us)},j=async()=>{x(!0);try{await r({...l,id:i||void 0}),s(!1)}catch(u){console.error("Error saving profile:",u)}finally{x(!1)}};return e.jsx(Ze,{open:t,onOpenChange:s,children:e.jsx(Qe,{className:"max-w-6xl max-h-[90vh] overflow-hidden p-0",children:e.jsxs("div",{className:"flex h-[90vh]",children:[e.jsxs("div",{className:"w-64 bg-gray-50 border-r border-gray-200 flex flex-col",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Profile"}),e.jsx(K,{size:"sm",className:"h-7 bg-pink-500 hover:bg-pink-600 text-white text-xs",onClick:g,children:"New +"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:n.map(u=>e.jsx("button",{onClick:()=>m(u.id),className:`w-full text-left px-4 py-3 border-b border-gray-200 hover:bg-white transition-colors ${i===u.id?"bg-white":""}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:"font-semibold text-sm text-gray-950 mb-0.5",children:u.name}),e.jsxs("div",{className:"text-xs text-gray-600 mb-1",children:[u.industry," ‚Ä¢ ",u.organization_type]}),e.jsx("div",{className:"text-xs text-gray-700 mb-1",children:u.tags?.join(" ‚Ä¢ ")}),e.jsx("span",{className:"inline-block text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"Default"})]}),e.jsx(sr,{className:"w-3.5 h-3.5 text-pink-500 shrink-0"})]})},u.id))})]}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsx(Je,{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs(et,{className:"text-xl font-bold",children:[i?"Edit Profile: ":"New Profile: ",l.name||"Untitled"]})}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-4",children:e.jsxs("div",{className:"space-y-4 max-w-4xl",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"text-sm font-semibold mb-1.5 block",children:["Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(es,{value:l.name,onChange:u=>c({...l,name:u.target.value}),placeholder:"Cybersecurity Organization",className:"h-9"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Key Concerns"}),e.jsx(Pe,{value:l.key_concerns,onChange:u=>c({...l,key_concerns:u.target.value}),placeholder:"Advanced persistent threats, Zero-day vulnerabilities...",className:"min-h-[60px] text-sm resize-none"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"‚ìò Separate multiple priorities with commas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Industry"}),e.jsxs(Q,{value:l.industry,onValueChange:u=>c({...l,industry:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Cybersecurity"})}),e.jsxs(te,{children:[e.jsx(T,{value:"Cybersecurity",children:"Cybersecurity"}),e.jsx(T,{value:"Financial Services",children:"Financial Services"}),e.jsx(T,{value:"Healthcare",children:"Healthcare"}),e.jsx(T,{value:"Technology",children:"Technology"}),e.jsx(T,{value:"Manufacturing",children:"Manufacturing"}),e.jsx(T,{value:"Retail",children:"Retail"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Organization Type"}),e.jsx(es,{value:l.organization_type,onChange:u=>c({...l,organization_type:u.target.value}),placeholder:"security_team",className:"h-9"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"‚ìò Separate multiple priorities with commas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Risk Tolerance"}),e.jsxs(Q,{value:l.risk_tolerance,onValueChange:u=>c({...l,risk_tolerance:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Conservative (Low Risk)"})}),e.jsxs(te,{children:[e.jsx(T,{value:"Conservative",children:"Conservative (Low Risk)"}),e.jsx(T,{value:"Moderate",children:"Moderate"}),e.jsx(T,{value:"Aggressive",children:"Aggressive (High Risk)"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Strategic Priorities"}),e.jsx(Pe,{value:l.strategic_priorities,onChange:u=>c({...l,strategic_priorities:u.target.value}),placeholder:"Threat prevention, Incident response...",className:"min-h-[60px] text-sm resize-none"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"‚ìò Separate multiple priorities with commas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Innovation Approach"}),e.jsxs(Q,{value:l.innovation_approach,onValueChange:u=>c({...l,innovation_approach:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Conservative"})}),e.jsxs(te,{children:[e.jsx(T,{value:"Conservative",children:"Conservative"}),e.jsx(T,{value:"Balanced",children:"Balanced"}),e.jsx(T,{value:"Aggressive",children:"Aggressive"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Key Stakeholders"}),e.jsx(Pe,{value:l.key_stakeholders,onChange:u=>c({...l,key_stakeholders:u.target.value}),placeholder:"C-suite executives, IT teams...",className:"min-h-[60px] text-sm resize-none"}),e.jsx("p",{className:"text-xs text-gray-600 mt-0.5",children:"‚ìò Separate multiple priorities with commas"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Region"}),e.jsxs(Q,{value:l.region,onValueChange:u=>c({...l,region:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Global"})}),e.jsxs(te,{children:[e.jsx(T,{value:"Global",children:"Global"}),e.jsx(T,{value:"North America",children:"North America"}),e.jsx(T,{value:"Europe",children:"Europe"}),e.jsx(T,{value:"Asia Pacific",children:"Asia Pacific"}),e.jsx(T,{value:"Latin America",children:"Latin America"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Regulatory Environment"}),e.jsx(Pe,{value:l.regulatory_environment,onChange:u=>c({...l,regulatory_environment:u.target.value}),placeholder:"GDPR, SOC 2, ISO 27001...",className:"min-h-[60px] text-sm resize-none"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Decision Making Style"}),e.jsxs(Q,{value:l.decision_making_style,onValueChange:u=>c({...l,decision_making_style:u}),children:[e.jsx(ee,{className:"h-9",children:e.jsx(J,{placeholder:"Data-Driven"})}),e.jsxs(te,{children:[e.jsx(T,{value:"Data-Driven",children:"Data-Driven"}),e.jsx(T,{value:"Intuitive",children:"Intuitive"}),e.jsx(T,{value:"Collaborative",children:"Collaborative"}),e.jsx(T,{value:"Hierarchical",children:"Hierarchical"})]})]})]}),e.jsx("div",{})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Competitive Landscape"}),e.jsx(Pe,{value:l.competitive_landscape,onChange:u=>c({...l,competitive_landscape:u.target.value}),placeholder:"Nation-state actors, Cybercriminal groups...",className:"min-h-[60px] text-sm resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Description"}),e.jsx(Pe,{value:l.description,onChange:u=>c({...l,description:u.target.value}),placeholder:"Security and risk management team focused on protecting digital assets...",className:"min-h-[60px] text-sm resize-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-1.5 block",children:"Additional Context"}),e.jsx(Pe,{value:l.additional_context,onChange:u=>c({...l,additional_context:u.target.value}),placeholder:"Zero-trust security approach with emphasis on proactive threat detection...",className:"min-h-[80px] text-sm resize-none"})]})]})}),e.jsxs("div",{className:"border-t border-gray-200 px-6 py-4 flex justify-end gap-3",children:[e.jsx(K,{variant:"outline",onClick:()=>s(!1),className:"px-6 text-pink-500 border-pink-200 hover:bg-pink-50",children:"Clear"}),e.jsx(K,{onClick:j,disabled:d||!l.name,className:"px-6 bg-pink-500 hover:bg-pink-600",children:d?"Saving...":"Save"})]})]})]})})})}function Ta({currentStep:t,totalSteps:s,stepLabels:n=[]}){return e.jsx("div",{className:"flex items-center justify-between mb-8",children:Array.from({length:s},(r,i)=>{const o=i+1,l=o===t,c=o<t,d=o===s;return e.jsxs("div",{className:"flex items-center flex-1",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-semibold transition-colors ${l?"bg-pink-500 text-white":c?"bg-green-500 text-white":"bg-gray-200 text-gray-700"}`,children:c?e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):o}),n[i]&&e.jsx("span",{className:`mt-2 text-xs ${l?"font-semibold text-gray-950":"text-gray-600"}`,children:n[i]})]}),!d&&e.jsx("div",{className:`flex-1 h-0.5 mx-2 transition-colors ${c?"bg-green-500":"bg-gray-200"}`})]},o)})})}const He={openai:{name:"OpenAI",link:"https://platform.openai.com/api-keys",help:"Supports GPT-4, GPT-4o, and more"},anthropic:{name:"Anthropic",link:"https://console.anthropic.com/settings/keys",help:"Supports Claude 3.5, Claude 4, and more"},gemini:{name:"Google Gemini",link:"https://aistudio.google.com/app/apikey",help:"Supports Gemini Pro, Gemini 2.0 Flash, and more"},newsapi:{name:"NewsAPI",link:"https://newsapi.org/register"},thenewsapi:{name:"TheNewsAPI",link:"https://www.thenewsapi.com/register"},newsdata:{name:"NewsData.io",link:"https://newsdata.io/register"}};function Ia({onNext:t}){const[s,n]=p.useState({provider:"",key:"",validated:!1,testing:!1,error:null}),[r,i]=p.useState({provider:"",key:"",validated:!1,testing:!1,error:null}),[o,l]=p.useState({provider:"firecrawl",key:"",validated:!1,testing:!1,error:null}),[c,d]=p.useState(!1),[x,m]=p.useState(!1),[g,j]=p.useState(!1),u=async f=>{const y=f==="llm"?s:f==="news"?r:o,N=f==="llm"?n:f==="news"?i:l;if(!y.key){N({...y,error:"Please enter an API key"});return}if(f!=="firecrawl"&&!y.provider){N({...y,error:"Please select a provider"});return}N({...y,testing:!0,error:null});try{const b=await On({provider:y.provider,api_key:y.key});b.configured||b.status==="valid"?N({...y,validated:!0,testing:!1,error:null}):N({...y,validated:!1,testing:!1,error:"Validation failed"})}catch(b){N({...y,validated:!1,testing:!1,error:b instanceof Error?b.message:"Failed to test key"})}},v=s.validated&&r.validated&&o.validated;return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"Step 1: Configure API Keys"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Set up your API keys for AI and news services"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"AI Provider"}),e.jsxs(Q,{value:s.provider,onValueChange:f=>n({...s,provider:f,validated:!1,error:null}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Select an AI provider"})}),e.jsxs(te,{children:[e.jsx(T,{value:"openai",children:"OpenAI (GPT-4, GPT-4o, etc.)"}),e.jsx(T,{value:"anthropic",children:"Anthropic (Claude)"}),e.jsx(T,{value:"gemini",children:"Google Gemini"})]})]}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Choose your AI provider - one key works for all models from that provider."})]}),s.provider&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:[He[s.provider]?.name," API Key"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:c?"text":"password",value:s.key,onChange:f=>n({...s,key:f.target.value,validated:!1,error:null}),placeholder:"Enter API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800",children:c?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(K,{variant:"outline",onClick:()=>u("llm"),disabled:s.testing,children:s.testing?e.jsx(ye,{className:"w-4 h-4 animate-spin"}):"Test"})]}),s.validated&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-600 text-sm",children:[e.jsx(yt,{className:"w-4 h-4"}),e.jsx("span",{children:"Key configured ‚úì"})]}),s.error&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-red-600 text-sm",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:s.error})]}),e.jsxs("small",{className:"text-gray-600 text-xs",children:[He[s.provider]?.help,"."," ",e.jsx("a",{href:He[s.provider]?.link,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Get API key ‚Üó"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"News Provider"}),e.jsxs(Q,{value:r.provider,onValueChange:f=>i({...r,provider:f,validated:!1,error:null}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Select a news provider"})}),e.jsxs(te,{children:[e.jsx(T,{value:"newsapi",children:"NewsAPI"}),e.jsx(T,{value:"thenewsapi",children:"TheNewsAPI"}),e.jsx(T,{value:"newsdata",children:"NewsData.io"})]})]}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Choose your news data provider."})]}),r.provider&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"block text-sm font-semibold mb-2",children:[He[r.provider]?.name," API Key"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:x?"text":"password",value:r.key,onChange:f=>i({...r,key:f.target.value,validated:!1,error:null}),placeholder:"Enter API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("button",{type:"button",onClick:()=>m(!x),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800",children:x?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(K,{variant:"outline",onClick:()=>u("news"),disabled:r.testing,children:r.testing?e.jsx(ye,{className:"w-4 h-4 animate-spin"}):"Test"})]}),r.validated&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-600 text-sm",children:[e.jsx(yt,{className:"w-4 h-4"}),e.jsx("span",{children:"Key configured ‚úì"})]}),r.error&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-red-600 text-sm",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:r.error})]}),e.jsxs("small",{className:"text-gray-600 text-xs",children:["Required for fetching news articles."," ",e.jsx("a",{href:He[r.provider]?.link,target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Register here ‚Üó"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Firecrawl Key"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx("input",{type:g?"text":"password",value:o.key,onChange:f=>l({...o,key:f.target.value,validated:!1,error:null}),placeholder:"Enter API key",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("button",{type:"button",onClick:()=>j(!g),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-600 hover:text-gray-800",children:g?e.jsx(jt,{className:"w-4 h-4"}):e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(K,{variant:"outline",onClick:()=>u("firecrawl"),disabled:o.testing,children:o.testing?e.jsx(ye,{className:"w-4 h-4 animate-spin"}):"Test"})]}),o.validated&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-green-600 text-sm",children:[e.jsx(yt,{className:"w-4 h-4"}),e.jsx("span",{children:"Key configured ‚úì"})]}),o.error&&e.jsxs("div",{className:"mt-2 flex items-center gap-1 text-red-600 text-sm",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:o.error})]}),e.jsxs("small",{className:"text-gray-600 text-xs",children:["Required for web scraping and data collection."," ",e.jsx("a",{href:"https://www.firecrawl.dev/pricing",target:"_blank",rel:"noopener noreferrer",className:"text-pink-600 hover:text-pink-700",children:"Free plan ‚Üó"})]})]}),e.jsx("div",{className:"flex justify-end mt-8",children:e.jsx(K,{onClick:t,disabled:!v,className:"bg-pink-500 hover:bg-pink-600",children:"Next ‚Üí"})})]})}function Te({value:t,onChange:s,placeholder:n="Type and press Enter to add",suggestions:r=[],id:i}){const[o,l]=p.useState(""),c=m=>{m.key==="Enter"&&o.trim()?(m.preventDefault(),t.includes(o.trim())||s([...t,o.trim()]),l("")):m.key==="Backspace"&&!o&&t.length>0&&s(t.slice(0,-1))},d=m=>{s(t.filter(g=>g!==m))},x=m=>{t.includes(m)||s([...t,m])};return e.jsxs("div",{children:[e.jsxs("div",{className:"border border-pink-200 rounded-lg p-3 min-h-[100px] flex flex-wrap gap-2 items-start bg-white",children:[t.map((m,g)=>e.jsxs("span",{className:"inline-flex items-center bg-pink-100 text-pink-700 px-3 py-1 rounded-full text-sm border border-pink-200 shadow-sm",children:[m,e.jsx("button",{type:"button",onClick:()=>d(m),className:"ml-2 opacity-60 hover:opacity-100 transition-opacity","aria-label":`Remove ${m}`,children:e.jsx(wn,{className:"w-3 h-3"})})]},g)),e.jsx("input",{type:"text",id:i,value:o,onChange:m=>l(m.target.value),onKeyDown:c,placeholder:t.length===0?n:"",className:"flex-1 min-w-[150px] border-none outline-none p-1 text-sm"})]}),r.length>0&&e.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.map((m,g)=>e.jsxs("button",{type:"button",onClick:()=>x(m),disabled:t.includes(m),className:"px-3 py-1 text-sm bg-pink-50 text-pink-600 border border-pink-200 rounded-full hover:bg-pink-500 hover:text-white transition-colors disabled:opacity-40 disabled:cursor-not-allowed disabled:hover:bg-pink-50 disabled:hover:text-pink-600 relative group",children:[m,!t.includes(m)&&e.jsx("span",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap",children:"Click to add"})]},g))})]})}const hs={signals:["AI is hype","AI is evolving gradually","AI is accelerating","AI reaches plateau","AI breakthrough imminent"],categories:["AI in Finance","AI Ethics","AI Regulation","Cloud Computing","Edge AI"]},ps={sentiments:["Positive","Negative","Neutral"],timeToImpact:["Immediate (0-6 months)","Short-term (6-18 months)","Mid-term (18-60 months)","Long-term (60+ months)"]};function Ea({onNext:t,onBack:s}){const[n,r]=p.useState(""),[i,o]=p.useState(""),[l,c]=p.useState([]),[d,x]=p.useState([]),[m,g]=p.useState(ps.sentiments),[j,u]=p.useState(ps.timeToImpact),[v,f]=p.useState(!1),[y,N]=p.useState(!1),[b,w]=p.useState(null),[a,h]=p.useState(null),C=async()=>{if(!n.trim()){alert("Please enter a topic name first");return}N(!0);try{const _=await vs({topic_name:n,topic_description:i||void 0});if(_){const M={futureSignals:_.future_signals||[],categories:_.categories||[],sentiments:_.sentiments||[],timeToImpact:_.time_to_impact||[],keywords:_.keywords||[]};w(M),f(!0),_.explanation&&o(_.explanation),M.futureSignals?.length>0&&c(M.futureSignals),M.categories?.length>0&&x(M.categories),_.keywords&&h(_.keywords)}}catch(_){console.error("Error getting suggestions:",_),alert("Failed to get AI suggestions. Please try again.")}finally{N(!1)}},S=()=>{if(!n.trim()){alert("Please enter a topic name");return}if(l.length===0||d.length===0||m.length===0||j.length===0){alert("Please fill in all required fields or use AI suggestions");return}t({name:n,description:i,futureSignals:l,categories:d,sentiments:m,timeToImpact:j},a)};return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"Step 2: Set Up Your First Topic"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Create a topic to start monitoring"}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6 text-sm text-gray-800",children:[e.jsxs("p",{children:["At the core of ",e.jsx("strong",{children:"AuNoo AI"})," are ",e.jsx("strong",{children:"topics"}),"‚Äîflexible constructs that can represent markets, knowledge fields, organizations, or even specific strategic questions. For instance:"]}),e.jsxs("ul",{className:"mt-2 ml-4 list-disc space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Markets"}),": Cloud Service Providers, EV Battery Suppliers, or Threat Intelligence Providers."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Knowledge Fields"}),": Neurology, AI, or Archeology."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Organizations or People"}),": AI researchers, competitors, or even a favorite sports team."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scenarios"}),': Questions like "Is AI hype?" or "How strong is the Cloud Repatriation movement?"']})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Topic Name"}),e.jsx("input",{type:"text",value:n,onChange:_=>r(_.target.value),placeholder:"Enter a descriptive name for your topic",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Enter a descriptive name for your topic"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Topic Description (Optional)"}),e.jsx("textarea",{value:i,onChange:_=>o(_.target.value),rows:3,placeholder:"Provide additional details about this topic to improve attribute suggestions",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-pink-500"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"A brief description helps the AI provide better suggestions"})]}),e.jsx("div",{className:"mb-6",children:e.jsx(K,{variant:"outline",onClick:C,disabled:y||!n.trim(),className:"border-pink-500 text-pink-600 hover:bg-pink-50",children:y?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating Suggestions..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Suggest Details"]})})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Future Signals"}),e.jsxs("p",{className:"text-gray-700 text-sm mb-2",children:["Future Signals are scenarios that suggest potential directions for a topic. For instance, signals for an AI hype model could range from",e.jsx("span",{className:"text-blue-600",children:' "AI is hype"'})," and",e.jsx("span",{className:"text-blue-600",children:' "AI is evolving gradually"'}),", to",e.jsx("span",{className:"text-blue-600",children:' "AI is accelerating"'}),"."]}),e.jsx(Te,{value:l,onChange:c,suggestions:b?.futureSignals||hs.signals,id:"futureSignalsInput"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Add signals that indicate future developments"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Categories"}),e.jsxs("p",{className:"text-gray-700 text-sm mb-2",children:["Each topic is broken down into categories, making it easier to organize and analyze data. For example, a topic on AI might include subcategories like",e.jsx("span",{className:"text-blue-600",children:" AI in Finance"})," or",e.jsx("span",{className:"text-blue-600",children:" Cloud Quarterly Earnings"}),"."]}),e.jsx(Te,{value:d,onChange:x,suggestions:b?.categories||hs.categories,id:"categoriesInput"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Add categories that describe your topic"})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(K,{variant:"outline",onClick:s,children:"‚Üê Back"}),e.jsx(K,{onClick:S,className:"bg-pink-500 hover:bg-pink-600",children:"Next ‚Üí"})]})]})}function Ra({topicData:t,suggestedKeywords:s,onBack:n,onComplete:r}){const[i,o]=p.useState([]),[l,c]=p.useState([]),[d,x]=p.useState([]),[m,g]=p.useState([]),[j,u]=p.useState([]),[v,f]=p.useState(!1),[y,N]=p.useState(!1);p.useEffect(()=>{s&&(console.log("Populating keywords from Step 2:",s),s.companies?.length>0&&o(s.companies.slice(0,3)),s.technologies?.length>0&&c(s.technologies.slice(0,3)),s.general?.length>0&&x(s.general.slice(0,3)),s.people?.length>0&&g(s.people.slice(0,2)),s.exclusions?.length>0&&u(s.exclusions.slice(0,2)))},[s]);const b=async()=>{N(!0);try{const a=`Suggest relevant keywords for the topic "${t.name}". Organize them into these categories: Companies & Organizations, Technologies, General Keywords, People, and Exclusion Keywords (misinformation, unrelated terms). Provide only the most relevant and high-quality keywords for each category. Use real company and technology names where possible. Exclusion keywords should help filter out noise or unrelated results. Topic description: ${t.description}`,h=await vs({topic_name:t.name,topic_description:t.description,keyword_prompt:a});h&&h.keywords&&(console.log("Regenerated keywords:",h.keywords),o(h.keywords.companies?.slice(0,3)||[]),c(h.keywords.technologies?.slice(0,3)||[]),x(h.keywords.general?.slice(0,3)||[]),g(h.keywords.people?.slice(0,2)||[]),u(h.keywords.exclusions?.slice(0,2)||[]))}catch(a){console.error("Error regenerating keywords:",a),alert("Failed to regenerate keywords. Please try again.")}finally{N(!1)}},w=async()=>{const a=[...i.map(h=>`company:${h}`),...l.map(h=>`tech:${h}`),...d,...m.map(h=>`person:${h}`),...j.map(h=>h.startsWith("-")||h.startsWith("NOT ")?h:`-${h}`)];if(a.length===0){alert("Please add at least one keyword");return}f(!0);try{const h=await Ln({name:t.name,description:t.description,futureSignals:t.futureSignals,categories:t.categories,sentiments:t.sentiments,timeToImpact:t.timeToImpact,keywords:a});h.status==="success"||h.success?(await Dn(),r()):alert(h.message||"Failed to save topic")}catch(h){console.error("Error completing onboarding:",h),alert("Failed to complete onboarding. Please try again.")}finally{f(!1)}};return e.jsxs("div",{children:[e.jsx("h4",{className:"text-xl font-bold mb-2",children:"Step 3: Set Up Keywords"}),e.jsx("p",{className:"text-gray-700 mb-6",children:"Add keywords to monitor for your topic"}),e.jsxs("div",{className:"bg-gray-100 rounded-lg p-4 mb-6 text-sm text-gray-800",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Keywords"})," help AuNoo find relevant articles. You can organize keywords by category:"]}),e.jsxs("ul",{className:"ml-4 list-disc space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Companies"}),": Organizations to track"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Technologies"}),": Specific technologies or products"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"People"}),": Key individuals or thought leaders"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"General"}),": Other relevant terms"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Exclusions"}),": Terms to exclude from results (prefix with -)"]})]})]}),s&&e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mb-3 text-sm text-green-800",children:[e.jsx("span",{className:"font-semibold",children:"‚úì"})," Keywords from Step 2 have been applied"]}),e.jsx(K,{variant:"outline",onClick:b,disabled:y,className:"border-pink-500 text-pink-600 hover:bg-pink-50",children:y?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"w-4 h-4 mr-2"}),"Get Different Suggestions"]})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Companies & Organizations"}),e.jsx(Te,{value:i,onChange:o,placeholder:"Add companies",id:"companiesInput"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Technologies"}),e.jsx(Te,{value:l,onChange:c,placeholder:"Add technologies",id:"technologiesInput"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"General Keywords"}),e.jsx(Te,{value:d,onChange:x,placeholder:"Add general keywords",id:"generalKeywordsInput"}),e.jsx("small",{className:"text-gray-600 text-xs",children:"Keywords that don't fit into specific categories above"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"People"}),e.jsx(Te,{value:m,onChange:g,placeholder:"Add people",id:"peopleInput"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold mb-2",children:"Exclusion Keywords"}),e.jsx(Te,{value:j,onChange:u,placeholder:"Add exclusions (prefix with - or NOT)",id:"exclusionKeywordsInput"}),e.jsx("small",{className:"text-gray-600 text-xs",children:'Prefix with minus (-) or "NOT" to exclude terms from search results'})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsx("h5",{className:"font-semibold text-blue-900 mb-2",children:"Topic Summary"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-1",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.name]}),t.description&&e.jsxs("p",{children:[e.jsx("strong",{children:"Description:"})," ",t.description]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Categories:"})," ",t.categories.length]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Future Signals:"})," ",t.futureSignals.length]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Keywords:"})," ",i.length+l.length+d.length+m.length+j.length]})]})]}),e.jsxs("div",{className:"flex justify-between mt-8",children:[e.jsx(K,{variant:"outline",onClick:n,disabled:v,children:"‚Üê Back"}),e.jsx(K,{onClick:w,disabled:v,className:"bg-pink-500 hover:bg-pink-600",children:v?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):"Complete Setup"})]})]})}function Oa({open:t,onOpenChange:s,onComplete:n}){const[r,i]=p.useState(1),[o,l]=p.useState(null),[c,d]=p.useState(null),[x,m]=p.useState(!0);p.useEffect(()=>{t&&g()},[t]);const g=async()=>{m(!0);try{const b=await Mn();(b.openai||b.anthropic||b.gemini)&&(b.newsapi||b.thenewsapi||b.newsdata)&&b.firecrawl?(console.log("All API keys configured, skipping Step 1"),i(2)):i(1)}catch(b){console.error("Error checking API keys:",b),i(1)}finally{m(!1)}},j=()=>{i(2)},u=(b,w)=>{l(b),d(w),i(3)},v=()=>{i(1)},f=()=>{i(2)},y=()=>{s(!1),i(1),l(null),m(!0),n&&n()},N=["API Keys","Topic Setup","Keywords"];return x&&t?e.jsx(Ze,{open:t,onOpenChange:s,children:e.jsxs(Qe,{className:"max-w-4xl",children:[e.jsxs(Je,{children:[e.jsx(et,{children:"Loading Onboarding"}),e.jsx(_t,{children:"Checking your API key configuration..."})]}),e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Checking configuration..."})]})})]})}):e.jsx(Ze,{open:t,onOpenChange:s,children:e.jsxs(Qe,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Je,{children:[e.jsx(et,{className:"text-2xl font-bold text-center",children:"Welcome to AuNoo AI"}),e.jsx(_t,{className:"sr-only",children:"Set up your AuNoo AI account and create your first topic"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx(Ta,{currentStep:r,totalSteps:3,stepLabels:N}),e.jsxs("div",{className:"mt-8",children:[r===1&&e.jsx(Ia,{onNext:j}),r===2&&e.jsx(Ea,{onNext:u,onBack:v}),r===3&&o&&e.jsx(Ra,{topicData:o,suggestedKeywords:c,onBack:f,onComplete:y})]})]})]})})}const Ma=Cn("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function La({className:t,variant:s,...n}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:ie(Ma({variant:s}),t),...n})}function Da({className:t,...s}){return e.jsx("div",{"data-slot":"alert-title",className:ie("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...s})}function $a({className:t,...s}){return e.jsx("div",{"data-slot":"alert-description",className:ie("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...s})}const at={"gpt-3.5-turbo":16385,"gpt-3.5-turbo-16k":16385,"gpt-4":8192,"gpt-4-32k":32768,"gpt-4-turbo":128e3,"gpt-4-turbo-preview":128e3,"gpt-4o":128e3,"gpt-4o-mini":128e3,"gpt-4.1":1e6,"gpt-4.1-mini":1e6,"gpt-4.1-nano":1e6,"claude-3-opus":2e5,"claude-3-sonnet":2e5,"claude-3-haiku":2e5,"claude-3.5-sonnet":2e5,"claude-4":2e5,"claude-4-opus":2e5,"claude-4-sonnet":2e5,"claude-4-haiku":2e5,"gemini-pro":32768,"gemini-1.5-pro":2097152,"llama-2-70b":4096,"llama-3-70b":8192,"mixtral-8x7b":32768,default:16385};function za(t){return Math.ceil((t?.length||0)/4)}function Fa(t,s,n="auto",r){if(n==="custom"&&r)return r;const o=(at[t]||at.default)>=1e6;let l;switch(n){case"focused":l=o?50:25;break;case"balanced":l=o?100:50;break;case"comprehensive":l=o?200:100;break;case"auto":default:const x=(s?.length||0)>200?1.2:1;let m=o?150:75;(s.includes("trend")||s.includes("convergence"))&&(m=o?300:150),l=Math.round(m*x);break}return Math.max(10,Math.min(l,o?1e3:400))}function Ba(t,s="auto",n){const r="trend convergence analysis",i=Fa(t,r,s,n),o=at[t]||at.default,l=500,c=za(r),x=i*180,m=l+c+x,g=m/o*100,j=o>=1e6?" üöÄ1M":o>=2e5?" ‚ö°200K":o>=1e5?" üí´100K":"",u=`Context: ${i} articles, ~${m.toLocaleString()} tokens (${g.toFixed(1)}%)${j}`;let v="text-blue-700";return g>90?v="text-red-600 font-bold":g>70?v="text-orange-600 font-semibold":g>50&&(v="text-green-600 font-medium"),{sampleSize:i,totalTokens:m,contextUsage:g,contextLimit:o,modelIndicator:j,displayText:u,colorClass:v}}function Ha(){const{data:t,topics:s,profiles:n,models:r,config:i,loading:o,error:l,generateAnalysis:c,updateConfig:d}=zn(),[x,m]=p.useState("strategic-recommendations"),[g,j]=p.useState(!1),[u,v]=p.useState(!1),[f,y]=p.useState(!1),[N,b]=p.useState(null);p.useEffect(()=>{new URLSearchParams(window.location.search).get("onboarding")==="true"&&(y(!0),window.history.replaceState({},"",window.location.pathname))},[]),p.useEffect(()=>{const h={consensus:"consensus","strategic-recommendations":"strategic","impact-timeline":"timeline","market-signals":"signals","future-horizons":"horizons"}[x];if(h){d({tab:h});const C=`trendConvergence_data_${h}`;!localStorage.getItem(C)&&i.topic&&!o&&(console.log(`No cached data for ${h} tab, auto-generating...`),c())}},[x,d,i.topic,o,c]),p.useEffect(()=>{if(i.model){const a=i.custom_limit?"custom":"auto",h=Ba(i.model,a,i.custom_limit);b(h)}},[i.model,i.custom_limit]);const w=async()=>{await c(),j(!1)};return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(Sn,{currentPage:"anticipate"}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-700",children:[e.jsx("span",{children:"Explore"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium text-gray-950",children:"Strategic Recommendations"}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:"Current indicators and potential disruption scenarios"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-md",children:e.jsx(kn,{className:"w-5 h-5 text-gray-700"})}),e.jsxs("button",{onClick:()=>y(!0),className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-md text-sm font-medium flex items-center gap-2 text-gray-950",children:["Set up topic",e.jsx("span",{className:"text-gray-500",children:"+"})]})]})]}),e.jsx(Ze,{open:g,onOpenChange:j,children:e.jsxs(Qe,{className:"max-w-4xl",children:[e.jsxs(Je,{children:[e.jsx(et,{className:"text-2xl font-bold",children:"Configure Trend Convergence Analysis"}),e.jsx(_t,{className:"sr-only",children:"Configure your analysis settings"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-6 gap-y-6 mt-6",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Topic"}),e.jsxs(Q,{value:i.topic,onValueChange:a=>d({topic:a}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Cloud Repatriation"})}),e.jsx(te,{children:s.map(a=>e.jsx(T,{value:a.name,children:a.display_name},a.name))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Analysis Timeframe"}),e.jsxs(Q,{value:i.timeframe_days.toString(),onValueChange:a=>d({timeframe_days:parseInt(a)}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"All Time"})}),e.jsxs(te,{children:[e.jsx(T,{value:"0",children:"All Time"}),e.jsx(T,{value:"30",children:"Last 30 days"}),e.jsx(T,{value:"90",children:"Last 90 days"}),e.jsx(T,{value:"180",children:"Last 180 days"}),e.jsx(T,{value:"365",children:"Last year"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"AI Model"}),e.jsxs(Q,{value:i.model,onValueChange:a=>d({model:a}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"gpt-4.1-mini"})}),e.jsx(te,{children:r.map(a=>e.jsx(T,{value:a.id,children:a.name},a.id))})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Analysis Depth"}),e.jsxs(Q,{value:i.analysis_depth,onValueChange:a=>d({analysis_depth:a}),children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Standard analysis"})}),e.jsxs(te,{children:[e.jsx(T,{value:"quick",children:"Quick Overview"}),e.jsx(T,{value:"standard",children:"Standard analysis"}),e.jsx(T,{value:"deep",children:"Deep Dive"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Organizational Profile"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{value:i.profile_id?.toString()||"",onValueChange:a=>d({profile_id:a?parseInt(a):void 0}),children:[e.jsx(ee,{className:"flex-1",children:e.jsx(J,{placeholder:"Select Profile"})}),e.jsx(te,{children:n.map(a=>e.jsx(T,{value:a.id.toString(),children:a.name},a.id))})]}),e.jsx(K,{variant:"outline",size:"icon",className:"shrink-0 bg-pink-500 hover:bg-pink-600 text-white border-0",onClick:()=>v(!0),children:e.jsx(gt,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-semibold mb-2 block",children:"Article Sample Size"}),e.jsxs(Q,{value:i.custom_limit?.toString()||"auto",onValueChange:a=>{d(a==="auto"?{custom_limit:void 0,sample_size_mode:"auto"}:{custom_limit:parseInt(a),sample_size_mode:"custom"})},children:[e.jsx(ee,{className:"w-full",children:e.jsx(J,{placeholder:"Auto Size"})}),e.jsxs(te,{children:[e.jsx(T,{value:"auto",children:"Auto Size"}),e.jsx(T,{value:"50",children:"50 articles"}),e.jsx(T,{value:"100",children:"100 articles"}),e.jsx(T,{value:"200",children:"200 articles"})]})]}),N&&e.jsxs("div",{className:"mt-2 p-3 bg-cyan-50 rounded-lg flex items-start gap-2",children:[e.jsx(vt,{className:"w-4 h-4 text-cyan-600 mt-0.5 shrink-0"}),e.jsx("div",{className:"text-xs",children:e.jsx("span",{className:`font-medium ${N.colorClass}`,children:N.displayText})})]})]})]})]}),l&&e.jsxs(La,{variant:"destructive",className:"mt-6",children:[e.jsx(vt,{className:"h-4 w-4"}),e.jsx(Da,{children:"Error"}),e.jsx($a,{children:l})]}),e.jsxs("div",{className:"flex justify-end gap-3 mt-8",children:[e.jsx(K,{variant:"outline",onClick:()=>j(!1),className:"px-6",children:"Clear"}),e.jsx(K,{onClick:w,disabled:o||!i.topic,className:"px-6 bg-pink-500 hover:bg-pink-600",children:o?e.jsxs(e.Fragment,{children:[e.jsx(ye,{className:"w-4 h-4 mr-2 animate-spin"}),"Loading..."]}):e.jsxs(e.Fragment,{children:["Load analysis",e.jsx("span",{className:"ml-2",children:"‚ñ∂"})]})})]})]})}),e.jsx("div",{className:"bg-white px-6 py-4",children:e.jsx(lr,{activeTab:x,onTabChange:m})}),e.jsx("div",{className:"bg-white px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Yt,{className:"w-5 h-5 text-gray-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Topic:"}),e.jsx("span",{className:"ml-2 font-medium text-gray-950",children:i.topic||"Cloud Repatriation"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Last Updated:"}),e.jsx("span",{className:"text-sm font-medium",children:t?._cache_info?.last_updated||new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,".")}),e.jsx("button",{onClick:()=>c(!0),disabled:o,className:"p-2 hover:bg-gray-100 rounded-md disabled:opacity-50 disabled:cursor-not-allowed",title:"Refresh analysis (bypass cache)",children:e.jsx(rr,{className:`w-4 h-4 text-gray-700 ${o?"animate-spin":""}`})})]})]})}),e.jsxs("div",{className:"bg-white px-6 py-3 border-b border-gray-200 flex justify-between items-center",children:[e.jsxs("button",{onClick:()=>j(!0),className:"px-4 py-2 text-pink-500 hover:bg-pink-50 rounded-md text-sm font-medium flex items-center gap-2",children:[e.jsx(gt,{className:"w-4 h-4"}),"Configure"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("button",{className:"px-3 py-2 hover:bg-gray-100 rounded-md text-sm font-medium flex items-center gap-2 text-pink-500",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Columns"]}),e.jsxs("button",{className:"px-3 py-2 hover:bg-gray-100 rounded-md text-sm font-medium flex items-center gap-2 text-pink-500",children:[e.jsx(Jn,{className:"w-4 h-4"}),"Image"]}),e.jsxs("button",{className:"px-3 py-2 hover:bg-gray-100 rounded-md text-sm font-medium flex items-center gap-2 text-pink-500",children:[e.jsx(_n,{className:"w-4 h-4"}),"PDF"]})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto px-6 py-6",children:o?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ye,{className:"w-12 h-12 animate-spin text-pink-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700",children:"Analyzing trends and generating recommendations..."})]})}):t?e.jsxs("div",{className:"space-y-6 max-w-6xl",children:[x==="impact-timeline"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:(t.impact_timeline||[]).map((a,h)=>{const C=["orange","purple","green","blue","pink","lime"],S=C[h%C.length];return e.jsx(pr,{title:typeof a=="string"?a:a.title||a.name,description:typeof a=="string"?"":a.description||"",timelineStart:typeof a=="string"?2024:a.timeline_start||2024,timelineEnd:typeof a=="string"?2030:a.timeline_end||2030,tooltipPositions:typeof a=="string"?[]:a.tooltip_positions||[],color:S},h)})}),t.key_insights&&t.key_insights.length>0&&e.jsxs("div",{className:"mt-8 bg-cyan-50 border border-cyan-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ge,{className:"w-5 h-5 text-cyan-600"}),e.jsx("h2",{className:"text-xl font-bold",children:"Key Insights from Evidence Synthesis"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.key_insights.map((a,h)=>{const C=["bg-blue-500","bg-green-500","bg-red-500","bg-orange-500"],S=C[h%C.length];return e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-3 h-3 ${S} rounded-full mt-1 shrink-0`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-950 mb-1",children:typeof a=="string"?a:a.quote||a.insight}),e.jsx("div",{className:"text-xs text-gray-700",children:typeof a=="string"?"":a.relevance||a.source||""})]})]},h)})})]})]}),x==="market-signals"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-800",children:"Future Signal"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-800",children:"Impact"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-800",children:"Timeline"}),e.jsx("th",{className:"text-left px-6 py-3 text-sm font-semibold text-gray-800",children:"Confidence"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:("future_signals"in t?t.future_signals:[]).map((a,h)=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-950",children:a.signal}),e.jsx("div",{className:"text-xs text-gray-600 mt-1",children:a.description})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-block px-3 py-1 text-xs font-medium rounded ${a.impact==="High"?"bg-red-100 text-red-700":a.impact==="Medium"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:a.impact})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.timeline}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:a.confidence})]},h))})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx("div",{className:"space-y-4",children:("risk_cards"in t?t.risk_cards:[]).map((a,h)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${a.severity==="High"||a.severity==="Critical"?"bg-red-100":a.severity==="Medium"?"bg-yellow-100":"bg-orange-100"}`,children:e.jsx(vt,{className:`w-5 h-5 ${a.severity==="High"||a.severity==="Critical"?"text-red-600":a.severity==="Medium"?"text-yellow-600":"text-orange-600"}`})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-950",children:a.title}),e.jsx("span",{className:"text-xs text-gray-500",children:a.timeframe})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:a.description}),a.mitigation_strategies&&a.mitigation_strategies.length>0&&e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"font-medium text-gray-600 mb-1",children:"Mitigation:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:a.mitigation_strategies.slice(0,2).map((C,S)=>e.jsx("li",{children:C},S))})]})]})]})},h))}),e.jsx("div",{className:"space-y-4",children:("opportunity_cards"in t?t.opportunity_cards:[]).map((a,h)=>e.jsx("div",{className:"bg-white border border-gray-200 rounded-xl p-5",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Xe,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"font-semibold text-gray-950",children:a.title}),e.jsx("span",{className:"text-xs text-gray-500",children:a.timeframe})]}),e.jsx("p",{className:"text-sm text-gray-700 mb-3",children:a.description}),a.potential_value&&e.jsxs("p",{className:"text-xs font-medium text-green-600 mb-2",children:["Value: ",a.potential_value]}),a.action_steps&&a.action_steps.length>0&&e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"font-medium text-gray-600 mb-1",children:"Actions:"}),e.jsx("ul",{className:"list-disc list-inside space-y-1 text-gray-600",children:a.action_steps.slice(0,2).map((C,S)=>e.jsx("li",{children:C},S))})]})]})]})},h))})]}),e.jsx("div",{className:"space-y-4",children:("quotes"in t?t.quotes:[]).slice(0,3).map((a,h)=>e.jsx("div",{className:"bg-cyan-50 border border-cyan-200 rounded-xl p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"text-4xl text-cyan-400 font-serif leading-none",children:'"'}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-gray-800 mb-2 italic",children:a.text}),e.jsxs("div",{className:"flex justify-between items-end",children:[e.jsx("div",{className:"text-xs text-gray-600",children:a.context}),e.jsxs("p",{className:"text-sm text-gray-700",children:["‚Äî ",e.jsx("a",{href:a.url,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-600 hover:text-cyan-700 hover:underline",children:a.source})]})]}),a.relevance&&e.jsxs("div",{className:"mt-2 text-xs text-gray-600 border-t border-cyan-200 pt-2",children:[e.jsx("span",{className:"font-medium",children:"Relevance:"})," ",a.relevance]})]})]})},h))})]}),x==="consensus"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[(t.categories||[]).map((a,h)=>e.jsx(ur,{category:a,index:h},h)),(!t.categories||t.categories.length===0)&&(t.convergences||[]).map((a,h)=>{const C=["purple","orange","blue","green","pink","indigo"],S=C[h%C.length];return e.jsx(cr,{name:a.name||"Unnamed Convergence",description:a.description||"",consensusPercentage:a.consensus_percentage||80,timelineStartYear:a.timeline_start_year||2024,timelineEndYear:a.timeline_end_year||2050,optimisticOutlier:a.optimistic_outlier||{year:2024,description:"Optimistic scenario",source_percentage:25},pessimisticOutlier:a.pessimistic_outlier||{year:2040,description:"Pessimistic scenario",source_percentage:35},strategicImplication:a.strategic_implication||"Strategic planning required",keyArticles:a.key_articles||[],color:S,consensusType:a.consensus_type,sentimentDistribution:a.sentiment_distribution,timelineConsensus:a.timeline_consensus,articlesAnalyzed:a.articles_analyzed,actionItems:a.action_items,timeframeAnalysis:a.timeframe_analysis},h)})]}),t.key_insights&&t.key_insights.length>0&&e.jsxs("div",{className:"mt-8 bg-cyan-50 border border-cyan-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ge,{className:"w-5 h-5 text-cyan-600"}),e.jsx("h2",{className:"text-xl font-bold",children:"Key Insights from Evidence Synthesis"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:t.key_insights.map((a,h)=>{const C=["bg-blue-500","bg-green-500","bg-red-500","bg-orange-500"],S=C[h%C.length];return e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:`w-3 h-3 ${S} rounded-full mt-1 shrink-0`}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-950 mb-1",children:typeof a=="string"?a:a.quote||a.insight}),e.jsx("div",{className:"text-xs text-gray-700",children:typeof a=="string"?"":a.relevance||a.source||""})]})]},h)})})]})]}),x==="strategic-recommendations"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Strategic Recommendations"}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"bg-green-50 p-6 border-b border-green-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Yt,{className:"w-4 h-4 text-green-700"})}),e.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"NEAR-TERM"})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t.strategic_recommendations?.near_term?.timeframe||"2025-2027"})]}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-3",children:(t.strategic_recommendations?.near_term?.trends||[]).slice(0,4).map((a,h)=>e.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex gap-2",children:[e.jsx("span",{className:"text-green-600 font-bold",children:"‚Ä¢"}),e.jsx("span",{children:typeof a=="string"?a:a.name||a.description})]},h))})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsx(wt,{startYear:2024,endYear:2030,color:"green"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"bg-amber-50 p-6 border-b border-amber-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx(An,{className:"w-4 h-4 text-amber-700"})}),e.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"MID-TERM"})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t.strategic_recommendations?.mid_term?.timeframe||"2027-2032"})]}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-3",children:(t.strategic_recommendations?.mid_term?.trends||[]).slice(0,4).map((a,h)=>e.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex gap-2",children:[e.jsx("span",{className:"text-amber-600 font-bold",children:"‚Ä¢"}),e.jsx("span",{children:typeof a=="string"?a:a.name||a.description})]},h))})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsx(wt,{startYear:2027,endYear:2033,color:"yellow"})})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-shadow",children:[e.jsxs("div",{className:"bg-rose-50 p-6 border-b border-rose-100",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-rose-100 flex items-center justify-center",children:e.jsx(Xe,{className:"w-4 h-4 text-rose-700"})}),e.jsx("h3",{className:"font-bold text-sm text-gray-900",children:"LONG-TERM (2032+)"})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700",children:t.strategic_recommendations?.long_term?.timeframe||"2032+"})]}),e.jsx("div",{className:"p-6",children:e.jsx("ul",{className:"space-y-3",children:(t.strategic_recommendations?.long_term?.trends||[]).slice(0,4).map((a,h)=>e.jsxs("li",{className:"text-sm text-gray-700 leading-relaxed flex gap-2",children:[e.jsx("span",{className:"text-rose-600 font-bold",children:"‚Ä¢"}),e.jsx("span",{children:typeof a=="string"?a:a.name||a.description})]},h))})}),e.jsx("div",{className:"px-6 pb-6",children:e.jsx(wt,{startYear:2032,endYear:2040,color:"red"})})]})]})]}),e.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Xe,{className:"w-5 h-5 text-orange-600"}),e.jsx("h2",{className:"text-xl font-bold",children:"Executive Decision Framework"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:(t.executive_decision_framework?.principles||[]).map((a,h)=>e.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[e.jsx("h3",{className:"font-semibold text-sm mb-2",children:a.title||a.name}),e.jsx("p",{className:"text-sm text-gray-800",children:a.description||a.content||a.rationale})]},h))})]}),e.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Ge,{className:"w-5 h-5 text-gray-700"}),e.jsx("h2",{className:"text-xl font-bold",children:"Next Steps:"})]}),e.jsx("div",{className:"grid grid-cols-2 gap-4",children:(t.next_steps||[]).map((a,h)=>e.jsxs("div",{className:"flex gap-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center text-sm font-medium text-gray-800",children:h+1}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-sm text-gray-800",children:typeof a=="string"?a:a.action||a.description||JSON.stringify(a)})})]},h))})]})]}),x==="future-horizons"&&e.jsx(fr,{scenarios:t.scenarios||[]})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Xe,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-950 mb-2",children:"Ready to Analyze Trends"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Configure your analysis settings to get started"}),e.jsxs(K,{onClick:()=>j(!0),children:[e.jsx(gt,{className:"w-4 h-4 mr-2"}),"Configure Analysis"]})]})})})]}),e.jsx(Pa,{open:u,onOpenChange:v,profiles:n,onSave:async a=>{console.log("Saving profile:",a)}}),e.jsx(Oa,{open:f,onOpenChange:y,onComplete:()=>{window.location.reload()}})]})}Pn.createRoot(document.getElementById("root")).render(e.jsx(Ha,{}));
