import{c as x,r as i,j as e,p as C,q as A,s as M,t as D,v as T,X as E,B as b,x as L,y as B,A as I,z as P,T as $,E as F,J as R,R as H}from"./index-B3Z_wsuo.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]],U=x("cpu",O);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Z=x("folder",J);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],v=x("hard-drive",G);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],Y=x("newspaper",W);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],V=x("plus",q);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}],["path",{d:"M9.586 5.586A2 2 0 0 0 8.172 5H3a1 1 0 0 0-1 1v5.172a2 2 0 0 0 .586 1.414L8.29 18.29a2.426 2.426 0 0 0 3.42 0l3.58-3.58a2.426 2.426 0 0 0 0-3.42z",key:"135mg7"}],["circle",{cx:"6.5",cy:"9.5",r:".5",fill:"currentColor",key:"5pm5xn"}]],Q=x("tags",K),X=[{timezone:"America/Los_Angeles",city:"San Francisco"},{timezone:"America/Denver",city:"Denver"},{timezone:"America/Chicago",city:"Chicago"},{timezone:"America/New_York",city:"New York"},{timezone:"America/Sao_Paulo",city:"São Paulo"},{timezone:"Europe/London",city:"London"},{timezone:"Europe/Paris",city:"Paris"},{timezone:"Europe/Berlin",city:"Berlin"},{timezone:"Europe/Rome",city:"Rome"},{timezone:"Europe/Moscow",city:"Moscow"},{timezone:"Africa/Cairo",city:"Cairo"},{timezone:"Africa/Johannesburg",city:"Johannesburg"},{timezone:"Asia/Dubai",city:"Dubai"},{timezone:"Asia/Kolkata",city:"Mumbai"},{timezone:"Asia/Singapore",city:"Singapore"},{timezone:"Asia/Shanghai",city:"Beijing"},{timezone:"Asia/Tokyo",city:"Tokyo"},{timezone:"Asia/Seoul",city:"Seoul"},{timezone:"Australia/Sydney",city:"Sydney"},{timezone:"Pacific/Auckland",city:"Auckland"}];function ee({open:j,onOpenChange:h,currentClocks:r,onSave:f}){const[l,c]=i.useState(r);i.useEffect(()=>{c(r)},[r]);const o=a=>{const n=l.some(p=>p.timezone===a.timezone);c(n?l.filter(p=>p.timezone!==a.timezone):[...l,a])},u=()=>{f(l),h(!1)},s=a=>l.some(n=>n.timezone===a);return e.jsx(C,{open:j,onOpenChange:h,children:e.jsxs(A,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxs(M,{children:[e.jsx(D,{children:"Configure World Clocks"}),e.jsxs(T,{children:["Select the time zones you want to display. Currently showing ",l.length," clocks."]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-3 mt-4",children:X.map(a=>{const n=s(a.timezone);return e.jsxs("button",{onClick:()=>o(a),className:`flex items-center justify-between px-4 py-3 rounded-lg border-2 transition-all ${n?"border-pink-500 bg-pink-50 text-pink-700":"border-gray-200 bg-white text-gray-700 hover:border-pink-200"}`,children:[e.jsx("span",{className:"font-medium",children:a.city}),n?e.jsx(E,{className:"w-4 h-4"}):e.jsx(V,{className:"w-4 h-4 text-gray-400"})]},a.timezone)})}),e.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[e.jsx(b,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),e.jsx(b,{onClick:u,className:"bg-pink-500 hover:bg-pink-600 text-white",children:"Save Changes"})]})]})})}const se=[{timezone:"America/Los_Angeles",city:"San Francisco"},{timezone:"America/New_York",city:"New York"},{timezone:"Europe/London",city:"London"},{timezone:"Europe/Berlin",city:"Berlin"},{timezone:"Europe/Moscow",city:"Moscow"},{timezone:"Asia/Dubai",city:"Dubai"},{timezone:"Asia/Shanghai",city:"Beijing"},{timezone:"Asia/Tokyo",city:"Tokyo"}];function te(){const[j,h]=i.useState([]),[r,f]=i.useState(()=>{const t=localStorage.getItem("worldClockTimezones");return t?JSON.parse(t):se}),[l,c]=i.useState(!1),[o,u]=i.useState(null),[s,a]=i.useState(null),[n,p]=i.useState(!0);i.useEffect(()=>{const t=()=>{const d=r.map(({timezone:m,city:g})=>{const w=new Date,z=new Intl.DateTimeFormat("en-US",{timeZone:m,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),S=new Intl.DateTimeFormat("en-US",{timeZone:m,month:"short",day:"numeric"});return{timezone:m,city:g,time:z.format(w),date:S.format(w)}});h(d)};t();const y=setInterval(t,1e3);return()=>clearInterval(y)},[r]);const k=t=>{f(t),localStorage.setItem("worldClockTimezones",JSON.stringify(t))};i.useEffect(()=>{const t=async()=>{try{const[d,m]=await Promise.all([fetch("/api/dashboard/stats"),fetch("/api/health")]);if(d.ok){const g=await d.json();u(g)}if(m.ok){const g=await m.json();a(g)}}catch(d){console.error("Error fetching dashboard data:",d)}finally{p(!1)}};t();const y=setInterval(t,3e4);return()=>clearInterval(y)},[]);const _=t=>{switch(t?.toLowerCase()){case"healthy":return"bg-green-500";case"degraded":return"bg-yellow-500";case"critical":return"bg-red-500";default:return"bg-gray-500"}},N=t=>t>=90?"bg-red-500":t>=75?"bg-yellow-500":"bg-green-500";return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(L,{currentPage:"health"}),e.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[e.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx("span",{children:"Operations"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"font-medium text-gray-900",children:"System Health"}),e.jsx("span",{children:"•"}),e.jsx("span",{children:"Monitor system status and world operations"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("button",{className:"p-2 hover:bg-gray-100 rounded-md",children:e.jsx(B,{className:"w-5 h-5 text-gray-600"})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[s&&e.jsx("div",{className:"mb-6",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:[e.jsx("div",{className:`inline-block px-6 py-2 rounded-full text-white font-bold text-lg ${_(s.status)}`,children:s.status.toUpperCase()}),e.jsxs("p",{className:"text-gray-600 mt-2",children:["Uptime: ",s.uptime.days,"d ",s.uptime.hours%24,"h ",s.uptime.minutes%60,"m"]}),s.warnings&&s.warnings.length>0&&e.jsxs("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-left",children:[e.jsx("p",{className:"font-semibold text-yellow-800 mb-2",children:"⚠ Warnings:"}),e.jsx("ul",{className:"list-disc list-inside text-yellow-700 text-sm",children:s.warnings.map((t,y)=>e.jsx("li",{children:t},y))})]})]})}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md mb-6 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[e.jsx(I,{className:"w-5 h-5"}),"World Clock"]}),e.jsxs(b,{variant:"outline",size:"sm",onClick:()=>c(!0),className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-4 h-4"}),"Configure"]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-8 gap-4",children:j.map(t=>e.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 hover:bg-white hover:shadow-md transition-all",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-700 mb-1",children:t.city}),e.jsx("div",{className:"text-lg font-mono text-pink-500",children:t.time}),e.jsx("div",{className:"text-xs text-gray-500",children:t.date})]},t.timezone))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href="/database-editor",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Total Articles"}),e.jsx("p",{className:"text-3xl font-bold text-pink-500",children:o?.total_articles||0})]}),e.jsx(Y,{className:"w-12 h-12 text-pink-200"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href="/keyword-alerts",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Articles Today"}),e.jsx("p",{className:"text-3xl font-bold text-pink-500",children:o?.articles_today||0})]}),e.jsx($,{className:"w-12 h-12 text-pink-200"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href="/keyword-monitor",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Keyword Groups"}),e.jsx("p",{className:"text-3xl font-bold text-pink-500",children:o?.keyword_groups||0})]}),e.jsx(Q,{className:"w-12 h-12 text-pink-200"})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>window.location.href="/create_topic",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-sm",children:"Topics"}),e.jsx("p",{className:"text-3xl font-bold text-pink-500",children:o?.topics||0})]}),e.jsx(Z,{className:"w-12 h-12 text-pink-200"})]})})]}),s&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Detailed Metrics"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b-2 border-pink-500",children:[e.jsx(U,{className:"w-6 h-6 text-pink-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"CPU"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Process:"}),e.jsxs("span",{className:"font-semibold",children:[s.cpu.process_percent,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"System:"}),e.jsxs("span",{className:"font-semibold",children:[s.cpu.system_percent,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Cores:"}),e.jsx("span",{className:"font-semibold",children:s.cpu.core_count})]}),s.cpu.load_average&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Load (1/5/15m):"}),e.jsx("span",{className:"font-semibold text-xs",children:s.cpu.load_average.map(t=>t.toFixed(2)).join(" / ")})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b-2 border-pink-500",children:[e.jsx(v,{className:"w-6 h-6 text-pink-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Memory"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Process RSS:"}),e.jsxs("span",{className:"font-semibold",children:[s.memory.process.rss_mb," MB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Process %:"}),e.jsxs("span",{className:"font-semibold",children:[s.memory.process.percent,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Threads:"}),e.jsx("span",{className:"font-semibold",children:s.memory.process.num_threads})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"System:"}),e.jsxs("span",{className:"font-semibold",children:[s.memory.system.used_gb," / ",s.memory.system.total_gb," GB"]})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:e.jsxs("div",{className:`h-full flex items-center justify-center text-white text-xs font-semibold ${N(s.memory.system.percent)}`,style:{width:`${s.memory.system.percent}%`},children:[s.memory.system.percent,"%"]})})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b-2 border-pink-500",children:[e.jsx(v,{className:"w-6 h-6 text-pink-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Disk"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Used:"}),e.jsxs("span",{className:"font-semibold",children:[s.disk.root.used_gb," / ",s.disk.root.total_gb," GB"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Free:"}),e.jsxs("span",{className:"font-semibold",children:[s.disk.root.free_gb," GB"]})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:e.jsxs("div",{className:`h-full flex items-center justify-center text-white text-xs font-semibold ${N(s.disk.root.percent)}`,style:{width:`${s.disk.root.percent}%`},children:[s.disk.root.percent,"%"]})})})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4 pb-3 border-b-2 border-pink-500",children:[e.jsx(F,{className:"w-6 h-6 text-pink-500"}),e.jsx("h3",{className:"text-lg font-semibold",children:"File Descriptors"})]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Open:"}),e.jsxs("span",{className:"font-semibold",children:[s.file_descriptors.open," / ",s.file_descriptors.soft_limit]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Available:"}),e.jsx("span",{className:"font-semibold",children:s.file_descriptors.available})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Connections:"}),e.jsx("span",{className:"font-semibold",children:s.file_descriptors.connections})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Files:"}),e.jsx("span",{className:"font-semibold",children:s.file_descriptors.files})]}),e.jsx("div",{className:"mt-3",children:e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 overflow-hidden",children:e.jsxs("div",{className:`h-full flex items-center justify-center text-white text-xs font-semibold ${N(s.file_descriptors.usage_percent)}`,style:{width:`${s.file_descriptors.usage_percent}%`},children:[s.file_descriptors.usage_percent,"%"]})})})]})]})]})]}),n&&!s&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500 mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading system metrics..."})]})]})})]}),e.jsx(ee,{open:l,onOpenChange:c,currentClocks:r,onSave:k})]})}R.createRoot(document.getElementById("root")).render(e.jsx(H.StrictMode,{children:e.jsx(te,{})}));
